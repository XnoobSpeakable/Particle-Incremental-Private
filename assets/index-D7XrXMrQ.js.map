{"version":3,"file":"index-D7XrXMrQ.js","sources":["../../node_modules/break_eternity.js/dist/break_eternity.esm.js","../../src/util.ts","../../src/player.ts","../../src/music.ts","../../src/upgrades.ts","../../src/achievements.ts","../../src/features.ts","../../src/main.ts"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\n/**\r\n * A LRU cache intended for caching pure functions.\r\n */\nvar LRUCache = /*#__PURE__*/function () {\n  /**\r\n   * @param maxSize The maximum size for this cache. We recommend setting this\r\n   * to be one less than a power of 2, as most hashtables - including V8's\r\n   * Object hashtable (https://crsrc.org/c/v8/src/objects/ordered-hash-table.cc)\r\n   * - uses powers of two for hashtable sizes. It can't exactly be a power of\r\n   * two, as a .set() call could temporarily set the size of the map to be\r\n   * maxSize + 1.\r\n   */\n  function LRUCache(maxSize) {\n    _classCallCheck(this, LRUCache);\n\n    this.map = new Map(); // Invariant: Exactly one of the below is true before and after calling a\n    // LRUCache method:\n    // - first and last are both undefined, and map.size() is 0.\n    // - first and last are the same object, and map.size() is 1.\n    // - first and last are different objects, and map.size() is greater than 1.\n\n    this.first = undefined;\n    this.last = undefined;\n    this.maxSize = maxSize;\n  }\n\n  _createClass(LRUCache, [{\n    key: \"size\",\n    get: function get() {\n      return this.map.size;\n    }\n    /**\r\n     * Gets the specified key from the cache, or undefined if it is not in the\r\n     * cache.\r\n     * @param key The key to get.\r\n     * @returns The cached value, or undefined if key is not in the cache.\r\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var node = this.map.get(key);\n\n      if (node === undefined) {\n        return undefined;\n      } // It is guaranteed that there is at least one item in the cache.\n      // Therefore, first and last are guaranteed to be a ListNode...\n      // but if there is only one item, they might be the same.\n      // Update the order of the list to make this node the first node in the\n      // list.\n      // This isn't needed if this node is already the first node in the list.\n\n\n      if (node !== this.first) {\n        // As this node is DIFFERENT from the first node, it is guaranteed that\n        // there are at least two items in the cache.\n        // However, this node could possibly be the last item.\n        if (node === this.last) {\n          // This node IS the last node.\n          this.last = node.prev; // From the invariants, there must be at least two items in the cache,\n          // so node - which is the original \"last node\" - must have a defined\n          // previous node. Therefore, this.last - set above - must be defined\n          // here.\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n          this.last.next = undefined;\n        } else {\n          // This node is somewhere in the middle of the list, so there must be at\n          // least THREE items in the list, and this node's prev and next must be\n          // defined here.\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          node.prev.next = node.next; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n          node.next.prev = node.prev;\n        }\n\n        node.next = this.first; // From the invariants, there must be at least two items in the cache, so\n        // this.first must be a valid ListNode.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n        this.first.prev = node;\n        this.first = node;\n      }\n\n      return node.value;\n    }\n    /**\r\n     * Sets an entry in the cache.\r\n     *\r\n     * @param key The key of the entry.\r\n     * @param value The value of the entry.\r\n     * @throws Error, if the map already contains the key.\r\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      // Ensure that this.maxSize >= 1.\n      if (this.maxSize < 1) {\n        return;\n      }\n\n      if (this.map.has(key)) {\n        throw new Error(\"Cannot update existing keys in the cache\");\n      }\n\n      var node = new ListNode(key, value); // Move node to the front of the list.\n\n      if (this.first === undefined) {\n        // If the first is undefined, the last is undefined too.\n        // Therefore, this cache has no items in it.\n        this.first = node;\n        this.last = node;\n      } else {\n        // This cache has at least one item in it.\n        node.next = this.first;\n        this.first.prev = node;\n        this.first = node;\n      }\n\n      this.map.set(key, node);\n\n      while (this.map.size > this.maxSize) {\n        // We are guaranteed that this.maxSize >= 1,\n        // so this.map.size is guaranteed to be >= 2,\n        // so this.first and this.last must be different valid ListNodes,\n        // and this.last.prev must also be a valid ListNode (possibly this.first).\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        var last = this.last;\n        this.map[\"delete\"](last.key);\n        this.last = last.prev; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n        this.last.next = undefined;\n      }\n    }\n  }]);\n\n  return LRUCache;\n}();\n/**\r\n * A node in a doubly linked list.\r\n */\n\nvar ListNode = /*#__PURE__*/_createClass(function ListNode(key, value) {\n  _classCallCheck(this, ListNode);\n\n  this.next = undefined;\n  this.prev = undefined;\n  this.key = key;\n  this.value = value;\n});\n\nvar MAX_SIGNIFICANT_DIGITS = 17; //Maximum number of digits of precision to assume in Number\n\nvar EXP_LIMIT = 9e15; //If we're ABOVE this value, increase a layer. (9e15 is close to the largest integer that can fit in a Number.)\n\nvar LAYER_DOWN = Math.log10(9e15);\nvar FIRST_NEG_LAYER = 1 / 9e15; //At layer 0, smaller non-zero numbers than this become layer 1 numbers with negative mag. After that the pattern continues as normal.\n\nvar NUMBER_EXP_MAX = 308; //The largest exponent that can appear in a Number, though not all mantissas are valid here.\n\nvar NUMBER_EXP_MIN = -324; //The smallest exponent that can appear in a Number, though not all mantissas are valid here.\n\nvar MAX_ES_IN_A_ROW = 5; //For default toString behaviour, when to swap from eee... to (e^n) syntax.\n\nvar DEFAULT_FROM_STRING_CACHE_SIZE = (1 << 10) - 1; // The default size of the LRU cache used to cache Decimal.fromString.\n\nvar powerOf10 = function () {\n  // We need this lookup table because Math.pow(10, exponent)\n  // when exponent's absolute value is large is slightly inaccurate.\n  // You can fix it with the power of math... or just make a lookup table.\n  // Faster AND simpler\n  var powersOf10 = [];\n\n  for (var i = NUMBER_EXP_MIN + 1; i <= NUMBER_EXP_MAX; i++) {\n    powersOf10.push(Number(\"1e\" + i));\n  }\n\n  var indexOf0InPowersOf10 = 323;\n  return function (power) {\n    return powersOf10[power + indexOf0InPowersOf10];\n  };\n}(); //tetration/slog to real height stuff\n//background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\n\n\nvar critical_headers = [2, Math.E, 3, 4, 5, 6, 7, 8, 9, 10];\nvar critical_tetr_values = [[// Base 2 (using http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html )\n1, 1.0891180521811202527, 1.1789767925673958433, 1.2701455431742086633, 1.3632090180450091941, 1.4587818160364217007, 1.5575237916251418333, 1.6601571006859253673, 1.7674858188369780435, 1.8804192098842727359, 2], [// Base E (using http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html )\n1, 1.1121114330934078681, 1.2310389249316089299, 1.3583836963111376089, 1.4960519303993531879, 1.6463542337511945810, 1.8121385357018724464, 1.9969713246183068478, 2.2053895545527544330, 2.4432574483385252544, Math.E //1.0\n], [// Base 3\n1, 1.1187738849693603, 1.2464963939368214, 1.38527004705667, 1.5376664685821402, 1.7068895236551784, 1.897001227148399, 2.1132403089001035, 2.362480153784171, 2.6539010333870774, 3], [// Base 4\n1, 1.1367350847096405, 1.2889510672956703, 1.4606478703324786, 1.6570295196661111, 1.8850062585672889, 2.1539465047453485, 2.476829779693097, 2.872061932789197, 3.3664204535587183, 4], [// Base 5\n1, 1.1494592900767588, 1.319708228183931, 1.5166291280087583, 1.748171114438024, 2.0253263297298045, 2.3636668498288547, 2.7858359149579424, 3.3257226212448145, 4.035730287722532, 5], [// Base 6\n1, 1.159225940787673, 1.343712473580932, 1.5611293155111927, 1.8221199554561318, 2.14183924486326, 2.542468319282638, 3.0574682501653316, 3.7390572020926873, 4.6719550537360774, 6], [// Base 7\n1, 1.1670905356972596, 1.3632807444991446, 1.5979222279405536, 1.8842640123816674, 2.2416069644878687, 2.69893426559423, 3.3012632110403577, 4.121250340630164, 5.281493033448316, 7], [// Base 8\n1, 1.1736630594087796, 1.379783782386201, 1.6292821855668218, 1.9378971836180754, 2.3289975651071977, 2.8384347394720835, 3.5232708454565906, 4.478242031114584, 5.868592169644505, 8], [// Base 9\n1, 1.1793017514670474, 1.394054150657457, 1.65664127441059, 1.985170999970283, 2.4069682290577457, 2.9647310119960752, 3.7278665320924946, 4.814462547283592, 6.436522247411611, 9], [// Base 10 (using http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html )\n1, 1.1840100246247336579, 1.4061375836156954169, 1.6802272208863963918, 2.026757028388618927, 2.4770056063449647580, 3.0805252717554819987, 3.9191964192627283911, 5.1351528408331864230, 6.9899611795347148455, 10]];\nvar critical_slog_values = [[// Base 2\n-1, -0.9194161097107025, -0.8335625019330468, -0.7425599821143978, -0.6466611521029437, -0.5462617907227869, -0.4419033816638769, -0.3342645487554494, -0.224140440909962, -0.11241087890006762, 0], [// Base E\n-1, -0.90603157029014, -0.80786507256596, -0.7064666939634, -0.60294836853664, -0.49849837513117, -0.39430303318768, -0.29147201034755, -0.19097820800866, -0.09361896280296, 0 //1.0\n], [// Base 3\n-1, -0.9021579584316141, -0.8005762598234203, -0.6964780623319391, -0.5911906810998454, -0.486050182576545, -0.3823089430815083, -0.28106046722897615, -0.1831906535795894, -0.08935809204418144, 0], [// Base 4\n-1, -0.8917227442365535, -0.781258746326964, -0.6705130326902455, -0.5612813129406509, -0.4551067709033134, -0.35319256652135966, -0.2563741554088552, -0.1651412821106526, -0.0796919581982668, 0], [// Base 5\n-1, -0.8843387974366064, -0.7678744063886243, -0.6529563724510552, -0.5415870994657841, -0.4352842206588936, -0.33504449124791424, -0.24138853420685147, -0.15445285440944467, -0.07409659641336663, 0], [// Base 6\n-1, -0.8786709358426346, -0.7577735191184886, -0.6399546189952064, -0.527284921869926, -0.4211627631006314, -0.3223479611761232, -0.23107655627789858, -0.1472057700818259, -0.07035171210706326, 0], [// Base 7\n-1, -0.8740862815291583, -0.7497032990976209, -0.6297119746181752, -0.5161838335958787, -0.41036238255751956, -0.31277212146489963, -0.2233976621705518, -0.1418697367979619, -0.06762117662323441, 0], [// Base 8\n-1, -0.8702632331800649, -0.7430366914122081, -0.6213373075161548, -0.5072025698095242, -0.40171437727184167, -0.30517930701410456, -0.21736343968190863, -0.137710238299109, -0.06550774483471955, 0], [// Base 9\n-1, -0.8670016295947213, -0.7373984232432306, -0.6143173985094293, -0.49973884395492807, -0.394584953527678, -0.2989649949848695, -0.21245647317021688, -0.13434688362382652, -0.0638072667348083, 0], [// Base 10\n-1, -0.8641642839543857, -0.732534623168535, -0.6083127477059322, -0.4934049257184696, -0.3885773075899922, -0.29376029055315767, -0.2083678561173622, -0.13155653399373268, -0.062401588652553186, 0]];\n\nvar D = function D(value) {\n  return Decimal.fromValue_noAlloc(value);\n};\n\nvar FC = function FC(sign, layer, mag) {\n  return Decimal.fromComponents(sign, layer, mag);\n};\n\nvar FC_NN = function FC_NN(sign, layer, mag) {\n  return Decimal.fromComponents_noNormalize(sign, layer, mag);\n}; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nvar decimalPlaces = function decimalPlaces(value, places) {\n  var len = places + 1;\n  var numDigits = Math.ceil(Math.log10(Math.abs(value)));\n  var rounded = Math.round(value * Math.pow(10, len - numDigits)) * Math.pow(10, numDigits - len);\n  return parseFloat(rounded.toFixed(Math.max(len - numDigits, 0)));\n};\n\nvar f_maglog10 = function f_maglog10(n) {\n  return Math.sign(n) * Math.log10(Math.abs(n));\n}; //from HyperCalc source code\n\n\nvar f_gamma = function f_gamma(n) {\n  if (!isFinite(n)) {\n    return n;\n  }\n\n  if (n < -50) {\n    if (n === Math.trunc(n)) {\n      return Number.NEGATIVE_INFINITY;\n    }\n\n    return 0;\n  }\n\n  var scal1 = 1;\n\n  while (n < 10) {\n    scal1 = scal1 * n;\n    ++n;\n  }\n\n  n -= 1;\n  var l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n\n  l = l + (n + 0.5) * Math.log(n);\n  l = l - n;\n  var n2 = n * n;\n  var np = n;\n  l = l + 1 / (12 * np);\n  np = np * n2;\n  l = l + 1 / (360 * np);\n  np = np * n2;\n  l = l + 1 / (1260 * np);\n  np = np * n2;\n  l = l + 1 / (1680 * np);\n  np = np * n2;\n  l = l + 1 / (1188 * np);\n  np = np * n2;\n  l = l + 691 / (360360 * np);\n  np = np * n2;\n  l = l + 7 / (1092 * np);\n  np = np * n2;\n  l = l + 3617 / (122400 * np);\n  return Math.exp(l) / scal1;\n};\n\nvar _EXPN1 = 0.36787944117144232159553; // exp(-1)\n\nvar OMEGA = 0.56714329040978387299997; // W(1, 0)\n//from https://math.stackexchange.com/a/465183\n// The evaluation can become inaccurate very close to the branch point\n\nvar f_lambertw = function f_lambertw(z) {\n  var tol = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e-10;\n  var w;\n  var wn;\n\n  if (!Number.isFinite(z)) {\n    return z;\n  }\n\n  if (z === 0) {\n    return z;\n  }\n\n  if (z === 1) {\n    return OMEGA;\n  }\n\n  if (z < 10) {\n    w = 0;\n  } else {\n    w = Math.log(z) - Math.log(Math.log(z));\n  }\n\n  for (var i = 0; i < 100; ++i) {\n    wn = (z * Math.exp(-w) + w * w) / (w + 1);\n\n    if (Math.abs(wn - w) < tol * Math.abs(wn)) {\n      return wn;\n    } else {\n      w = wn;\n    }\n  }\n\n  throw Error(\"Iteration failed to converge: \".concat(z.toString())); //return Number.NaN;\n}; //from https://github.com/scipy/scipy/blob/8dba340293fe20e62e173bdf2c10ae208286692f/scipy/special/lambertw.pxd\n// The evaluation can become inaccurate very close to the branch point\n// at ``-1/e``. In some corner cases, `lambertw` might currently\n// fail to converge, or can end up on the wrong branch.\n\n\nfunction d_lambertw(z) {\n  var tol = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e-10;\n  var w;\n  var ew, wewz, wn;\n\n  if (!Number.isFinite(z.mag)) {\n    return z;\n  }\n\n  if (z.eq(Decimal.dZero)) {\n    return z;\n  }\n\n  if (z.eq(Decimal.dOne)) {\n    //Split out this case because the asymptotic series blows up\n    return Decimal.fromNumber(OMEGA);\n  } //Get an initial guess for Halley's method\n\n\n  w = Decimal.ln(z); //Halley's method; see 5.9 in [1]\n\n  for (var i = 0; i < 100; ++i) {\n    ew = w.neg().exp();\n    wewz = w.sub(z.mul(ew));\n    wn = w.sub(wewz.div(w.add(1).sub(w.add(2).mul(wewz).div(Decimal.mul(2, w).add(2)))));\n\n    if (Decimal.abs(wn.sub(w)).lt(Decimal.abs(wn).mul(tol))) {\n      return wn;\n    } else {\n      w = wn;\n    }\n  }\n\n  throw Error(\"Iteration failed to converge: \".concat(z.toString())); //return Decimal.dNaN;\n}\n/**\r\n * The value of the Decimal is sign * 10^10^10...^mag, with (layer) 10s. If the layer is not 0, then negative mag means it's the reciprocal of the corresponding number with positive mag.\r\n */\n\n\nvar Decimal = /*#__PURE__*/function () {\n  function Decimal(value) {\n    _classCallCheck(this, Decimal);\n\n    this.sign = 0;\n    this.mag = 0;\n    this.layer = 0;\n\n    if (value instanceof Decimal) {\n      this.fromDecimal(value);\n    } else if (typeof value === \"number\") {\n      this.fromNumber(value);\n    } else if (typeof value === \"string\") {\n      this.fromString(value);\n    }\n  }\n\n  _createClass(Decimal, [{\n    key: \"m\",\n    get: function get() {\n      if (this.sign === 0) {\n        return 0;\n      } else if (this.layer === 0) {\n        var exp = Math.floor(Math.log10(this.mag)); //handle special case 5e-324\n\n        var man;\n\n        if (this.mag === 5e-324) {\n          man = 5;\n        } else {\n          man = this.mag / powerOf10(exp);\n        }\n\n        return this.sign * man;\n      } else if (this.layer === 1) {\n        var residue = this.mag - Math.floor(this.mag);\n        return this.sign * Math.pow(10, residue);\n      } else {\n        //mantissa stops being relevant past 1e9e15 / ee15.954\n        return this.sign;\n      }\n    },\n    set: function set(value) {\n      if (this.layer <= 2) {\n        this.fromMantissaExponent(value, this.e);\n      } else {\n        //don't even pretend mantissa is meaningful\n        this.sign = Math.sign(value);\n\n        if (this.sign === 0) {\n          this.layer = 0;\n          this.exponent = 0;\n        }\n      }\n    }\n  }, {\n    key: \"e\",\n    get: function get() {\n      if (this.sign === 0) {\n        return 0;\n      } else if (this.layer === 0) {\n        return Math.floor(Math.log10(this.mag));\n      } else if (this.layer === 1) {\n        return Math.floor(this.mag);\n      } else if (this.layer === 2) {\n        return Math.floor(Math.sign(this.mag) * Math.pow(10, Math.abs(this.mag)));\n      } else {\n        return this.mag * Number.POSITIVE_INFINITY;\n      }\n    },\n    set: function set(value) {\n      this.fromMantissaExponent(this.m, value);\n    }\n  }, {\n    key: \"s\",\n    get: function get() {\n      return this.sign;\n    },\n    set: function set(value) {\n      if (value === 0) {\n        this.sign = 0;\n        this.layer = 0;\n        this.mag = 0;\n      } else {\n        this.sign = value;\n      }\n    } // Object.defineProperty(Decimal.prototype, \"mantissa\", {\n\n  }, {\n    key: \"mantissa\",\n    get: function get() {\n      return this.m;\n    },\n    set: function set(value) {\n      this.m = value;\n    }\n  }, {\n    key: \"exponent\",\n    get: function get() {\n      return this.e;\n    },\n    set: function set(value) {\n      this.e = value;\n    }\n    /**\r\n     * Turns the given components into a valid Decimal.\r\n     */\n\n  }, {\n    key: \"normalize\",\n    value:\n    /**\r\n     * Turns the Decimal into a valid Decimal. This function is meant for internal purposes - users of this library should not need to use normalize.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n    function normalize() {\n      /*\r\n      PSEUDOCODE:\r\n      Whenever we are partially 0 (sign is 0 or mag and layer is 0), make it fully 0.\r\n      Whenever we are at or hit layer 0, extract sign from negative mag.\r\n      If layer === 0 and mag < FIRST_NEG_LAYER (1/9e15), shift to 'first negative layer' (add layer, log10 mag).\r\n      While abs(mag) > EXP_LIMIT (9e15), layer += 1, mag = maglog10(mag).\r\n      While abs(mag) < LAYER_DOWN (15.954) and layer > 0, layer -= 1, mag = pow(10, mag).\r\n            When we're done, all of the following should be true OR one of the numbers is not IsFinite OR layer is not IsInteger (error state):\r\n      Any 0 is totally zero (0, 0, 0) and any NaN is totally NaN (NaN, NaN, NaN).\r\n      Anything layer 0 has mag 0 OR mag > 1/9e15 and < 9e15.\r\n      Anything layer 1 or higher has abs(mag) >= 15.954 and < 9e15.\r\n      Any positive infinity is (1, Infinity, Infinity) and any negative infinity is (-1, -Infinity, -Infinity).\r\n      We will assume in calculations that all Decimals are either erroneous or satisfy these criteria. (Otherwise: Garbage in, garbage out.)\r\n      */\n      //Any 0 is totally 0\n      if (this.sign === 0 || this.mag === 0 && this.layer === 0 || this.mag === Number.NEGATIVE_INFINITY && this.layer > 0 && Number.isFinite(this.layer)) {\n        this.sign = 0;\n        this.mag = 0;\n        this.layer = 0;\n        return this;\n      } //extract sign from negative mag at layer 0\n\n\n      if (this.layer === 0 && this.mag < 0) {\n        this.mag = -this.mag;\n        this.sign = -this.sign;\n      } //Handle infinities\n\n\n      if (this.mag === Number.POSITIVE_INFINITY || this.layer === Number.POSITIVE_INFINITY || this.mag === Number.NEGATIVE_INFINITY || this.layer === Number.NEGATIVE_INFINITY) {\n        if (this.sign == 1) {\n          this.mag = Number.POSITIVE_INFINITY;\n          this.layer = Number.POSITIVE_INFINITY;\n        } else if (this.sign == -1) {\n          this.mag = Number.NEGATIVE_INFINITY;\n          this.layer = Number.NEGATIVE_INFINITY;\n        }\n\n        return this;\n      } //Handle shifting from layer 0 to negative layers.\n\n\n      if (this.layer === 0 && this.mag < FIRST_NEG_LAYER) {\n        this.layer += 1;\n        this.mag = Math.log10(this.mag);\n        return this;\n      }\n\n      var absmag = Math.abs(this.mag);\n      var signmag = Math.sign(this.mag);\n\n      if (absmag >= EXP_LIMIT) {\n        this.layer += 1;\n        this.mag = signmag * Math.log10(absmag);\n        return this;\n      } else {\n        while (absmag < LAYER_DOWN && this.layer > 0) {\n          this.layer -= 1;\n\n          if (this.layer === 0) {\n            this.mag = Math.pow(10, this.mag);\n          } else {\n            this.mag = signmag * Math.pow(10, absmag);\n            absmag = Math.abs(this.mag);\n            signmag = Math.sign(this.mag);\n          }\n        }\n\n        if (this.layer === 0) {\n          if (this.mag < 0) {\n            //extract sign from negative mag at layer 0\n            this.mag = -this.mag;\n            this.sign = -this.sign;\n          } else if (this.mag === 0) {\n            //excessive rounding can give us all zeroes\n            this.sign = 0;\n          }\n        }\n      }\n\n      if (Number.isNaN(this.sign) || Number.isNaN(this.layer) || Number.isNaN(this.mag)) {\n        this.sign = Number.NaN;\n        this.layer = Number.NaN;\n        this.mag = Number.NaN;\n      }\n\n      return this;\n    }\n    /**\r\n     * Turns the given components into a valid Decimal.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromComponents\",\n    value: function fromComponents(sign, layer, mag) {\n      this.sign = sign;\n      this.layer = layer;\n      this.mag = mag;\n      this.normalize();\n      return this;\n    }\n    /**\r\n     * Turns the given components into a Decimal, but not necessarily a valid one (it's only valid if the components would already create a valid Decimal without normalization). Users of this library should not use this function.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromComponents_noNormalize\",\n    value: function fromComponents_noNormalize(sign, layer, mag) {\n      this.sign = sign;\n      this.layer = layer;\n      this.mag = mag;\n      return this;\n    }\n    /**\r\n     * Turns the mantissa and exponent into a valid Decimal with value mantissa * 10^exponent.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromMantissaExponent\",\n    value: function fromMantissaExponent(mantissa, exponent) {\n      this.layer = 1;\n      this.sign = Math.sign(mantissa);\n      mantissa = Math.abs(mantissa);\n      this.mag = exponent + Math.log10(mantissa);\n      this.normalize();\n      return this;\n    }\n    /**\r\n     * Turns the mantissa and exponent into a Decimal, but not necessarily a valid one. Users of this library should not use this function.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromMantissaExponent_noNormalize\",\n    value: function fromMantissaExponent_noNormalize(mantissa, exponent) {\n      //The idea of 'normalizing' a break_infinity.js style Decimal doesn't really apply. So just do the same thing.\n      this.fromMantissaExponent(mantissa, exponent);\n      return this;\n    }\n    /**\r\n     * Turns the Decimal that this function is called on into a deep copy of the provided value.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromDecimal\",\n    value: function fromDecimal(value) {\n      this.sign = value.sign;\n      this.layer = value.layer;\n      this.mag = value.mag;\n      return this;\n    }\n    /**\r\n     * Converts a floating-point number into a Decimal.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(value) {\n      this.mag = Math.abs(value);\n      this.sign = Math.sign(value);\n      this.layer = 0;\n      this.normalize();\n      return this;\n    }\n    /**\r\n     * Converts a string into a Decimal.\r\n     *\r\n     * If linearhyper4 is true, then strings like \"10^^8.5\" will use the linear approximation of tetration even for bases <= 10.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(value) {\n      var linearhyper4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var originalValue = value;\n      var cached = Decimal.fromStringCache.get(originalValue);\n\n      if (cached !== undefined) {\n        return this.fromDecimal(cached);\n      }\n\n      {\n        value = value.replace(\",\", \"\");\n      } //Handle x^^^y format. Note that no linearhyper5 parameter is needed, as pentation has no analytic approximation.\n\n\n      var pentationparts = value.split(\"^^^\");\n\n      if (pentationparts.length === 2) {\n        var _base = parseFloat(pentationparts[0]);\n\n        var _height = parseFloat(pentationparts[1]);\n\n        var heightparts = pentationparts[1].split(\";\");\n        var payload = 1;\n\n        if (heightparts.length === 2) {\n          payload = parseFloat(heightparts[1]);\n\n          if (!isFinite(payload)) {\n            payload = 1;\n          }\n        }\n\n        if (isFinite(_base) && isFinite(_height)) {\n          var result = Decimal.pentate(_base, _height, payload, linearhyper4);\n          this.sign = result.sign;\n          this.layer = result.layer;\n          this.mag = result.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //Handle x^^y format.\n\n\n      var tetrationparts = value.split(\"^^\");\n\n      if (tetrationparts.length === 2) {\n        var _base2 = parseFloat(tetrationparts[0]);\n\n        var _height2 = parseFloat(tetrationparts[1]);\n\n        var _heightparts = tetrationparts[1].split(\";\");\n\n        var _payload = 1;\n\n        if (_heightparts.length === 2) {\n          _payload = parseFloat(_heightparts[1]);\n\n          if (!isFinite(_payload)) {\n            _payload = 1;\n          }\n        }\n\n        if (isFinite(_base2) && isFinite(_height2)) {\n          var _result = Decimal.tetrate(_base2, _height2, _payload, linearhyper4);\n\n          this.sign = _result.sign;\n          this.layer = _result.layer;\n          this.mag = _result.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //Handle x^y format.\n\n\n      var powparts = value.split(\"^\");\n\n      if (powparts.length === 2) {\n        var _base3 = parseFloat(powparts[0]);\n\n        var _exponent = parseFloat(powparts[1]);\n\n        if (isFinite(_base3) && isFinite(_exponent)) {\n          var _result2 = Decimal.pow(_base3, _exponent);\n\n          this.sign = _result2.sign;\n          this.layer = _result2.layer;\n          this.mag = _result2.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //Handle various cases involving it being a Big Number.\n\n\n      value = value.trim().toLowerCase(); //handle X PT Y format.\n\n      var base;\n      var height;\n      var ptparts = value.split(\"pt\");\n\n      if (ptparts.length === 2) {\n        base = 10;\n        height = parseFloat(ptparts[0]);\n        ptparts[1] = ptparts[1].replace(\"(\", \"\");\n        ptparts[1] = ptparts[1].replace(\")\", \"\");\n\n        var _payload2 = parseFloat(ptparts[1]);\n\n        if (!isFinite(_payload2)) {\n          _payload2 = 1;\n        }\n\n        if (isFinite(base) && isFinite(height)) {\n          var _result3 = Decimal.tetrate(base, height, _payload2, linearhyper4);\n\n          this.sign = _result3.sign;\n          this.layer = _result3.layer;\n          this.mag = _result3.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //handle XpY format (it's the same thing just with p).\n\n\n      ptparts = value.split(\"p\");\n\n      if (ptparts.length === 2) {\n        base = 10;\n        height = parseFloat(ptparts[0]);\n        ptparts[1] = ptparts[1].replace(\"(\", \"\");\n        ptparts[1] = ptparts[1].replace(\")\", \"\");\n\n        var _payload3 = parseFloat(ptparts[1]);\n\n        if (!isFinite(_payload3)) {\n          _payload3 = 1;\n        }\n\n        if (isFinite(base) && isFinite(height)) {\n          var _result4 = Decimal.tetrate(base, height, _payload3, linearhyper4);\n\n          this.sign = _result4.sign;\n          this.layer = _result4.layer;\n          this.mag = _result4.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //handle XFY format\n\n\n      ptparts = value.split(\"f\");\n\n      if (ptparts.length === 2) {\n        base = 10;\n        ptparts[0] = ptparts[0].replace(\"(\", \"\");\n        ptparts[0] = ptparts[0].replace(\")\", \"\");\n\n        var _payload4 = parseFloat(ptparts[0]);\n\n        ptparts[1] = ptparts[1].replace(\"(\", \"\");\n        ptparts[1] = ptparts[1].replace(\")\", \"\");\n        height = parseFloat(ptparts[1]);\n\n        if (!isFinite(_payload4)) {\n          _payload4 = 1;\n        }\n\n        if (isFinite(base) && isFinite(height)) {\n          var _result5 = Decimal.tetrate(base, height, _payload4, linearhyper4);\n\n          this.sign = _result5.sign;\n          this.layer = _result5.layer;\n          this.mag = _result5.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      }\n\n      var parts = value.split(\"e\");\n      var ecount = parts.length - 1; //Handle numbers that are exactly floats (0 or 1 es).\n\n      if (ecount === 0) {\n        var numberAttempt = parseFloat(value);\n\n        if (isFinite(numberAttempt)) {\n          this.fromNumber(numberAttempt);\n\n          if (Decimal.fromStringCache.size >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } else if (ecount === 1) {\n        //Very small numbers (\"2e-3000\" and so on) may look like valid floats but round to 0.\n        var _numberAttempt = parseFloat(value);\n\n        if (isFinite(_numberAttempt) && _numberAttempt !== 0) {\n          this.fromNumber(_numberAttempt);\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        }\n      } //Handle new (e^N)X format.\n\n\n      var newparts = value.split(\"e^\");\n\n      if (newparts.length === 2) {\n        this.sign = 1;\n\n        if (newparts[0].charAt(0) == \"-\") {\n          this.sign = -1;\n        }\n\n        var layerstring = \"\";\n\n        for (var i = 0; i < newparts[1].length; ++i) {\n          var chrcode = newparts[1].charCodeAt(i);\n\n          if (chrcode >= 43 && chrcode <= 57 || chrcode === 101) {\n            //is \"0\" to \"9\" or \"+\" or \"-\" or \".\" or \"e\" (or \",\" or \"/\")\n            layerstring += newparts[1].charAt(i);\n          } //we found the end of the layer count\n          else {\n            this.layer = parseFloat(layerstring);\n            this.mag = parseFloat(newparts[1].substr(i + 1));\n            this.normalize();\n\n            if (Decimal.fromStringCache.maxSize >= 1) {\n              Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n            }\n\n            return this;\n          }\n        }\n      }\n\n      if (ecount < 1) {\n        this.sign = 0;\n        this.layer = 0;\n        this.mag = 0;\n\n        if (Decimal.fromStringCache.maxSize >= 1) {\n          Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n        }\n\n        return this;\n      }\n\n      var mantissa = parseFloat(parts[0]);\n\n      if (mantissa === 0) {\n        this.sign = 0;\n        this.layer = 0;\n        this.mag = 0;\n\n        if (Decimal.fromStringCache.maxSize >= 1) {\n          Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n        }\n\n        return this;\n      }\n\n      var exponent = parseFloat(parts[parts.length - 1]); //handle numbers like AeBeC and AeeeeBeC\n\n      if (ecount >= 2) {\n        var me = parseFloat(parts[parts.length - 2]);\n\n        if (isFinite(me)) {\n          exponent *= Math.sign(me);\n          exponent += f_maglog10(me);\n        }\n      } //Handle numbers written like eee... (N es) X\n\n\n      if (!isFinite(mantissa)) {\n        this.sign = parts[0] === \"-\" ? -1 : 1;\n        this.layer = ecount;\n        this.mag = exponent;\n      } //Handle numbers written like XeY\n      else if (ecount === 1) {\n        this.sign = Math.sign(mantissa);\n        this.layer = 1; //Example: 2e10 is equal to 10^log10(2e10) which is equal to 10^(10+log10(2))\n\n        this.mag = exponent + Math.log10(Math.abs(mantissa));\n      } //Handle numbers written like Xeee... (N es) Y\n      else {\n        this.sign = Math.sign(mantissa);\n        this.layer = ecount;\n\n        if (ecount === 2) {\n          var _result6 = Decimal.mul(FC(1, 2, exponent), D(mantissa));\n\n          this.sign = _result6.sign;\n          this.layer = _result6.layer;\n          this.mag = _result6.mag;\n\n          if (Decimal.fromStringCache.maxSize >= 1) {\n            Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n          }\n\n          return this;\n        } else {\n          //at eee and above, mantissa is too small to be recognizable!\n          this.mag = exponent;\n        }\n      }\n\n      this.normalize();\n\n      if (Decimal.fromStringCache.maxSize >= 1) {\n        Decimal.fromStringCache.set(originalValue, Decimal.fromDecimal(this));\n      }\n\n      return this;\n    }\n    /**\r\n     * The function used by new Decimal() to create a new Decimal. Accepts a DecimalSource: uses fromNumber if given a number, uses fromString if given a string, and uses fromDecimal if given a Decimal.\r\n     *\r\n     * Note: this function mutates the Decimal it is called on.\r\n     */\n\n  }, {\n    key: \"fromValue\",\n    value: function fromValue(value) {\n      if (value instanceof Decimal) {\n        return this.fromDecimal(value);\n      }\n\n      if (typeof value === \"number\") {\n        return this.fromNumber(value);\n      }\n\n      if (typeof value === \"string\") {\n        return this.fromString(value);\n      }\n\n      this.sign = 0;\n      this.layer = 0;\n      this.mag = 0;\n      return this;\n    }\n    /**\r\n     * Returns the numeric value of the Decimal it's called on. Will return Infinity (or -Infinity for negatives) for Decimals that are larger than Number.MAX_VALUE.\r\n     */\n\n  }, {\n    key: \"toNumber\",\n    value: function toNumber() {\n      if (this.mag === Number.POSITIVE_INFINITY && this.layer === Number.POSITIVE_INFINITY && this.sign === 1) {\n        return Number.POSITIVE_INFINITY;\n      }\n\n      if (this.mag === Number.NEGATIVE_INFINITY && this.layer === Number.NEGATIVE_INFINITY && this.sign === -1) {\n        return Number.NEGATIVE_INFINITY;\n      }\n\n      if (!Number.isFinite(this.layer)) {\n        return Number.NaN;\n      }\n\n      if (this.layer === 0) {\n        return this.sign * this.mag;\n      } else if (this.layer === 1) {\n        return this.sign * Math.pow(10, this.mag);\n      } //overflow for any normalized Decimal\n      else {\n        return this.mag > 0 ? this.sign > 0 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : 0;\n      }\n    }\n  }, {\n    key: \"mantissaWithDecimalPlaces\",\n    value: function mantissaWithDecimalPlaces(places) {\n      // https://stackoverflow.com/a/37425022\n      if (isNaN(this.m)) {\n        return Number.NaN;\n      }\n\n      if (this.m === 0) {\n        return 0;\n      }\n\n      return decimalPlaces(this.m, places);\n    }\n  }, {\n    key: \"magnitudeWithDecimalPlaces\",\n    value: function magnitudeWithDecimalPlaces(places) {\n      // https://stackoverflow.com/a/37425022\n      if (isNaN(this.mag)) {\n        return Number.NaN;\n      }\n\n      if (this.mag === 0) {\n        return 0;\n      }\n\n      return decimalPlaces(this.mag, places);\n    }\n    /**\r\n     * Returns a string representation of the Decimal it's called on.\r\n     * This string is written as a plain number for most layer 0 numbers, in scientific notation for layer 1 numbers (and layer 0 numbers below 1e-6),\r\n     * in \"ee...X\" form for numbers from layers 2 to 5, and in (e^N)X form for layer > 5.\r\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      if (isNaN(this.layer) || isNaN(this.sign) || isNaN(this.mag)) {\n        return \"NaN\";\n      }\n\n      if (this.mag === Number.POSITIVE_INFINITY || this.layer === Number.POSITIVE_INFINITY || this.mag === Number.NEGATIVE_INFINITY || this.layer === Number.NEGATIVE_INFINITY) {\n        return this.sign === 1 ? \"Infinity\" : \"-Infinity\";\n      }\n\n      if (this.layer === 0) {\n        if (this.mag < 1e21 && this.mag > 1e-7 || this.mag === 0) {\n          return (this.sign * this.mag).toString();\n        }\n\n        return this.m + \"e\" + this.e;\n      } else if (this.layer === 1) {\n        return this.m + \"e\" + this.e;\n      } else {\n        //layer 2+\n        if (this.layer <= MAX_ES_IN_A_ROW) {\n          return (this.sign === -1 ? \"-\" : \"\") + \"e\".repeat(this.layer) + this.mag;\n        } else {\n          return (this.sign === -1 ? \"-\" : \"\") + \"(e^\" + this.layer + \")\" + this.mag;\n        }\n      }\n    }\n  }, {\n    key: \"toExponential\",\n    value: function toExponential(places) {\n      if (this.layer === 0) {\n        return (this.sign * this.mag).toExponential(places);\n      }\n\n      return this.toStringWithDecimalPlaces(places);\n    }\n  }, {\n    key: \"toFixed\",\n    value: function toFixed(places) {\n      if (this.layer === 0) {\n        return (this.sign * this.mag).toFixed(places);\n      }\n\n      return this.toStringWithDecimalPlaces(places);\n    }\n  }, {\n    key: \"toPrecision\",\n    value: function toPrecision(places) {\n      if (this.e <= -7) {\n        return this.toExponential(places - 1);\n      }\n\n      if (places > this.e) {\n        return this.toFixed(places - this.exponent - 1);\n      }\n\n      return this.toExponential(places - 1);\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.toString();\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.toString();\n    }\n  }, {\n    key: \"toStringWithDecimalPlaces\",\n    value: function toStringWithDecimalPlaces(places) {\n      if (this.layer === 0) {\n        if (this.mag < 1e21 && this.mag > 1e-7 || this.mag === 0) {\n          return (this.sign * this.mag).toFixed(places);\n        }\n\n        return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n      } else if (this.layer === 1) {\n        return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n      } else {\n        //layer 2+\n        if (this.layer <= MAX_ES_IN_A_ROW) {\n          return (this.sign === -1 ? \"-\" : \"\") + \"e\".repeat(this.layer) + decimalPlaces(this.mag, places);\n        } else {\n          return (this.sign === -1 ? \"-\" : \"\") + \"(e^\" + this.layer + \")\" + decimalPlaces(this.mag, places);\n        }\n      }\n    }\n    /**\r\n     * Absolute value function: returns 'this' if 'this' >= 0, returns the negative of 'this' if this < 0.\r\n     */\n\n  }, {\n    key: \"abs\",\n    value: function abs() {\n      return FC_NN(this.sign === 0 ? 0 : 1, this.layer, this.mag);\n    }\n    /**\r\n     * Negates the Decimal it's called on: in other words, when given X, returns -X.\r\n     */\n\n  }, {\n    key: \"neg\",\n    value: function neg() {\n      return FC_NN(-this.sign, this.layer, this.mag);\n    }\n    /**\r\n     * Negates the Decimal it's called on: in other words, when given X, returns -X.\r\n     */\n\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      return this.neg();\n    }\n    /**\r\n     * Negates the Decimal it's called on: in other words, when given X, returns -X.\r\n     */\n\n  }, {\n    key: \"negated\",\n    value: function negated() {\n      return this.neg();\n    } // public sign () {\n    //     return this.sign;\n    //   }\n\n    /**\r\n     * Returns the sign of the Decimal it's called on. (Though, since sign is a public data member of Decimal, you might as well just call .sign instead of .sgn())\r\n     */\n\n  }, {\n    key: \"sgn\",\n    value: function sgn() {\n      return this.sign;\n    }\n    /**\r\n     * Rounds the Decimal it's called on to the nearest integer.\r\n     */\n\n  }, {\n    key: \"round\",\n    value: function round() {\n      if (this.mag < 0) {\n        return Decimal.dZero;\n      }\n\n      if (this.layer === 0) {\n        return FC(this.sign, 0, Math.round(this.mag));\n      }\n\n      return this;\n    }\n    /**\r\n     * \"Rounds\" the Decimal it's called on to the nearest integer that's less than or equal to it.\r\n     */\n\n  }, {\n    key: \"floor\",\n    value: function floor() {\n      if (this.mag < 0) {\n        if (this.sign === -1) return Decimal.dNegOne;else return Decimal.dZero;\n      }\n\n      if (this.sign === -1) return this.neg().ceil().neg();\n\n      if (this.layer === 0) {\n        return FC(this.sign, 0, Math.floor(this.mag));\n      }\n\n      return this;\n    }\n    /**\r\n     * \"Rounds\" the Decimal it's called on to the nearest integer that's greater than or equal to it.\r\n     */\n\n  }, {\n    key: \"ceil\",\n    value: function ceil() {\n      if (this.mag < 0) {\n        if (this.sign === 1) return Decimal.dOne; //The ceiling function called on something tiny like 10^10^-100 should return 1, since 10^10^-100 is still greater than 0\n        else return Decimal.dZero;\n      }\n\n      if (this.sign === -1) return this.neg().floor().neg();\n\n      if (this.layer === 0) {\n        return FC(this.sign, 0, Math.ceil(this.mag));\n      }\n\n      return this;\n    }\n    /**\r\n     * Extracts the integer part of the Decimal and returns it. Behaves like floor on positive numbers, but behaves like ceiling on negative numbers.\r\n     */\n\n  }, {\n    key: \"trunc\",\n    value: function trunc() {\n      if (this.mag < 0) {\n        return Decimal.dZero;\n      }\n\n      if (this.layer === 0) {\n        return FC(this.sign, 0, Math.trunc(this.mag));\n      }\n\n      return this;\n    }\n    /**\r\n     * Addition: returns the sum of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(value) {\n      var decimal = D(value); //inf/nan check\n\n      if (!Number.isFinite(this.layer)) {\n        return this;\n      }\n\n      if (!Number.isFinite(decimal.layer)) {\n        return decimal;\n      } //Special case - if one of the numbers is 0, return the other number.\n\n\n      if (this.sign === 0) {\n        return decimal;\n      }\n\n      if (decimal.sign === 0) {\n        return this;\n      } //Special case - Adding a number to its negation produces 0, no matter how large.\n\n\n      if (this.sign === -decimal.sign && this.layer === decimal.layer && this.mag === decimal.mag) {\n        return FC_NN(0, 0, 0);\n      }\n\n      var a;\n      var b; //Special case: If one of the numbers is layer 2 or higher, just take the bigger number.\n\n      if (this.layer >= 2 || decimal.layer >= 2) {\n        return this.maxabs(decimal);\n      }\n\n      if (Decimal.cmpabs(this, decimal) > 0) {\n        a = this;\n        b = decimal;\n      } else {\n        a = decimal;\n        b = this;\n      }\n\n      if (a.layer === 0 && b.layer === 0) {\n        return Decimal.fromNumber(a.sign * a.mag + b.sign * b.mag);\n      }\n\n      var layera = a.layer * Math.sign(a.mag);\n      var layerb = b.layer * Math.sign(b.mag); //If one of the numbers is 2+ layers higher than the other, just take the bigger number.\n\n      if (layera - layerb >= 2) {\n        return a;\n      }\n\n      if (layera === 0 && layerb === -1) {\n        if (Math.abs(b.mag - Math.log10(a.mag)) > MAX_SIGNIFICANT_DIGITS) {\n          return a;\n        } else {\n          var magdiff = Math.pow(10, Math.log10(a.mag) - b.mag);\n          var mantissa = b.sign + a.sign * magdiff;\n          return FC(Math.sign(mantissa), 1, b.mag + Math.log10(Math.abs(mantissa)));\n        }\n      }\n\n      if (layera === 1 && layerb === 0) {\n        if (Math.abs(a.mag - Math.log10(b.mag)) > MAX_SIGNIFICANT_DIGITS) {\n          return a;\n        } else {\n          var _magdiff = Math.pow(10, a.mag - Math.log10(b.mag));\n\n          var _mantissa = b.sign + a.sign * _magdiff;\n\n          return FC(Math.sign(_mantissa), 1, Math.log10(b.mag) + Math.log10(Math.abs(_mantissa)));\n        }\n      }\n\n      if (Math.abs(a.mag - b.mag) > MAX_SIGNIFICANT_DIGITS) {\n        return a;\n      } else {\n        var _magdiff2 = Math.pow(10, a.mag - b.mag);\n\n        var _mantissa2 = b.sign + a.sign * _magdiff2;\n\n        return FC(Math.sign(_mantissa2), 1, b.mag + Math.log10(Math.abs(_mantissa2)));\n      }\n    }\n    /**\r\n     * Addition: returns the sum of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"plus\",\n    value: function plus(value) {\n      return this.add(value);\n    }\n    /**\r\n     * Subtraction: returns the difference between 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"sub\",\n    value: function sub(value) {\n      return this.add(D(value).neg());\n    }\n    /**\r\n     * Subtraction: returns the difference between 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"subtract\",\n    value: function subtract(value) {\n      return this.sub(value);\n    }\n    /**\r\n     * Subtraction: returns the difference between 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"minus\",\n    value: function minus(value) {\n      return this.sub(value);\n    }\n    /**\r\n     * Multiplication: returns the product of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"mul\",\n    value: function mul(value) {\n      var decimal = D(value); //inf/nan check\n\n      if (!Number.isFinite(this.layer)) {\n        return this;\n      }\n\n      if (!Number.isFinite(decimal.layer)) {\n        return decimal;\n      } //Special case - if one of the numbers is 0, return 0.\n\n\n      if (this.sign === 0 || decimal.sign === 0) {\n        return FC_NN(0, 0, 0);\n      } //Special case - Multiplying a number by its own reciprocal yields +/- 1, no matter how large.\n\n\n      if (this.layer === decimal.layer && this.mag === -decimal.mag) {\n        return FC_NN(this.sign * decimal.sign, 0, 1);\n      }\n\n      var a;\n      var b; //Which number is bigger in terms of its multiplicative distance from 1?\n\n      if (this.layer > decimal.layer || this.layer == decimal.layer && Math.abs(this.mag) > Math.abs(decimal.mag)) {\n        a = this;\n        b = decimal;\n      } else {\n        a = decimal;\n        b = this;\n      }\n\n      if (a.layer === 0 && b.layer === 0) {\n        return Decimal.fromNumber(a.sign * b.sign * a.mag * b.mag);\n      } //Special case: If one of the numbers is layer 3 or higher or one of the numbers is 2+ layers bigger than the other, just take the bigger number.\n\n\n      if (a.layer >= 3 || a.layer - b.layer >= 2) {\n        return FC(a.sign * b.sign, a.layer, a.mag);\n      }\n\n      if (a.layer === 1 && b.layer === 0) {\n        return FC(a.sign * b.sign, 1, a.mag + Math.log10(b.mag));\n      }\n\n      if (a.layer === 1 && b.layer === 1) {\n        return FC(a.sign * b.sign, 1, a.mag + b.mag);\n      }\n\n      if (a.layer === 2 && b.layer === 1) {\n        var newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag)));\n        return FC(a.sign * b.sign, newmag.layer + 1, newmag.sign * newmag.mag);\n      }\n\n      if (a.layer === 2 && b.layer === 2) {\n        var _newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag)));\n\n        return FC(a.sign * b.sign, _newmag.layer + 1, _newmag.sign * _newmag.mag);\n      }\n\n      throw Error(\"Bad arguments to mul: \" + this + \", \" + value);\n    }\n    /**\r\n     * Multiplication: returns the product of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"multiply\",\n    value: function multiply(value) {\n      return this.mul(value);\n    }\n    /**\r\n     * Multiplication: returns the product of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"times\",\n    value: function times(value) {\n      return this.mul(value);\n    }\n    /**\r\n     * Division: returns the quotient of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"div\",\n    value: function div(value) {\n      var decimal = D(value);\n      return this.mul(decimal.recip());\n    }\n    /**\r\n     * Division: returns the quotient of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"divide\",\n    value: function divide(value) {\n      return this.div(value);\n    }\n    /**\r\n     * Division: returns the quotient of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"divideBy\",\n    value: function divideBy(value) {\n      return this.div(value);\n    }\n    /**\r\n     * Division: returns the quotient of 'this' and 'value'.\r\n     */\n\n  }, {\n    key: \"dividedBy\",\n    value: function dividedBy(value) {\n      return this.div(value);\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the Decimal it's called on.\r\n     */\n\n  }, {\n    key: \"recip\",\n    value: function recip() {\n      if (this.mag === 0) {\n        return Decimal.dNaN;\n      } else if (this.layer === 0) {\n        return FC(this.sign, 0, 1 / this.mag);\n      } else {\n        return FC(this.sign, this.layer, -this.mag);\n      }\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the Decimal it's called on.\r\n     */\n\n  }, {\n    key: \"reciprocal\",\n    value: function reciprocal() {\n      return this.recip();\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the Decimal it's called on.\r\n     */\n\n  }, {\n    key: \"reciprocate\",\n    value: function reciprocate() {\n      return this.recip();\n    }\n    /**\r\n     * Returns the remainder of 'this' divided by 'value': for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n    //Taken from OmegaNum.js, with a couple touch-ups\n\n  }, {\n    key: \"mod\",\n    value: function mod(value) {\n      var decimal = D(value).abs();\n      if (decimal.eq(Decimal.dZero)) return Decimal.dZero;\n      var num_this = this.toNumber();\n      var num_decimal = decimal.toNumber(); //Special case: To avoid precision issues, if both numbers are valid JS numbers, just call % on those\n\n      if (isFinite(num_this) && isFinite(num_decimal) && num_this != 0 && num_decimal != 0) {\n        return new Decimal(num_this % num_decimal);\n      }\n\n      if (this.sub(decimal).eq(this)) {\n        //decimal is too small to register to this\n        return Decimal.dZero;\n      }\n\n      if (decimal.sub(this).eq(decimal)) {\n        //this is too small to register to decimal\n        return this;\n      }\n\n      if (this.sign == -1) return this.abs().mod(decimal).neg();\n      return this.sub(this.div(decimal).floor().mul(decimal));\n    }\n    /**\r\n     * Returns the remainder of 'this' divided by 'value': for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n\n  }, {\n    key: \"modulo\",\n    value: function modulo(value) {\n      return this.mod(value);\n    }\n    /**\r\n     * Returns the remainder of this / value: for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n\n  }, {\n    key: \"modular\",\n    value: function modular(value) {\n      return this.mod(value);\n    }\n    /**\r\n     * Returns 1 if 'this' > 'value', returns -1 if 'this' < 'value', returns 0 if 'this' == 'value'.\r\n     */\n\n  }, {\n    key: \"cmp\",\n    value: function cmp(value) {\n      var decimal = D(value);\n\n      if (this.sign > decimal.sign) {\n        return 1;\n      }\n\n      if (this.sign < decimal.sign) {\n        return -1;\n      }\n\n      return this.sign * this.cmpabs(value);\n    }\n    /**\r\n     * Compares the absolute values of this and value.\r\n     * Returns 1 if |'this'| > |'value'|, returns -1 if |'this'| < |'value'|, returns 0 if |'this'| == |'value'|.\r\n     */\n\n  }, {\n    key: \"cmpabs\",\n    value: function cmpabs(value) {\n      var decimal = D(value);\n      var layera = this.mag > 0 ? this.layer : -this.layer;\n      var layerb = decimal.mag > 0 ? decimal.layer : -decimal.layer;\n\n      if (layera > layerb) {\n        return 1;\n      }\n\n      if (layera < layerb) {\n        return -1;\n      }\n\n      if (this.mag > decimal.mag) {\n        return 1;\n      }\n\n      if (this.mag < decimal.mag) {\n        return -1;\n      }\n\n      return 0;\n    }\n    /**\r\n     * Returns 1 if 'this' > 'value', returns -1 if 'this' < 'value', returns 0 if 'this' == 'value'.\r\n     */\n\n  }, {\n    key: \"compare\",\n    value: function compare(value) {\n      return this.cmp(value);\n    }\n    /**\r\n     * Returns true if the Decimal is an NaN value.\r\n     */\n\n  }, {\n    key: \"isNan\",\n    value: function isNan() {\n      return isNaN(this.sign) || isNaN(this.layer) || isNaN(this.mag);\n    }\n    /**\r\n     * Returns true if the Decimal is finite (by Decimal standards, not by floating point standards - a humongous Decimal like 10^^10^100 is still finite!)\r\n     */\n\n  }, {\n    key: \"isFinite\",\n    value: function (_isFinite2) {\n      function isFinite() {\n        return _isFinite2.apply(this, arguments);\n      }\n\n      isFinite.toString = function () {\n        return _isFinite2.toString();\n      };\n\n      return isFinite;\n    }(function () {\n      return isFinite(this.sign) && isFinite(this.layer) && isFinite(this.mag);\n    }\n    /**\r\n     * The Decimal equivalent of ==. Returns true if 'this' and 'value' have equal values.\r\n     */\n    )\n  }, {\n    key: \"eq\",\n    value: function eq(value) {\n      var decimal = D(value);\n      return this.sign === decimal.sign && this.layer === decimal.layer && this.mag === decimal.mag;\n    }\n    /**\r\n     * Returns true if 'this' and 'value' have equal values.\r\n     */\n\n  }, {\n    key: \"equals\",\n    value: function equals(value) {\n      return this.eq(value);\n    }\n    /**\r\n     * The Decimal equivalent of !=. Returns true if 'this' and 'value' do not have equal values.\r\n     */\n\n  }, {\n    key: \"neq\",\n    value: function neq(value) {\n      return !this.eq(value);\n    }\n    /**\r\n     * Returns true if 'this' and 'value' do not have equal values.\r\n     */\n\n  }, {\n    key: \"notEquals\",\n    value: function notEquals(value) {\n      return this.neq(value);\n    }\n    /**\r\n     * The Decimal equivalent of <. Returns true if 'this' is less than 'value'.\r\n     */\n\n  }, {\n    key: \"lt\",\n    value: function lt(value) {\n      return this.cmp(value) === -1;\n    }\n    /**\r\n     * The Decimal equivalent of <=. Returns true if 'this' is less than or equal to 'value'.\r\n     */\n\n  }, {\n    key: \"lte\",\n    value: function lte(value) {\n      return !this.gt(value);\n    }\n    /**\r\n     * The Decimal equivalent of >. Returns true if 'this' is greater than 'value'.\r\n     */\n\n  }, {\n    key: \"gt\",\n    value: function gt(value) {\n      return this.cmp(value) === 1;\n    }\n    /**\r\n     * The Decimal equivalent of >=. Returns true if 'this' is greater than or equal to 'value'.\r\n     */\n\n  }, {\n    key: \"gte\",\n    value: function gte(value) {\n      return !this.lt(value);\n    }\n    /**\r\n     * Returns whichever of 'this' and 'value' is higher.\r\n     */\n\n  }, {\n    key: \"max\",\n    value: function max(value) {\n      var decimal = D(value);\n      return this.lt(decimal) ? decimal : this;\n    }\n    /**\r\n     * Returns whichever of 'this' and 'value' is lower.\r\n     */\n\n  }, {\n    key: \"min\",\n    value: function min(value) {\n      var decimal = D(value);\n      return this.gt(decimal) ? decimal : this;\n    }\n    /**\r\n     * Returns whichever of 'this' and 'value' has a larger absolute value.\r\n     */\n\n  }, {\n    key: \"maxabs\",\n    value: function maxabs(value) {\n      var decimal = D(value);\n      return this.cmpabs(decimal) < 0 ? decimal : this;\n    }\n    /**\r\n     * Returns whichever of 'this' and 'value' has a smaller absolute value.\r\n     */\n\n  }, {\n    key: \"minabs\",\n    value: function minabs(value) {\n      var decimal = D(value);\n      return this.cmpabs(decimal) > 0 ? decimal : this;\n    }\n    /**\r\n     * A combination of minimum and maximum: the value returned by clamp is normally 'this', but it won't go below 'min' and it won't go above 'max'.\r\n     * Therefore, if 'this' < 'min', then 'min' is returned, and if 'this' > 'max', then 'max' is returned.\r\n     */\n\n  }, {\n    key: \"clamp\",\n    value: function clamp(min, max) {\n      return this.max(min).min(max);\n    }\n    /**\r\n     * Returns 'this', unless 'this' is less than 'min', in which case 'min' is returned.\r\n     */\n\n  }, {\n    key: \"clampMin\",\n    value: function clampMin(min) {\n      return this.max(min);\n    }\n    /**\r\n     * Returns 'this', unless 'this' is greater than 'max', in which case 'max' is returned.\r\n     */\n\n  }, {\n    key: \"clampMax\",\n    value: function clampMax(max) {\n      return this.min(max);\n    }\n    /**\r\n     * Returns 1 if 'this' is greater than 'value', returns -1 if 'this' is less than 'value', returns 0 if 'this' is equal to 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"cmp_tolerance\",\n    value: function cmp_tolerance(value, tolerance) {\n      var decimal = D(value);\n      return this.eq_tolerance(decimal, tolerance) ? 0 : this.cmp(decimal);\n    }\n    /**\r\n     * Returns 1 if 'this' is greater than 'value', returns -1 if 'this' is less than 'value', returns 0 if 'this' is equal to 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"compare_tolerance\",\n    value: function compare_tolerance(value, tolerance) {\n      return this.cmp_tolerance(value, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"eq_tolerance\",\n    value: function eq_tolerance(value, tolerance) {\n      var decimal = D(value); // https://stackoverflow.com/a/33024979\n\n      if (tolerance == null) {\n        tolerance = 1e-7;\n      } //Numbers that are too far away are never close.\n\n\n      if (this.sign !== decimal.sign) {\n        return false;\n      }\n\n      if (Math.abs(this.layer - decimal.layer) > 1) {\n        return false;\n      } // return abs(a-b) <= tolerance * max(abs(a), abs(b))\n\n\n      var magA = this.mag;\n      var magB = decimal.mag;\n\n      if (this.layer > decimal.layer) {\n        magB = f_maglog10(magB);\n      }\n\n      if (this.layer < decimal.layer) {\n        magA = f_maglog10(magA);\n      }\n\n      return Math.abs(magA - magB) <= tolerance * Math.max(Math.abs(magA), Math.abs(magB));\n    }\n    /**\r\n     * Tests whether two Decimals are approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"equals_tolerance\",\n    value: function equals_tolerance(value, tolerance) {\n      return this.eq_tolerance(value, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are not approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"neq_tolerance\",\n    value: function neq_tolerance(value, tolerance) {\n      return !this.eq_tolerance(value, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are not approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"notEquals_tolerance\",\n    value: function notEquals_tolerance(value, tolerance) {\n      return this.neq_tolerance(value, tolerance);\n    }\n    /**\r\n     * Returns true if 'this' is less than 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"lt_tolerance\",\n    value: function lt_tolerance(value, tolerance) {\n      var decimal = D(value);\n      return !this.eq_tolerance(decimal, tolerance) && this.lt(decimal);\n    }\n    /**\r\n     * Returns true if 'this' is less than or equal to 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"lte_tolerance\",\n    value: function lte_tolerance(value, tolerance) {\n      var decimal = D(value);\n      return this.eq_tolerance(decimal, tolerance) || this.lt(decimal);\n    }\n    /**\r\n     * Returns true if 'this' is greater than 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"gt_tolerance\",\n    value: function gt_tolerance(value, tolerance) {\n      var decimal = D(value);\n      return !this.eq_tolerance(decimal, tolerance) && this.gt(decimal);\n    }\n    /**\r\n     * Returns true if 'this' is greater than or equal to 'value'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"gte_tolerance\",\n    value: function gte_tolerance(value, tolerance) {\n      var decimal = D(value);\n      return this.eq_tolerance(decimal, tolerance) || this.gt(decimal);\n    }\n    /**\r\n     * \"Positive log10\": Returns the base-10 logarithm of nonnegative Decimals, but returns 0 for negative Decimals.\r\n     */\n\n  }, {\n    key: \"pLog10\",\n    value: function pLog10() {\n      if (this.lt(Decimal.dZero)) {\n        return Decimal.dZero;\n      }\n\n      return this.log10();\n    }\n    /**\r\n     * Returns the base-10 logarithm of abs('this').\r\n     */\n\n  }, {\n    key: \"absLog10\",\n    value: function absLog10() {\n      if (this.sign === 0) {\n        return Decimal.dNaN;\n      } else if (this.layer > 0) {\n        return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n      } else {\n        return FC(1, 0, Math.log10(this.mag));\n      }\n    }\n    /**\r\n     * Base-10 logarithm: returns the Decimal X such that 10^X = 'this'.\r\n     * For numbers above layer 0, this is equivalent to subtracting 1 from layer and normalizing.\r\n     */\n\n  }, {\n    key: \"log10\",\n    value: function log10() {\n      if (this.sign <= 0) {\n        return Decimal.dNaN;\n      } else if (this.layer > 0) {\n        return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n      } else {\n        return FC(this.sign, 0, Math.log10(this.mag));\n      }\n    }\n    /**\r\n     * Logarithms are one of the inverses of exponentiation: this function finds the Decimal X such that base^X = 'this'.\r\n     */\n\n  }, {\n    key: \"log\",\n    value: function log(base) {\n      base = D(base);\n\n      if (this.sign <= 0) {\n        return Decimal.dNaN;\n      }\n\n      if (base.sign <= 0) {\n        return Decimal.dNaN;\n      }\n\n      if (base.sign === 1 && base.layer === 0 && base.mag === 1) {\n        return Decimal.dNaN;\n      } else if (this.layer === 0 && base.layer === 0) {\n        return FC(this.sign, 0, Math.log(this.mag) / Math.log(base.mag));\n      }\n\n      return Decimal.div(this.log10(), base.log10());\n    }\n    /**\r\n     * Base-2 logarithm: returns the Decimal X such that 2^X = 'this'.\r\n     */\n\n  }, {\n    key: \"log2\",\n    value: function log2() {\n      if (this.sign <= 0) {\n        return Decimal.dNaN;\n      } else if (this.layer === 0) {\n        return FC(this.sign, 0, Math.log2(this.mag));\n      } else if (this.layer === 1) {\n        return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 3.321928094887362); //log2(10)\n      } else if (this.layer === 2) {\n        return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.5213902276543247); //-log10(log10(2))\n      } else {\n        return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n      }\n    }\n    /**\r\n     * Base-e logarithm, also known as the \"natural\" logarithm: returns the Decimal X such that e^X = 'this'.\r\n     */\n\n  }, {\n    key: \"ln\",\n    value: function ln() {\n      if (this.sign <= 0) {\n        return Decimal.dNaN;\n      } else if (this.layer === 0) {\n        return FC(this.sign, 0, Math.log(this.mag));\n      } else if (this.layer === 1) {\n        return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 2.302585092994046); //ln(10)\n      } else if (this.layer === 2) {\n        return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.36221568869946325); //log10(log10(e))\n      } else {\n        return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n      }\n    }\n    /**\r\n     * Logarithms are one of the inverses of exponentiation: this function finds the Decimal X such that base^X = 'this'.\r\n     */\n\n  }, {\n    key: \"logarithm\",\n    value: function logarithm(base) {\n      return this.log(base);\n    }\n    /**\r\n     * Exponentiation: Returns the result of 'this' ^ 'value' (often written as 'this' ** 'value' in programming languages).\r\n     */\n\n  }, {\n    key: \"pow\",\n    value: function pow(value) {\n      var decimal = D(value);\n      var a = this;\n      var b = decimal; //special case: if a is 0, then return 0 (UNLESS b is 0, then return 1)\n\n      if (a.sign === 0) {\n        return b.eq(0) ? FC_NN(1, 0, 1) : a;\n      } //special case: if a is 1, then return 1\n\n\n      if (a.sign === 1 && a.layer === 0 && a.mag === 1) {\n        return a;\n      } //special case: if b is 0, then return 1\n\n\n      if (b.sign === 0) {\n        return FC_NN(1, 0, 1);\n      } //special case: if b is 1, then return a\n\n\n      if (b.sign === 1 && b.layer === 0 && b.mag === 1) {\n        return a;\n      }\n\n      var result = a.absLog10().mul(b).pow10();\n\n      if (this.sign === -1) {\n        if (Math.abs(b.toNumber() % 2) % 2 === 1) {\n          return result.neg();\n        } else if (Math.abs(b.toNumber() % 2) % 2 === 0) {\n          return result;\n        }\n\n        return Decimal.dNaN;\n      }\n\n      return result;\n    }\n    /**\r\n     * Raises 10 to the power of 'this', i.e. (10^'this'). For positive numbers above 1, this is equivalent to adding 1 to layer and normalizing.\r\n     */\n\n  }, {\n    key: \"pow10\",\n    value: function pow10() {\n      /*\r\n      There are four cases we need to consider:\r\n      1) positive sign, positive mag (e15, ee15): +1 layer (e.g. 10^15 becomes e15, 10^e15 becomes ee15)\r\n      2) negative sign, positive mag (-e15, -ee15): +1 layer but sign and mag sign are flipped (e.g. 10^-15 becomes e-15, 10^-e15 becomes ee-15)\r\n      3) positive sign, negative mag (e-15, ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\r\n      4) negative sign, negative mag (-e-15, -ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\r\n      */\n      if (!Number.isFinite(this.layer) || !Number.isFinite(this.mag)) {\n        return Decimal.dNaN;\n      }\n\n      var a = this; //handle layer 0 case - if no precision is lost just use Math.pow, else promote one layer\n\n      if (a.layer === 0) {\n        var newmag = Math.pow(10, a.sign * a.mag);\n\n        if (Number.isFinite(newmag) && Math.abs(newmag) >= 0.1) {\n          return FC(1, 0, newmag);\n        } else {\n          if (a.sign === 0) {\n            return Decimal.dOne;\n          } else {\n            a = FC_NN(a.sign, a.layer + 1, Math.log10(a.mag));\n          }\n        }\n      } //handle all 4 layer 1+ cases individually\n\n\n      if (a.sign > 0 && a.mag >= 0) {\n        return FC(a.sign, a.layer + 1, a.mag);\n      }\n\n      if (a.sign < 0 && a.mag >= 0) {\n        return FC(-a.sign, a.layer + 1, -a.mag);\n      } //both the negative mag cases are identical: one +/- rounding error\n\n\n      return Decimal.dOne;\n    }\n    /**\r\n     * Exponentiation: Returns the result of 'value' ^ 'this' (often written as 'value' ** 'this' in programming languages).\r\n     */\n\n  }, {\n    key: \"pow_base\",\n    value: function pow_base(value) {\n      return D(value).pow(this);\n    }\n    /**\r\n     * Roots are one of the inverses of exponentiation: this function finds the Decimal X such that X ^ 'value' = 'this'.\r\n     * Equivalent to 'this' ^ (1 / 'value'), which is written here as this.pow(value.recip()).\r\n     */\n\n  }, {\n    key: \"root\",\n    value: function root(value) {\n      var decimal = D(value);\n      return this.pow(decimal.recip());\n    }\n    /**\r\n     * For positive integers, X factorial (written as X!) equals X * (X - 1) * (X - 2) *... * 3 * 2 * 1. 0! equals 1.\r\n     * This can be extended to real numbers (except for negative integers) via the gamma function, which is what this function does.\r\n     */\n\n  }, {\n    key: \"factorial\",\n    value: function factorial() {\n      if (this.mag < 0) {\n        return this.add(1).gamma();\n      } else if (this.layer === 0) {\n        return this.add(1).gamma();\n      } else if (this.layer === 1) {\n        return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n      } else {\n        return Decimal.exp(this);\n      }\n    }\n    /**\r\n     * The gamma function extends the idea of factorials to non-whole numbers using some calculus.\r\n     * Gamma(x) is defined as the integral of t^(x-1) * e^-t dt from t = 0 to t = infinity,\r\n     * and gamma(x) = (x - 1)! for nonnegative integer x, so the factorial for non-whole numbers is defined using the gamma function.\r\n     */\n    //from HyperCalc source code\n\n  }, {\n    key: \"gamma\",\n    value: function gamma() {\n      if (this.mag < 0) {\n        return this.recip();\n      } else if (this.layer === 0) {\n        if (this.lt(FC_NN(1, 0, 24))) {\n          return Decimal.fromNumber(f_gamma(this.sign * this.mag));\n        }\n\n        var t = this.mag - 1;\n        var l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n\n        l = l + (t + 0.5) * Math.log(t);\n        l = l - t;\n        var n2 = t * t;\n        var np = t;\n        var lm = 12 * np;\n        var adj = 1 / lm;\n        var l2 = l + adj;\n\n        if (l2 === l) {\n          return Decimal.exp(l);\n        }\n\n        l = l2;\n        np = np * n2;\n        lm = 360 * np;\n        adj = 1 / lm;\n        l2 = l - adj;\n\n        if (l2 === l) {\n          return Decimal.exp(l);\n        }\n\n        l = l2;\n        np = np * n2;\n        lm = 1260 * np;\n        var lt = 1 / lm;\n        l = l + lt;\n        np = np * n2;\n        lm = 1680 * np;\n        lt = 1 / lm;\n        l = l - lt;\n        return Decimal.exp(l);\n      } else if (this.layer === 1) {\n        return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n      } else {\n        return Decimal.exp(this);\n      }\n    }\n    /**\r\n     * Returns the natural logarithm of Gamma('this').\r\n     */\n\n  }, {\n    key: \"lngamma\",\n    value: function lngamma() {\n      return this.gamma().ln();\n    }\n    /**\r\n     * Base-e exponentiation: returns e^'this'.\r\n     */\n\n  }, {\n    key: \"exp\",\n    value: function exp() {\n      if (this.mag < 0) {\n        return Decimal.dOne;\n      }\n\n      if (this.layer === 0 && this.mag <= 709.7) {\n        return Decimal.fromNumber(Math.exp(this.sign * this.mag));\n      } else if (this.layer === 0) {\n        return FC(1, 1, this.sign * Math.log10(Math.E) * this.mag);\n      } else if (this.layer === 1) {\n        return FC(1, 2, this.sign * (Math.log10(0.4342944819032518) + this.mag));\n      } else {\n        return FC(1, this.layer + 1, this.sign * this.mag);\n      }\n    }\n    /**\r\n     * Squaring a number means multiplying it by itself, a.k.a. raising it to the second power.\r\n     */\n\n  }, {\n    key: \"sqr\",\n    value: function sqr() {\n      return this.pow(2);\n    }\n    /**\r\n     * Square root: finds the Decimal X such that X * X, a.k.a X^2, equals 'this'. Equivalent to X^(1/2).\r\n     */\n\n  }, {\n    key: \"sqrt\",\n    value: function sqrt() {\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.sqrt(this.sign * this.mag));\n      } else if (this.layer === 1) {\n        return FC(1, 2, Math.log10(this.mag) - 0.3010299956639812);\n      } else {\n        var result = Decimal.div(FC_NN(this.sign, this.layer - 1, this.mag), FC_NN(1, 0, 2));\n        result.layer += 1;\n        result.normalize();\n        return result;\n      }\n    }\n    /**\r\n     * Cubing a number means raising it to the third power.\r\n     */\n\n  }, {\n    key: \"cube\",\n    value: function cube() {\n      return this.pow(3);\n    }\n    /**\r\n     * Cube root: finds the Decimal X such that X^3 equals 'this'. Equivalent to X^(1/3).\r\n     */\n\n  }, {\n    key: \"cbrt\",\n    value: function cbrt() {\n      return this.pow(1 / 3);\n    }\n    /**\r\n     *\r\n     * Tetration: The result of exponentiating 'this' to 'this' 'height' times in a row.  https://en.wikipedia.org/wiki/Tetration\r\n     *\r\n     * If payload != 1, then this is 'iterated exponentiation', the result of exping 'payload' to base 'this' 'height' times. https://andydude.github.io/tetration/archives/tetration2/ident.html\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"tetrate\",\n    value: function tetrate() {\n      var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      //x^^1 == x\n      if (height === 1) {\n        return Decimal.pow(this, payload);\n      } //x^^0 == 1\n\n\n      if (height === 0) {\n        return new Decimal(payload);\n      } //1^^x == 1\n\n\n      if (this.eq(Decimal.dOne)) {\n        return Decimal.dOne;\n      } //-1^^x == -1\n\n\n      if (this.eq(-1)) {\n        return Decimal.pow(this, payload);\n      }\n\n      if (height === Number.POSITIVE_INFINITY) {\n        var this_num = this.toNumber(); //within the convergence range?\n\n        if (this_num <= 1.44466786100976613366 && this_num >= 0.06598803584531253708) {\n          //hotfix for the very edge of the number range not being handled properly\n          if (this_num > 1.444667861009099) {\n            return Decimal.fromNumber(Math.E);\n          } //Formula for infinite height power tower.\n\n\n          var negln = Decimal.ln(this).neg();\n          return negln.lambertw().div(negln);\n        } else if (this_num > 1.44466786100976613366) {\n          //explodes to infinity\n          // TODO: replace this with Decimal.dInf\n          return Decimal.fromNumber(Number.POSITIVE_INFINITY);\n        } else {\n          //0.06598803584531253708 > this_num >= 0: never converges\n          //this_num < 0: quickly becomes a complex number\n          return Decimal.dNaN;\n        }\n      } //0^^x oscillates if we define 0^0 == 1 (which in javascript land we do), since then 0^^1 is 0, 0^^2 is 1, 0^^3 is 0, etc. payload is ignored\n      //using the linear approximation for height (TODO: don't know a better way to calculate it ATM, but it wouldn't surprise me if it's just NaN)\n\n\n      if (this.eq(Decimal.dZero)) {\n        var result = Math.abs((height + 1) % 2);\n\n        if (result > 1) {\n          result = 2 - result;\n        }\n\n        return Decimal.fromNumber(result);\n      }\n\n      if (height < 0) {\n        return Decimal.iteratedlog(payload, this, -height, linear);\n      }\n\n      payload = D(payload);\n      var oldheight = height;\n      height = Math.trunc(height);\n      var fracheight = oldheight - height;\n\n      if (this.gt(Decimal.dZero) && this.lte(1.44466786100976613366) && (oldheight > 10000 || !linear)) {\n        //similar to 0^^n, flip-flops between two values, converging slowly (or if it's below 0.06598803584531253708, never. so once again, the fractional part at the end will be a linear approximation (TODO: again pending knowledge of how to approximate better, although tbh I think it should in reality just be NaN)\n        height = Math.min(10000, height);\n\n        for (var i = 0; i < height; ++i) {\n          var old_payload = payload;\n          payload = this.pow(payload); //stop early if we converge\n\n          if (old_payload.eq(payload)) {\n            return payload;\n          }\n        }\n\n        if (fracheight != 0 || oldheight > 10000) {\n          var next_payload = this.pow(payload);\n\n          if (oldheight <= 10000 || Math.ceil(oldheight) % 2 == 0) {\n            return payload.mul(1 - fracheight).add(next_payload.mul(fracheight));\n          } else {\n            return payload.mul(fracheight).add(next_payload.mul(1 - fracheight));\n          }\n        }\n\n        return payload;\n      } //TODO: base < 0, but it's hard for me to reason about (probably all non-integer heights are NaN automatically?)\n\n\n      if (fracheight !== 0) {\n        if (payload.eq(Decimal.dOne)) {\n          //If (linear), use linear approximation even for bases <= 10\n          //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n          if (this.gt(10) || linear) {\n            payload = this.pow(fracheight);\n          } else {\n            payload = Decimal.fromNumber(Decimal.tetrate_critical(this.toNumber(), fracheight)); //TODO: until the critical section grid can handle numbers below 2, scale them to the base\n            //TODO: maybe once the critical section grid has very large bases, this math can be appropriate for them too? I'll think about it\n\n            if (this.lt(2)) {\n              payload = payload.sub(1).mul(this.minus(1)).plus(1);\n            }\n          }\n        } else {\n          if (this.eq(10)) {\n            payload = payload.layeradd10(fracheight, linear);\n          } else {\n            payload = payload.layeradd(fracheight, this, linear);\n          }\n        }\n      }\n\n      for (var _i = 0; _i < height; ++_i) {\n        payload = this.pow(payload); //bail if we're NaN\n\n        if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n          return payload.normalize();\n        } //shortcut\n\n\n        if (payload.layer - this.layer > 3) {\n          return FC_NN(payload.sign, payload.layer + (height - _i - 1), payload.mag);\n        } //give up after 10000 iterations if nothing is happening\n\n\n        if (_i > 10000) {\n          return payload;\n        }\n      }\n\n      return payload;\n    }\n    /**\r\n     * Iterated exponentiation, the result of exping 'payload' to base 'this' 'height' times. https://andydude.github.io/tetration/archives/tetration2/ident.html\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     *\r\n     * Identical to tetrate.\r\n     */\n\n  }, {\n    key: \"iteratedexp\",\n    value: function iteratedexp() {\n      var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return this.tetrate(height, payload, linear);\n    }\n    /**\r\n     * iterated log/repeated log: The result of applying log(base) 'times' times in a row. Approximately equal to subtracting 'times' from the number's slog representation. Equivalent to tetrating to a negative height.\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"iteratedlog\",\n    value: function iteratedlog() {\n      var base = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (times < 0) {\n        return Decimal.tetrate(base, -times, this, linear);\n      }\n\n      base = D(base);\n      var result = Decimal.fromDecimal(this);\n      var fulltimes = times;\n      times = Math.trunc(times);\n      var fraction = fulltimes - times;\n\n      if (result.layer - base.layer > 3) {\n        var layerloss = Math.min(times, result.layer - base.layer - 3);\n        times -= layerloss;\n        result.layer -= layerloss;\n      }\n\n      for (var i = 0; i < times; ++i) {\n        result = result.log(base); //bail if we're NaN\n\n        if (!isFinite(result.layer) || !isFinite(result.mag)) {\n          return result.normalize();\n        } //give up after 10000 iterations if nothing is happening\n\n\n        if (i > 10000) {\n          return result;\n        }\n      } //handle fractional part\n\n\n      if (fraction > 0 && fraction < 1) {\n        if (base.eq(10)) {\n          result = result.layeradd10(-fraction, linear);\n        } else {\n          result = result.layeradd(-fraction, base, linear);\n        }\n      }\n\n      return result;\n    }\n    /**\r\n     * Super-logarithm, one of tetration's inverses, tells you what size power tower you'd have to tetrate 'base' to to get 'this'. https://en.wikipedia.org/wiki/Super-logarithm\r\n     *\r\n     * By definition, will never be higher than 1.8e308 in break_eternity.js, since a power tower 1.8e308 numbers tall is the largest representable number.\r\n     *\r\n     * Accepts a number of iterations (default is 100), and use binary search to, after making an initial guess, hone in on the true value, assuming tetration as the ground truth.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"slog\",\n    value: function slog() {\n      var base = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      var iterations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var step_size = 0.001;\n      var has_changed_directions_once = false;\n      var previously_rose = false;\n      var result = this.slog_internal(base, linear).toNumber();\n\n      for (var i = 1; i < iterations; ++i) {\n        var new_decimal = new Decimal(base).tetrate(result, Decimal.dOne, linear);\n        var currently_rose = new_decimal.gt(this);\n\n        if (i > 1) {\n          if (previously_rose != currently_rose) {\n            has_changed_directions_once = true;\n          }\n        }\n\n        previously_rose = currently_rose;\n\n        if (has_changed_directions_once) {\n          step_size /= 2;\n        } else {\n          step_size *= 2;\n        }\n\n        step_size = Math.abs(step_size) * (currently_rose ? -1 : 1);\n        result += step_size;\n\n        if (step_size === 0) {\n          break;\n        }\n      }\n\n      return Decimal.fromNumber(result);\n    }\n  }, {\n    key: \"slog_internal\",\n    value: function slog_internal() {\n      var base = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      var linear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      base = D(base); //special cases:\n      //slog base 0 or lower is NaN\n\n      if (base.lte(Decimal.dZero)) {\n        return Decimal.dNaN;\n      } //slog base 1 is NaN\n\n\n      if (base.eq(Decimal.dOne)) {\n        return Decimal.dNaN;\n      } //need to handle these small, wobbling bases specially\n\n\n      if (base.lt(Decimal.dOne)) {\n        if (this.eq(Decimal.dOne)) {\n          return Decimal.dZero;\n        }\n\n        if (this.eq(Decimal.dZero)) {\n          return Decimal.dNegOne;\n        } //0 < this < 1: ambiguous (happens multiple times)\n        //this < 0: impossible (as far as I can tell)\n        //this > 1: partially complex (http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html base 0.25 for proof)\n\n\n        return Decimal.dNaN;\n      } //slog_n(0) is -1\n\n\n      if (this.mag < 0 || this.eq(Decimal.dZero)) {\n        return Decimal.dNegOne;\n      }\n\n      var result = 0;\n      var copy = Decimal.fromDecimal(this);\n\n      if (copy.layer - base.layer > 3) {\n        var layerloss = copy.layer - base.layer - 3;\n        result += layerloss;\n        copy.layer -= layerloss;\n      }\n\n      for (var i = 0; i < 100; ++i) {\n        if (copy.lt(Decimal.dZero)) {\n          copy = Decimal.pow(base, copy);\n          result -= 1;\n        } else if (copy.lte(Decimal.dOne)) {\n          if (linear) return Decimal.fromNumber(result + copy.toNumber() - 1);else return Decimal.fromNumber(result + Decimal.slog_critical(base.toNumber(), copy.toNumber()));\n        } else {\n          result += 1;\n          copy = Decimal.log(copy, base);\n        }\n      }\n\n      return Decimal.fromNumber(result);\n    } //background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\n\n  }, {\n    key: \"layeradd10\",\n    value:\n    /**\r\n     * Adds/removes layers from a Decimal, even fractional layers (e.g. its slog10 representation). Very similar to tetrate base 10 and iterated log base 10.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n    //Moved this over to use the same critical section as tetrate/slog.\n    function layeradd10(diff) {\n      var linear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      diff = Decimal.fromValue_noAlloc(diff).toNumber();\n      var result = Decimal.fromDecimal(this);\n\n      if (diff >= 1) {\n        //bug fix: if result is very smol (mag < 0, layer > 0) turn it into 0 first\n        if (result.mag < 0 && result.layer > 0) {\n          result.sign = 0;\n          result.mag = 0;\n          result.layer = 0;\n        } else if (result.sign === -1 && result.layer == 0) {\n          //bug fix - for stuff like -3.layeradd10(1) we need to move the sign to the mag\n          result.sign = 1;\n          result.mag = -result.mag;\n        }\n\n        var layeradd = Math.trunc(diff);\n        diff -= layeradd;\n        result.layer += layeradd;\n      }\n\n      if (diff <= -1) {\n        var _layeradd = Math.trunc(diff);\n\n        diff -= _layeradd;\n        result.layer += _layeradd;\n\n        if (result.layer < 0) {\n          for (var i = 0; i < 100; ++i) {\n            result.layer++;\n            result.mag = Math.log10(result.mag);\n\n            if (!isFinite(result.mag)) {\n              //another bugfix: if we hit -Infinity mag, then we should return negative infinity, not 0. 0.layeradd10(-1) h its this\n              if (result.sign === 0) {\n                result.sign = 1;\n              } //also this, for 0.layeradd10(-2)\n\n\n              if (result.layer < 0) {\n                result.layer = 0;\n              }\n\n              return result.normalize();\n            }\n\n            if (result.layer >= 0) {\n              break;\n            }\n          }\n        }\n      }\n\n      while (result.layer < 0) {\n        result.layer++;\n        result.mag = Math.log10(result.mag);\n      } //bugfix: before we normalize: if we started with 0, we now need to manually fix a layer ourselves!\n\n\n      if (result.sign === 0) {\n        result.sign = 1;\n\n        if (result.mag === 0 && result.layer >= 1) {\n          result.layer -= 1;\n          result.mag = 1;\n        }\n      }\n\n      result.normalize(); //layeradd10: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 10 and iterated log base 10. Also equivalent to adding a fractional amount to the number's layer in its break_eternity.js representation.\n\n      if (diff !== 0) {\n        return result.layeradd(diff, 10, linear); //safe, only calls positive height 1 payload tetration, slog and log\n      }\n\n      return result;\n    }\n    /**\r\n     * layeradd: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 'base' and iterated log base 'base'.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"layeradd\",\n    value: function layeradd(diff, base) {\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var slogthis = this.slog(base).toNumber();\n      var slogdest = slogthis + diff;\n\n      if (slogdest >= 0) {\n        return Decimal.tetrate(base, slogdest, Decimal.dOne, linear);\n      } else if (!Number.isFinite(slogdest)) {\n        return Decimal.dNaN;\n      } else if (slogdest >= -1) {\n        return Decimal.log(Decimal.tetrate(base, slogdest + 1, Decimal.dOne, linear), base);\n      } else {\n        return Decimal.log(Decimal.log(Decimal.tetrate(base, slogdest + 2, Decimal.dOne, linear), base), base);\n      }\n    }\n    /**\r\n     * The Lambert W function, also called the omega function or product logarithm, is the solution W(x) === x*e^x.\r\n     * https://en.wikipedia.org/wiki/Lambert_W_function\r\n     */\n    //Some special values, for testing: https://en.wikipedia.org/wiki/Lambert_W_function#Special_values\n\n  }, {\n    key: \"lambertw\",\n    value: function lambertw() {\n      if (this.lt(-0.3678794411710499)) {\n        throw Error(\"lambertw is unimplemented for results less than -1, sorry!\");\n      } else if (this.mag < 0) {\n        return Decimal.fromNumber(f_lambertw(this.toNumber()));\n      } else if (this.layer === 0) {\n        return Decimal.fromNumber(f_lambertw(this.sign * this.mag));\n      } else if (this.layer === 1) {\n        return d_lambertw(this);\n      } else if (this.layer === 2) {\n        return d_lambertw(this);\n      }\n\n      if (this.layer >= 3) {\n        return FC_NN(this.sign, this.layer - 1, this.mag);\n      }\n\n      throw \"Unhandled behavior in lambertw()\";\n    }\n    /**\r\n     * The super square-root function - what number, tetrated to height 2, equals 'this'? https://en.wikipedia.org/wiki/Tetration#Super-root\r\n     */\n\n  }, {\n    key: \"ssqrt\",\n    value: function ssqrt() {\n      return this.linear_sroot(2);\n    }\n    /**\r\n     * Super-root, one of tetration's inverses - what number, tetrated to height 'degree', equals 'this'? https://en.wikipedia.org/wiki/Tetration#Super-root\r\n     *\r\n     * Only works with the linear approximation of tetration, as starting with analytic and then switching to linear would result in inconsistent behavior for super-roots.\r\n     * This only matters for non-integer degrees.\r\n     */\n    //Another reason this doesn't support analytic approximation because I don't know the structure of non-linear tetrations for inputs < 1\n    //TODO: Optimize this like how slog is optimized (if it isn't already)\n\n  }, {\n    key: \"linear_sroot\",\n    value: function linear_sroot(degree) {\n      //1st-degree super root just returns its input\n      if (degree == 1) {\n        return this;\n      }\n\n      if (this.eq(Decimal.dInf)) {\n        return Decimal.dInf;\n      }\n\n      if (!this.isFinite()) {\n        return Decimal.dNaN;\n      } //Using linear approximation, x^^n = x^n if 0 < n < 1\n\n\n      if (degree > 0 && degree < 1) {\n        return this.root(degree);\n      } //Using the linear approximation, there actually is a single solution for super roots with -2 < degree <= -1\n\n\n      if (degree > -2 && degree < -1) {\n        return Decimal.fromNumber(degree).add(2).pow(this.recip());\n      } //Super roots with -1 <= degree < 0 have either no solution or infinitely many solutions, and tetration with height <= -2 returns NaN, so super roots of degree <= -2 don't work\n\n\n      if (degree <= 0) {\n        return Decimal.dNaN;\n      } //Infinite degree super-root is x^(1/x) between 1/e <= x <= e, undefined otherwise\n\n\n      if (degree == Number.POSITIVE_INFINITY) {\n        var this_num = this.toNumber();\n\n        if (this_num < Math.E && this_num > _EXPN1) {\n          return this.pow(this.recip());\n        } else {\n          return Decimal.dNaN;\n        }\n      } //Special case: any super-root of 1 is 1\n\n\n      if (this.eq(1)) {\n        return Decimal.dOne;\n      } //TODO: base < 0 (It'll probably be NaN anyway)\n\n\n      if (this.lt(0)) {\n        return Decimal.dNaN;\n      } //Treat all numbers of layer <= -2 as zero, because they effectively are\n\n\n      if (this.lte(\"1ee-16\")) {\n        if (degree % 2 == 1) return this;else return Decimal.dNaN;\n      } //this > 1\n\n\n      if (this.gt(1)) {\n        //Uses guess-and-check to find the super-root.\n        //If this > 10^^(degree), then the answer is under iteratedlog(10, degree - 1): for example, ssqrt(x) < log(x, 10) as long as x > 10^10, and linear_sroot(x, 3) < log(log(x, 10), 10) as long as x > 10^10^10\n        //On the other hand, if this < 10^^(degree), then clearly the answer is less than 10\n        //Since the answer could be a higher-layered number itself (whereas slog's maximum is 1.8e308), the guess-and-check is scaled to the layer of the upper bound, so the guess is set to the average of some higher-layer exponents of the bounds rather than the bounds itself (as taking plain averages on tetrational-scale numbers would go nowhere)\n        var upperBound = Decimal.dTen;\n\n        if (this.gte(Decimal.tetrate(10, degree, 1, true))) {\n          upperBound = this.iteratedlog(10, degree - 1, true);\n        }\n\n        if (degree <= 1) {\n          upperBound = this.root(degree);\n        }\n\n        var lower = Decimal.dZero; //This is zero rather than one because we might be on a higher layer, so the lower bound might actually some 10^10^10...^0\n\n        var layer = upperBound.layer;\n        var upper = upperBound.iteratedlog(10, layer, true);\n        var previous = upper;\n        var guess = upper.div(2);\n        var loopGoing = true;\n\n        while (loopGoing) {\n          guess = lower.add(upper).div(2);\n          if (Decimal.iteratedexp(10, layer, guess, true).tetrate(degree, 1, true).gt(this)) upper = guess;else lower = guess;\n          if (guess.eq(previous)) loopGoing = false;else previous = guess;\n        }\n\n        return Decimal.iteratedexp(10, layer, guess, true);\n      } //0 < this < 1\n      else {\n        //A tetration of decimal degree can potentially have three different portions, as shown at https://www.desmos.com/calculator/ayvqks6mxa, which is a graph of x^^2.05:\n        //The portion where the function is increasing, extending from a minimum (which may be at x = 0 or at some x between 0 and 1) up to infinity (I'll call this the \"increasing\" range)\n        //The portion where the function is decreasing (I'll call this the \"decreasing\" range)\n        //A small, steep increasing portion very close to x = 0 (I'll call this the \"zero\" range)\n        //If ceiling(degree) is even, then the tetration will either be strictly increasing, or it will have the increasing and decreasing ranges, but not the zero range (because if ceiling(degree) is even, 0^^degree == 1).\n        //If ceiling(degree) is odd, then the tetration will either be strictly increasing, or it will have all three ranges (because if ceiling(degree) is odd, 0^^degree == 0).\n        //The existence of these ranges means that a super-root could potentially have two or three valid answers.\n        //Out of these, we'd prefer the increasing range value if it exists, otherwise we'll take the zero range value (it can't have a decreasing range value if it doesn't have an increasing range value) if the zero range exists.\n        //It's possible to identify which range that \"this\" is in:\n        //If the tetration is decreasing at that point, the point is in the decreasing range.\n        //If the tetration is increasing at that point and ceiling(degree) is even, the point is in the increasing range since there is no zero range.\n        //If the tetration is increasing at that point and ceiling(degree) is odd, look at the second derivative at that point. If the second derivative is positive, the point is in the increasing range. If the second derivative is negative, the point is the zero range.\n        //We need to find the local minimum (separates decreasing and increasing ranges) and the local maximum (separates zero and decreasing ranges).\n        //(stage) is which stage of the loop we're in: stage 1 is finding the minimum, stage 2 means we're between the stages, and stage 3 is finding the maximum.\n        //The boundary between the decreasing range and the zero range can be very small, so we want to use layer -1 numbers. Therefore, all numbers involved are log10(recip()) of their actual values.\n        var stage = 1;\n        var minimum = FC(1, 10, 1);\n        var maximum = FC(1, 10, 1);\n\n        var _lower = FC(1, 10, 1); //eeeeeeeee-10, which is effectively 0; I would use Decimal.dInf but its reciprocal is NaN\n\n\n        var _upper = FC(1, 1, -16); //~ 1 - 1e-16\n\n\n        var prevspan = Decimal.dZero;\n        var difference = FC(1, 10, 1);\n\n        var _upperBound = _upper.pow10().recip();\n\n        var distance = Decimal.dZero;\n        var prevPoint = _upperBound;\n        var nextPoint = _upperBound;\n        var evenDegree = Math.ceil(degree) % 2 == 0;\n        var range = 0;\n        var lastValid = FC(1, 10, 1);\n        var infLoopDetector = false;\n        var previousUpper = Decimal.dZero;\n        var decreasingFound = false;\n\n        while (stage < 4) {\n          if (stage == 2) {\n            //The minimum has been found. If ceiling(degree) is even, there's no zero range and thus no local maximum, so end the loop here. Otherwise, begin finding the maximum.\n            if (evenDegree) break;else {\n              _lower = FC(1, 10, 1);\n              _upper = minimum;\n              stage = 3;\n              difference = FC(1, 10, 1);\n              lastValid = FC(1, 10, 1);\n            }\n          }\n\n          infLoopDetector = false;\n\n          while (_upper.neq(_lower)) {\n            previousUpper = _upper;\n\n            if (_upper.pow10().recip().tetrate(degree, 1, true).eq(1) && _upper.pow10().recip().lt(0.4)) {\n              _upperBound = _upper.pow10().recip();\n              prevPoint = _upper.pow10().recip();\n              nextPoint = _upper.pow10().recip();\n              distance = Decimal.dZero;\n              range = -1; //This would cause problems with degree < 1 in the linear approximation... but those are already covered as a special case\n\n              if (stage == 3) lastValid = _upper;\n            } else if (_upper.pow10().recip().tetrate(degree, 1, true).eq(_upper.pow10().recip()) && !evenDegree && _upper.pow10().recip().lt(0.4)) {\n              _upperBound = _upper.pow10().recip();\n              prevPoint = _upper.pow10().recip();\n              nextPoint = _upper.pow10().recip();\n              distance = Decimal.dZero;\n              range = 0;\n            } else if (_upper.pow10().recip().tetrate(degree, 1, true).eq(_upper.pow10().recip().mul(2).tetrate(degree, 1, true))) {\n              //If the upper bound is closer to zero than the next point with a discernable tetration, so surely it's in whichever range is closest to zero?\n              //This won't happen in a strictly increasing tetration, as there x^^degree ~= x as x approaches zero\n              _upperBound = _upper.pow10().recip();\n              prevPoint = Decimal.dZero;\n              nextPoint = _upperBound.mul(2);\n              distance = _upperBound;\n              if (evenDegree) range = -1;else range = 0;\n            } else {\n              //We want to use prevspan to find the \"previous point\" right before the upper bound and the \"next point\" right after the upper bound, as that will let us approximate derivatives\n              prevspan = _upper.mul(1.2e-16);\n              _upperBound = _upper.pow10().recip();\n              prevPoint = _upper.add(prevspan).pow10().recip();\n              distance = _upperBound.sub(prevPoint);\n              nextPoint = _upperBound.add(distance); //...but it's of no use to us while its tetration is equal to upper's tetration, so widen the difference until it's not\n              //We add prevspan and subtract nextspan because, since upper is log10(recip(upper bound)), the upper bound gets smaller as upper gets larger and vice versa\n\n              while (prevPoint.tetrate(degree, 1, true).eq(_upperBound.tetrate(degree, 1, true)) || nextPoint.tetrate(degree, 1, true).eq(_upperBound.tetrate(degree, 1, true)) || prevPoint.gte(_upperBound) || nextPoint.lte(_upperBound)) {\n                prevspan = prevspan.mul(2);\n                prevPoint = _upper.add(prevspan).pow10().recip();\n                distance = _upperBound.sub(prevPoint);\n                nextPoint = _upperBound.add(distance);\n              }\n\n              if (stage == 1 && nextPoint.tetrate(degree, 1, true).gt(_upperBound.tetrate(degree, 1, true)) && prevPoint.tetrate(degree, 1, true).gt(_upperBound.tetrate(degree, 1, true)) || stage == 3 && nextPoint.tetrate(degree, 1, true).lt(_upperBound.tetrate(degree, 1, true)) && prevPoint.tetrate(degree, 1, true).lt(_upperBound.tetrate(degree, 1, true))) {\n                lastValid = _upper;\n              }\n\n              if (nextPoint.tetrate(degree, 1, true).lt(_upperBound.tetrate(degree, 1, true))) {\n                //Derivative is negative, so we're in decreasing range\n                range = -1;\n              } else if (evenDegree) {\n                //No zero range, so we're in increasing range\n                range = 1;\n              } else if (stage == 3 && _upper.gt_tolerance(minimum, 1e-8)) {\n                //We're already below the minimum, so we can't be in range 1\n                range = 0;\n              } else {\n                //Number imprecision has left the second derivative somewhat untrustworthy, so we need to expand the bounds to ensure it's correct\n                while (prevPoint.tetrate(degree, 1, true).eq_tolerance(_upperBound.tetrate(degree, 1, true), 1e-8) || nextPoint.tetrate(degree, 1, true).eq_tolerance(_upperBound.tetrate(degree, 1, true), 1e-8) || prevPoint.gte(_upperBound) || nextPoint.lte(_upperBound)) {\n                  prevspan = prevspan.mul(2);\n                  prevPoint = _upper.add(prevspan).pow10().recip();\n                  distance = _upperBound.sub(prevPoint);\n                  nextPoint = _upperBound.add(distance);\n                }\n\n                if (nextPoint.tetrate(degree, 1, true).sub(_upperBound.tetrate(degree, 1, true)).lt(_upperBound.tetrate(degree, 1, true).sub(prevPoint.tetrate(degree, 1, true)))) {\n                  //Second derivative is negative, so we're in zero range\n                  range = 0;\n                } else {\n                  //By process of elimination, we're in increasing range\n                  range = 1;\n                }\n              }\n            }\n\n            if (range == -1) decreasingFound = true;\n\n            if (stage == 1 && range == 1 || stage == 3 && range != 0) {\n              //The upper bound is too high\n              if (_lower.eq(FC(1, 10, 1))) {\n                _upper = _upper.mul(2);\n              } else {\n                var cutOff = false;\n                if (infLoopDetector && (range == 1 && stage == 1 || range == -1 && stage == 3)) cutOff = true; //Avoids infinite loops from floating point imprecision\n\n                _upper = _upper.add(_lower).div(2);\n                if (cutOff) break;\n              }\n            } else {\n              if (_lower.eq(FC(1, 10, 1))) {\n                //We've now found an actual lower bound\n                _lower = _upper;\n                _upper = _upper.div(2);\n              } else {\n                //The upper bound is too low, meaning last time we decreased the upper bound, we should have gone to the other half of the new range instead\n                var _cutOff = false;\n                if (infLoopDetector && (range == 1 && stage == 1 || range == -1 && stage == 3)) _cutOff = true; //Avoids infinite loops from floating point imprecision\n\n                _lower = _lower.sub(difference);\n                _upper = _upper.sub(difference);\n                if (_cutOff) break;\n              }\n            }\n\n            if (_lower.sub(_upper).div(2).abs().gt(difference.mul(1.5))) infLoopDetector = true;\n            difference = _lower.sub(_upper).div(2).abs();\n            if (_upper.gt(\"1e18\")) break;\n            if (_upper.eq(previousUpper)) break; //Another infinite loop catcher\n          }\n\n          if (_upper.gt(\"1e18\")) break;\n          if (!decreasingFound) break; //If there's no decreasing range, then even if an error caused lastValid to gain a value, the minimum can't exist\n\n          if (lastValid == FC(1, 10, 1)) {\n            //Whatever we're searching for, it doesn't exist. If there's no minimum, then there's no maximum either, so either way we can end the loop here.\n            break;\n          }\n\n          if (stage == 1) minimum = lastValid;else if (stage == 3) maximum = lastValid;\n          stage++;\n        } //Now we have the minimum and maximum, so it's time to calculate the actual super-root.\n        //First, check if the root is in the increasing range.\n\n\n        _lower = minimum;\n        _upper = FC(1, 1, -18);\n        var _previous = _upper;\n        var _guess = Decimal.dZero;\n        var _loopGoing = true;\n\n        while (_loopGoing) {\n          if (_lower.eq(FC(1, 10, 1))) _guess = _upper.mul(2);else _guess = _lower.add(_upper).div(2);\n          if (Decimal.pow(10, _guess).recip().tetrate(degree, 1, true).gt(this)) _upper = _guess;else _lower = _guess;\n          if (_guess.eq(_previous)) _loopGoing = false;else _previous = _guess;\n          if (_upper.gt(\"1e18\")) return Decimal.dNaN;\n        } //using guess.neq(minimum) led to imprecision errors, so here's a fixed version of that\n\n\n        if (!_guess.eq_tolerance(minimum, 1e-15)) {\n          return _guess.pow10().recip();\n        } else {\n          //If guess == minimum, we haven't actually found the super-root, the algorithm just kept going down trying to find a super-root that's not in the increasing range.\n          //Check if the root is in the zero range.\n          if (maximum.eq(FC(1, 10, 1))) {\n            //There is no zero range, so the super root doesn't exist\n            return Decimal.dNaN;\n          }\n\n          _lower = FC(1, 10, 1);\n          _upper = maximum;\n          _previous = _upper;\n          _guess = Decimal.dZero;\n          _loopGoing = true;\n\n          while (_loopGoing) {\n            if (_lower.eq(FC(1, 10, 1))) _guess = _upper.mul(2);else _guess = _lower.add(_upper).div(2);\n            if (Decimal.pow(10, _guess).recip().tetrate(degree, 1, true).gt(this)) _upper = _guess;else _lower = _guess;\n            if (_guess.eq(_previous)) _loopGoing = false;else _previous = _guess;\n            if (_upper.gt(\"1e18\")) return Decimal.dNaN;\n          }\n\n          return _guess.pow10().recip();\n        }\n      }\n    }\n    /**\r\n     * Pentation/pentate: The result of tetrating 'height' times in a row. An absurdly strong operator - Decimal.pentate(2, 4.28) and Decimal.pentate(10, 2.37) are already too huge for break_eternity.js!\r\n     * https://en.wikipedia.org/wiki/Pentation\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     *\r\n     * For non-whole pentation heights, the linear approximation of pentation is always used, as there is no defined analytic approximation of pentation.\r\n     */\n\n  }, {\n    key: \"pentate\",\n    value: function pentate() {\n      var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      payload = D(payload);\n      var oldheight = height;\n      height = Math.trunc(height);\n      var fracheight = oldheight - height; //I have no idea if this is a meaningful approximation for pentation to continuous heights, but it is monotonic and continuous.\n\n      if (fracheight !== 0) {\n        if (payload.eq(Decimal.dOne)) {\n          ++height;\n          payload = Decimal.fromNumber(fracheight);\n        } else {\n          if (this.eq(10)) {\n            payload = payload.layeradd10(fracheight, linear);\n          } else {\n            payload = payload.layeradd(fracheight, this, linear);\n          }\n        }\n      }\n\n      for (var i = 0; i < height; ++i) {\n        payload = this.tetrate(payload.toNumber(), Decimal.dOne, linear); //bail if we're NaN\n\n        if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n          return payload.normalize();\n        } //give up after 10 iterations if nothing is happening\n\n\n        if (i > 10) {\n          return payload;\n        }\n      }\n\n      return payload;\n    } // trig functions!\n\n    /**\r\n     * The sine function, one of the main two trigonometric functions. Behaves periodically with period 2*pi.\r\n     */\n\n  }, {\n    key: \"sin\",\n    value: function sin() {\n      if (this.mag < 0) {\n        return this;\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.sin(this.sign * this.mag));\n      }\n\n      return FC_NN(0, 0, 0);\n    }\n    /**\r\n     * The cosine function, one of the main two trigonometric functions. Behaves periodically with period 2*pi.\r\n     */\n\n  }, {\n    key: \"cos\",\n    value: function cos() {\n      if (this.mag < 0) {\n        return Decimal.dOne;\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.cos(this.sign * this.mag));\n      }\n\n      return FC_NN(0, 0, 0);\n    }\n    /**\r\n     * The tangent function, equal to sine divided by cosine. Behaves periodically with period pi.\r\n     */\n\n  }, {\n    key: \"tan\",\n    value: function tan() {\n      if (this.mag < 0) {\n        return this;\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.tan(this.sign * this.mag));\n      }\n\n      return FC_NN(0, 0, 0);\n    }\n    /**\r\n     * The arcsine function, the inverse of the sine function.\r\n     */\n\n  }, {\n    key: \"asin\",\n    value: function asin() {\n      if (this.mag < 0) {\n        return this;\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.asin(this.sign * this.mag));\n      }\n\n      return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n    /**\r\n     * The arccosine function, the inverse of the cosine function.\r\n     */\n\n  }, {\n    key: \"acos\",\n    value: function acos() {\n      if (this.mag < 0) {\n        return Decimal.fromNumber(Math.acos(this.toNumber()));\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.acos(this.sign * this.mag));\n      }\n\n      return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n    /**\r\n     * The arctangent function, the inverse of the tangent function.\r\n     */\n\n  }, {\n    key: \"atan\",\n    value: function atan() {\n      if (this.mag < 0) {\n        return this;\n      }\n\n      if (this.layer === 0) {\n        return Decimal.fromNumber(Math.atan(this.sign * this.mag));\n      }\n\n      return Decimal.fromNumber(Math.atan(this.sign * 1.8e308));\n    }\n    /**\r\n     * Hyperbolic sine: sinh(X) = (e^x - e^-x)/2.\r\n     */\n\n  }, {\n    key: \"sinh\",\n    value: function sinh() {\n      return this.exp().sub(this.negate().exp()).div(2);\n    }\n    /**\r\n     * Hyperbolic cosine: cosh(x) = (e^x + e^-x)/2.\r\n     */\n\n  }, {\n    key: \"cosh\",\n    value: function cosh() {\n      return this.exp().add(this.negate().exp()).div(2);\n    }\n    /**\r\n     * Hyperbolic tangent: tanh(x) = sinh(x)/cosh(x).\r\n     */\n\n  }, {\n    key: \"tanh\",\n    value: function tanh() {\n      return this.sinh().div(this.cosh());\n    }\n    /**\r\n     * Hyperbolic arcsine, the inverse of hyperbolic sine.\r\n     */\n\n  }, {\n    key: \"asinh\",\n    value: function asinh() {\n      return Decimal.ln(this.add(this.sqr().add(1).sqrt()));\n    }\n    /**\r\n     * Hyperbolic arccosine, the inverse of hyperbolic cosine.\r\n     */\n\n  }, {\n    key: \"acosh\",\n    value: function acosh() {\n      return Decimal.ln(this.add(this.sqr().sub(1).sqrt()));\n    }\n    /**\r\n     * Hyperbolic arcctangent, the inverse of hyperbolic tangent.\r\n     */\n\n  }, {\n    key: \"atanh\",\n    value: function atanh() {\n      if (this.abs().gte(1)) {\n        return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n      }\n\n      return Decimal.ln(this.add(1).div(Decimal.fromNumber(1).sub(this))).div(2);\n    }\n    /**\r\n     * Joke function from Realm Grinder\r\n     */\n\n  }, {\n    key: \"ascensionPenalty\",\n    value: function ascensionPenalty(ascensions) {\n      if (ascensions === 0) {\n        return this;\n      }\n\n      return this.root(Decimal.pow(10, ascensions));\n    }\n    /**\r\n     * Joke function from Cookie Clicker. It's 'egg'\r\n     */\n\n  }, {\n    key: \"egg\",\n    value: function egg() {\n      return this.add(9);\n    }\n  }, {\n    key: \"lessThanOrEqualTo\",\n    value: function lessThanOrEqualTo(other) {\n      return this.cmp(other) < 1;\n    }\n  }, {\n    key: \"lessThan\",\n    value: function lessThan(other) {\n      return this.cmp(other) < 0;\n    }\n  }, {\n    key: \"greaterThanOrEqualTo\",\n    value: function greaterThanOrEqualTo(other) {\n      return this.cmp(other) > -1;\n    }\n  }, {\n    key: \"greaterThan\",\n    value: function greaterThan(other) {\n      return this.cmp(other) > 0;\n    }\n  }], [{\n    key: \"fromComponents\",\n    value: function fromComponents(sign, layer, mag) {\n      return new Decimal().fromComponents(sign, layer, mag);\n    }\n    /**\r\n     * Turns the given components into a Decimal, but not necessarily a valid one (it's only valid if the components would already create a valid Decimal without normalization). Users of this library should not use this function.\r\n     */\n\n  }, {\n    key: \"fromComponents_noNormalize\",\n    value: function fromComponents_noNormalize(sign, layer, mag) {\n      return new Decimal().fromComponents_noNormalize(sign, layer, mag);\n    }\n    /**\r\n     * Turns the mantissa and exponent into a valid Decimal with value mantissa * 10^exponent.\r\n     */\n\n  }, {\n    key: \"fromMantissaExponent\",\n    value: function fromMantissaExponent(mantissa, exponent) {\n      return new Decimal().fromMantissaExponent(mantissa, exponent);\n    }\n    /**\r\n     * Turns the mantissa and exponent into a Decimal, but not necessarily a valid one. Users of this library should not use this function.\r\n     */\n\n  }, {\n    key: \"fromMantissaExponent_noNormalize\",\n    value: function fromMantissaExponent_noNormalize(mantissa, exponent) {\n      return new Decimal().fromMantissaExponent_noNormalize(mantissa, exponent);\n    }\n    /**\r\n     * Creates a deep copy of the provided value.\r\n     */\n\n  }, {\n    key: \"fromDecimal\",\n    value: function fromDecimal(value) {\n      return new Decimal().fromDecimal(value);\n    }\n    /**\r\n     * Converts a floating-point number into a Decimal.\r\n     */\n\n  }, {\n    key: \"fromNumber\",\n    value: function fromNumber(value) {\n      return new Decimal().fromNumber(value);\n    }\n    /**\r\n     * Converts a string into a Decimal.\r\n     *\r\n     * If linearhyper4 is true, then strings like \"10^^8.5\" will use the linear approximation of tetration even for bases <= 10.\r\n     */\n\n  }, {\n    key: \"fromString\",\n    value: function fromString(value) {\n      var linearhyper4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return new Decimal().fromString(value, linearhyper4);\n    }\n    /**\r\n     * The function used by new Decimal() to create a new Decimal. Accepts a DecimalSource: uses fromNumber if given a number, uses fromString if given a string, and uses fromDecimal if given a Decimal.\r\n     */\n\n  }, {\n    key: \"fromValue\",\n    value: function fromValue(value) {\n      return new Decimal().fromValue(value);\n    }\n    /**\r\n     * Converts a DecimalSource to a Decimal, without constructing a new Decimal\r\n     * if the provided value is already a Decimal.\r\n     *\r\n     * As the return value could be the provided value itself, this function\r\n     * returns a read-only Decimal to prevent accidental mutations of the value.\r\n     * Use `new Decimal(value)` to explicitly create a writeable copy if mutation\r\n     * is required.\r\n     */\n\n  }, {\n    key: \"fromValue_noAlloc\",\n    value: function fromValue_noAlloc(value) {\n      if (value instanceof Decimal) {\n        return value;\n      } else if (typeof value === \"string\") {\n        var cached = Decimal.fromStringCache.get(value);\n\n        if (cached !== undefined) {\n          return cached;\n        }\n\n        return Decimal.fromString(value);\n      } else if (typeof value === \"number\") {\n        return Decimal.fromNumber(value);\n      } else {\n        // This should never happen... but some users like Prestige Tree Rewritten\n        // pass undefined values in as DecimalSources, so we should handle this\n        // case to not break them.\n        return Decimal.dZero;\n      }\n    }\n    /**\r\n     * Absolute value function: returns 'value' if 'value' >= 0, returns the negative of 'value' if 'value' < 0.\r\n     */\n\n  }, {\n    key: \"abs\",\n    value: function abs(value) {\n      return D(value).abs();\n    }\n    /**\r\n     * Returns the negative of the given value.\r\n     */\n\n  }, {\n    key: \"neg\",\n    value: function neg(value) {\n      return D(value).neg();\n    }\n    /**\r\n     * Returns the negative of the given value.\r\n     */\n\n  }, {\n    key: \"negate\",\n    value: function negate(value) {\n      return D(value).neg();\n    }\n    /**\r\n     * Returns the negative of the given value.\r\n     */\n\n  }, {\n    key: \"negated\",\n    value: function negated(value) {\n      return D(value).neg();\n    }\n    /**\r\n     * Returns the sign of the given value.\r\n     */\n\n  }, {\n    key: \"sign\",\n    value: function sign(value) {\n      return D(value).sign;\n    }\n    /**\r\n     * Returns the sign of the given value.\r\n     */\n\n  }, {\n    key: \"sgn\",\n    value: function sgn(value) {\n      return D(value).sign;\n    }\n    /**\r\n     * Rounds the value to the nearest integer.\r\n     */\n\n  }, {\n    key: \"round\",\n    value: function round(value) {\n      return D(value).round();\n    }\n    /**\r\n     * \"Rounds\" the value to the nearest integer that's less than or equal to it.\r\n     */\n\n  }, {\n    key: \"floor\",\n    value: function floor(value) {\n      return D(value).floor();\n    }\n    /**\r\n     * \"Rounds\" the value to the nearest integer that's greater than or equal to it.\r\n     */\n\n  }, {\n    key: \"ceil\",\n    value: function ceil(value) {\n      return D(value).ceil();\n    }\n    /**\r\n     * Extracts the integer part of the Decimal and returns it. Behaves like floor on positive numbers, but behaves like ceiling on negative numbers.\r\n     */\n\n  }, {\n    key: \"trunc\",\n    value: function trunc(value) {\n      return D(value).trunc();\n    }\n    /**\r\n     * Addition: returns the sum of the two Decimals.\r\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(value, other) {\n      return D(value).add(other);\n    }\n    /**\r\n     * Addition: returns the sum of the two Decimals.\r\n     */\n\n  }, {\n    key: \"plus\",\n    value: function plus(value, other) {\n      return D(value).add(other);\n    }\n    /**\r\n     * Subtraction: returns the difference between 'value' and 'other'.\r\n     */\n\n  }, {\n    key: \"sub\",\n    value: function sub(value, other) {\n      return D(value).sub(other);\n    }\n    /**\r\n     * Subtraction: returns the difference between 'value' and 'other'.\r\n     */\n\n  }, {\n    key: \"subtract\",\n    value: function subtract(value, other) {\n      return D(value).sub(other);\n    }\n    /**\r\n     * Subtraction: returns the difference between 'value' and 'other'.\r\n     */\n\n  }, {\n    key: \"minus\",\n    value: function minus(value, other) {\n      return D(value).sub(other);\n    }\n    /**\r\n     * Multiplication: returns the product of the two Decimals.\r\n     */\n\n  }, {\n    key: \"mul\",\n    value: function mul(value, other) {\n      return D(value).mul(other);\n    }\n    /**\r\n     * Multiplication: returns the product of the two Decimals.\r\n     */\n\n  }, {\n    key: \"multiply\",\n    value: function multiply(value, other) {\n      return D(value).mul(other);\n    }\n    /**\r\n     * Multiplication: returns the product of the two Decimals.\r\n     */\n\n  }, {\n    key: \"times\",\n    value: function times(value, other) {\n      return D(value).mul(other);\n    }\n    /**\r\n     * Division: returns the quotient of 'value' and 'other'.\r\n     */\n\n  }, {\n    key: \"div\",\n    value: function div(value, other) {\n      return D(value).div(other);\n    }\n    /**\r\n     * Division: returns the quotient of 'value' and 'other'.\r\n     */\n\n  }, {\n    key: \"divide\",\n    value: function divide(value, other) {\n      return D(value).div(other);\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the given value.\r\n     */\n\n  }, {\n    key: \"recip\",\n    value: function recip(value) {\n      return D(value).recip();\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the given value.\r\n     */\n\n  }, {\n    key: \"reciprocal\",\n    value: function reciprocal(value) {\n      return D(value).recip();\n    }\n    /**\r\n     * Returns the reciprocal (1 / X) of the given value.\r\n     */\n\n  }, {\n    key: \"reciprocate\",\n    value: function reciprocate(value) {\n      return D(value).reciprocate();\n    }\n    /**\r\n     * Returns the remainder of 'value' divided by 'other': for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n\n  }, {\n    key: \"mod\",\n    value: function mod(value, other) {\n      return D(value).mod(other);\n    }\n    /**\r\n     * Returns the remainder of 'value' divided by 'other': for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n\n  }, {\n    key: \"modulo\",\n    value: function modulo(value, other) {\n      return D(value).modulo(other);\n    }\n    /**\r\n     * Returns the remainder of 'value' divided by 'other': for example, 5 mod 2 = 1, because the remainder of 5 / 2 is 1.\r\n     * Uses the \"truncated division\" modulo, which is the same as JavaScript's native modulo operator (%).\r\n     */\n\n  }, {\n    key: \"modular\",\n    value: function modular(value, other) {\n      return D(value).modular(other);\n    }\n    /**\r\n     * Returns 1 if 'value' > 'other', returns -1 if 'value' < 'other', returns 0 if 'value' == 'other'.\r\n     */\n\n  }, {\n    key: \"cmp\",\n    value: function cmp(value, other) {\n      return D(value).cmp(other);\n    }\n    /**\r\n     * Compares the absolute values of this and value.\r\n     * Returns 1 if |'value'| > |'other'|, returns -1 if |'value'| < |'other'|, returns 0 if |'value'| == |'other'|.\r\n     */\n\n  }, {\n    key: \"cmpabs\",\n    value: function cmpabs(value, other) {\n      return D(value).cmpabs(other);\n    }\n    /**\r\n     * Returns 1 if 'value' > 'other', returns -1 if 'value' < 'other', returns 0 if 'value' == 'other'.\r\n     */\n\n  }, {\n    key: \"compare\",\n    value: function compare(value, other) {\n      return D(value).cmp(other);\n    }\n    /**\r\n     * Returns true if the given value is an NaN value.\r\n     */\n\n  }, {\n    key: \"isNaN\",\n    value: function (_isNaN) {\n      function isNaN(_x) {\n        return _isNaN.apply(this, arguments);\n      }\n\n      isNaN.toString = function () {\n        return _isNaN.toString();\n      };\n\n      return isNaN;\n    }(function (value) {\n      value = D(value);\n      return isNaN(value.sign) || isNaN(value.layer) || isNaN(value.mag);\n    }\n    /**\r\n     * Returns true if the given value is finite (by Decimal standards, not by floating point standards - a humongous Decimal like 10^^10^100 is still finite!)\r\n     */\n    )\n  }, {\n    key: \"isFinite\",\n    value: function (_isFinite) {\n      function isFinite(_x2) {\n        return _isFinite.apply(this, arguments);\n      }\n\n      isFinite.toString = function () {\n        return _isFinite.toString();\n      };\n\n      return isFinite;\n    }(function (value) {\n      value = D(value);\n      return isFinite(value.sign) && isFinite(value.layer) && isFinite(value.mag);\n    }\n    /**\r\n     * The Decimal equivalent of ==. Returns true if 'value' and 'other' have equal values.\r\n     */\n    )\n  }, {\n    key: \"eq\",\n    value: function eq(value, other) {\n      return D(value).eq(other);\n    }\n    /**\r\n     * Returns true if 'value' and 'other' have equal values.\r\n     */\n\n  }, {\n    key: \"equals\",\n    value: function equals(value, other) {\n      return D(value).eq(other);\n    }\n    /**\r\n     * The Decimal equivalent of !=. Returns true if 'value' and 'other' do not have equal values.\r\n     */\n\n  }, {\n    key: \"neq\",\n    value: function neq(value, other) {\n      return D(value).neq(other);\n    }\n    /**\r\n     * Returns true if 'value' and 'other' do not have equal values.\r\n     */\n\n  }, {\n    key: \"notEquals\",\n    value: function notEquals(value, other) {\n      return D(value).notEquals(other);\n    }\n    /**\r\n     * The Decimal equivalent of <. Returns true if 'value' is less than 'other'.\r\n     */\n\n  }, {\n    key: \"lt\",\n    value: function lt(value, other) {\n      return D(value).lt(other);\n    }\n    /**\r\n     * The Decimal equivalent of <=. Returns true if 'value' is less than or equal to 'other'.\r\n     */\n\n  }, {\n    key: \"lte\",\n    value: function lte(value, other) {\n      return D(value).lte(other);\n    }\n    /**\r\n     * The Decimal equivalent of >. Returns true if 'value' is greater than 'other'.\r\n     */\n\n  }, {\n    key: \"gt\",\n    value: function gt(value, other) {\n      return D(value).gt(other);\n    }\n    /**\r\n     * The Decimal equivalent of >=. Returns true if 'value' is greater than or equal to 'other'.\r\n     */\n\n  }, {\n    key: \"gte\",\n    value: function gte(value, other) {\n      return D(value).gte(other);\n    }\n    /**\r\n     * Returns whichever of 'value' and 'other' is higher.\r\n     */\n\n  }, {\n    key: \"max\",\n    value: function max(value, other) {\n      return D(value).max(other);\n    }\n    /**\r\n     * Returns whichever of 'value' and 'other' is lower.\r\n     */\n\n  }, {\n    key: \"min\",\n    value: function min(value, other) {\n      return D(value).min(other);\n    }\n    /**\r\n     * Returns whichever of 'value' and 'other' has a larger absolute value.\r\n     */\n\n  }, {\n    key: \"minabs\",\n    value: function minabs(value, other) {\n      return D(value).minabs(other);\n    }\n    /**\r\n     * Returns whichever of 'value' and 'other' has a smaller absolute value.\r\n     */\n\n  }, {\n    key: \"maxabs\",\n    value: function maxabs(value, other) {\n      return D(value).maxabs(other);\n    }\n    /**\r\n     * A combination of minimum and maximum: the value returned by clamp is normally 'value', but it won't go below 'min' and it won't go above 'max'.\r\n     * Therefore, if 'value' < 'min', then 'min' is returned, and if 'value' > 'max', then 'max' is returned.\r\n     */\n\n  }, {\n    key: \"clamp\",\n    value: function clamp(value, min, max) {\n      return D(value).clamp(min, max);\n    }\n    /**\r\n     * Returns 'value', unless 'value' is less than 'min', in which case 'min' is returned.\r\n     */\n\n  }, {\n    key: \"clampMin\",\n    value: function clampMin(value, min) {\n      return D(value).clampMin(min);\n    }\n    /**\r\n     * Returns 'value', unless 'value' is greater than 'max', in which case 'max' is returned.\r\n     */\n\n  }, {\n    key: \"clampMax\",\n    value: function clampMax(value, max) {\n      return D(value).clampMax(max);\n    }\n    /**\r\n     * Returns 1 if 'value' is greater than 'other', returns -1 if 'value' is less than 'other', returns 0 if 'value' is equal to 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"cmp_tolerance\",\n    value: function cmp_tolerance(value, other, tolerance) {\n      return D(value).cmp_tolerance(other, tolerance);\n    }\n    /**\r\n     * Returns 1 if 'value' is greater than 'other', returns -1 if 'value' is less than 'other', returns 0 if 'value' is equal to 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"compare_tolerance\",\n    value: function compare_tolerance(value, other, tolerance) {\n      return D(value).cmp_tolerance(other, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"eq_tolerance\",\n    value: function eq_tolerance(value, other, tolerance) {\n      return D(value).eq_tolerance(other, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"equals_tolerance\",\n    value: function equals_tolerance(value, other, tolerance) {\n      return D(value).eq_tolerance(other, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are not approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"neq_tolerance\",\n    value: function neq_tolerance(value, other, tolerance) {\n      return D(value).neq_tolerance(other, tolerance);\n    }\n    /**\r\n     * Tests whether two Decimals are not approximately equal, up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"notEquals_tolerance\",\n    value: function notEquals_tolerance(value, other, tolerance) {\n      return D(value).notEquals_tolerance(other, tolerance);\n    }\n    /**\r\n     * Returns true if 'value' is less than 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"lt_tolerance\",\n    value: function lt_tolerance(value, other, tolerance) {\n      return D(value).lt_tolerance(other, tolerance);\n    }\n    /**\r\n     * Returns true if 'value' is less than or equal to 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"lte_tolerance\",\n    value: function lte_tolerance(value, other, tolerance) {\n      return D(value).lte_tolerance(other, tolerance);\n    }\n    /**\r\n     * Returns true if 'value' is greater than 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"gt_tolerance\",\n    value: function gt_tolerance(value, other, tolerance) {\n      return D(value).gt_tolerance(other, tolerance);\n    }\n    /**\r\n     * Returns true if 'value' is greater than or equal to 'other'.\r\n     * However, the two Decimals are considered equal if they're approximately equal up to a certain tolerance.\r\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\r\n     * For example, if you put in 1e-9, then any number closer to the\r\n     * larger number than (larger number)*1e-9 will be considered equal.\r\n     */\n\n  }, {\n    key: \"gte_tolerance\",\n    value: function gte_tolerance(value, other, tolerance) {\n      return D(value).gte_tolerance(other, tolerance);\n    }\n    /**\r\n     * \"Positive log10\": Returns the base-10 logarithm of nonnegative Decimals, but returns 0 for negative Decimals.\r\n     */\n\n  }, {\n    key: \"pLog10\",\n    value: function pLog10(value) {\n      return D(value).pLog10();\n    }\n    /**\r\n     * Returns the base-10 logarithm of abs('value').\r\n     */\n\n  }, {\n    key: \"absLog10\",\n    value: function absLog10(value) {\n      return D(value).absLog10();\n    }\n    /**\r\n     * Base-10 logarithm: returns the Decimal X such that 10^X = 'value'.\r\n     * For numbers above layer 0, this is equivalent to subtracting 1 from layer and normalizing.\r\n     */\n\n  }, {\n    key: \"log10\",\n    value: function log10(value) {\n      return D(value).log10();\n    }\n    /**\r\n     * Logarithms are one of the inverses of exponentiation: this function finds the Decimal X such that base^X = 'value'.\r\n     */\n\n  }, {\n    key: \"log\",\n    value: function log(value, base) {\n      return D(value).log(base);\n    }\n    /**\r\n     * Base-2 logarithm: returns the Decimal X such that 2^X = 'value'.\r\n     */\n\n  }, {\n    key: \"log2\",\n    value: function log2(value) {\n      return D(value).log2();\n    }\n    /**\r\n     * Base-e logarithm, also known as the \"natural\" logarithm: returns the Decimal X such that e^X = 'value'.\r\n     */\n\n  }, {\n    key: \"ln\",\n    value: function ln(value) {\n      return D(value).ln();\n    }\n    /**\r\n     * Logarithms are one of the inverses of exponentiation: this function finds the Decimal X such that base^X = 'value'.\r\n     */\n\n  }, {\n    key: \"logarithm\",\n    value: function logarithm(value, base) {\n      return D(value).logarithm(base);\n    }\n    /**\r\n     * Exponentiation: Returns the result of 'value' ^ 'other' (often written as 'value' ** 'other' in programming languages).\r\n     */\n\n  }, {\n    key: \"pow\",\n    value: function pow(value, other) {\n      return D(value).pow(other);\n    }\n    /**\r\n     * Raises 10 to the power of 'value', i.e. (10^'value'). For positive numbers above 1, this is equivalent to adding 1 to the value's layer and normalizing.\r\n     */\n\n  }, {\n    key: \"pow10\",\n    value: function pow10(value) {\n      return D(value).pow10();\n    }\n    /**\r\n     * Roots are one of the inverses of exponentiation: this function finds the Decimal X such that X ^ 'other' = 'value'.\r\n     * Equivalent to 'value' ^ (1 / 'other'), which is written here as value.pow(other.recip()).\r\n     */\n\n  }, {\n    key: \"root\",\n    value: function root(value, other) {\n      return D(value).root(other);\n    }\n    /**\r\n     * For positive integers, X factorial (written as X!) equals X * (X - 1) * (X - 2) *... * 3 * 2 * 1. 0! equals 1.\r\n     * This can be extended to real numbers (except for negative integers) via the gamma function, which is what this function does.\r\n     */\n\n  }, {\n    key: \"factorial\",\n    value: function factorial(value, _other) {\n      return D(value).factorial();\n    }\n    /**\r\n     * The gamma function extends the idea of factorials to non-whole numbers using some calculus.\r\n     * Gamma(x) is defined as the integral of t^(x-1) * e^-t dt from t = 0 to t = infinity,\r\n     * and gamma(x) = (x - 1)! for nonnegative integer x, so the factorial for non-whole numbers is defined using the gamma function.\r\n     */\n\n  }, {\n    key: \"gamma\",\n    value: function gamma(value, _other) {\n      return D(value).gamma();\n    }\n    /**\r\n     * Returns the natural (base-e) logarithm of Gamma('value').\r\n     */\n\n  }, {\n    key: \"lngamma\",\n    value: function lngamma(value, _other) {\n      return D(value).lngamma();\n    }\n    /**\r\n     * Base-e exponentiation: returns e^'value'.\r\n     */\n\n  }, {\n    key: \"exp\",\n    value: function exp(value) {\n      return D(value).exp();\n    }\n    /**\r\n     * Squaring a number means multiplying it by itself, a.k.a. raising it to the second power.\r\n     */\n\n  }, {\n    key: \"sqr\",\n    value: function sqr(value) {\n      return D(value).sqr();\n    }\n    /**\r\n     * Square root: finds the Decimal X such that X * X, a.k.a X^2, equals 'value'. Equivalent to X^(1/2).\r\n     */\n\n  }, {\n    key: \"sqrt\",\n    value: function sqrt(value) {\n      return D(value).sqrt();\n    }\n    /**\r\n     * Cubing a number means raising it to the third power.\r\n     */\n\n  }, {\n    key: \"cube\",\n    value: function cube(value) {\n      return D(value).cube();\n    }\n    /**\r\n     * Cube root: finds the Decimal X such that X^3 equals 'value'. Equivalent to X^(1/3).\r\n     */\n\n  }, {\n    key: \"cbrt\",\n    value: function cbrt(value) {\n      return D(value).cbrt();\n    }\n    /**\r\n     *\r\n     * Tetration: The result of exponentiating 'value' to 'value' 'height' times in a row.  https://en.wikipedia.org/wiki/Tetration\r\n     *\r\n     * If payload != 1, then this is 'iterated exponentiation', the result of exping 'payload' to base 'value' 'height' times. https://andydude.github.io/tetration/archives/tetration2/ident.html\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"tetrate\",\n    value: function tetrate(value) {\n      var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return D(value).tetrate(height, payload, linear);\n    }\n    /**\r\n     * Iterated exponentiation, the result of exping 'payload' to base 'value' 'height' times. https://andydude.github.io/tetration/archives/tetration2/ident.html\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     *\r\n     * Identical to tetrate.\r\n     */\n\n  }, {\n    key: \"iteratedexp\",\n    value: function iteratedexp(value) {\n      var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return D(value).iteratedexp(height, payload, linear);\n    }\n    /**\r\n     * iterated log/repeated log: The result of applying log(base) 'times' times in a row. Approximately equal to subtracting 'times' from the number's slog representation. Equivalent to tetrating to a negative height.\r\n     *\r\n     * Works with negative and positive real heights. Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"iteratedlog\",\n    value: function iteratedlog(value) {\n      var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      var times = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var linear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return D(value).iteratedlog(base, times, linear);\n    }\n    /**\r\n     * Adds/removes layers from a Decimal, even fractional layers (e.g. its slog10 representation). Very similar to tetrate base 10 and iterated log base 10.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"layeradd10\",\n    value: function layeradd10(value, diff) {\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return D(value).layeradd10(diff, linear);\n    }\n    /**\r\n     * layeradd: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 'base' and iterated log base 'base'.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"layeradd\",\n    value: function layeradd(value, diff) {\n      var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var linear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return D(value).layeradd(diff, base, linear);\n    }\n    /**\r\n     * Super-logarithm, one of tetration's inverses, tells you what size power tower you'd have to tetrate 'base' to to get 'value'. https://en.wikipedia.org/wiki/Super-logarithm\r\n     *\r\n     * By definition, will never be higher than 1.8e308 in break_eternity.js, since a power tower 1.8e308 numbers tall is the largest representable number.\r\n     *\r\n     * Accepts a number of iterations (default is 100), and use binary search to, after making an initial guess, hone in on the true value, assuming tetration as the ground truth.\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     */\n\n  }, {\n    key: \"slog\",\n    value: function slog(value) {\n      var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      var linear = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return D(value).slog(base, 100, linear);\n    }\n    /**\r\n     * The Lambert W function, also called the omega function or product logarithm, is the solution W(x) === x*e^x.\r\n     * https://en.wikipedia.org/wiki/Lambert_W_function\r\n     */\n\n  }, {\n    key: \"lambertw\",\n    value: function lambertw(value) {\n      return D(value).lambertw();\n    }\n    /**\r\n     * The super square-root function - what number, tetrated to height 2, equals 'value'? https://en.wikipedia.org/wiki/Tetration#Super-root\r\n     */\n\n  }, {\n    key: \"ssqrt\",\n    value: function ssqrt(value) {\n      return D(value).ssqrt();\n    }\n    /**\r\n     * Super-root, one of tetration's inverses - what number, tetrated to height 'degree', equals 'value'? https://en.wikipedia.org/wiki/Tetration#Super-root\r\n     *\r\n     * Only works with the linear approximation of tetration, as starting with analytic and then switching to linear would result in inconsistent behavior for super-roots.\r\n     * This only matters for non-integer degrees.\r\n     */\n\n  }, {\n    key: \"linear_sroot\",\n    value: function linear_sroot(value, degree) {\n      return D(value).linear_sroot(degree);\n    }\n    /**\r\n     * Pentation/pentate: The result of tetrating 'height' times in a row. An absurdly strong operator - Decimal.pentate(2, 4.28) and Decimal.pentate(10, 2.37) are already too huge for break_eternity.js!\r\n     * https://en.wikipedia.org/wiki/Pentation\r\n     *\r\n     * Tetration for non-integer heights does not have a single agreed-upon definition,\r\n     * so this library uses an analytic approximation for bases <= 10, but it reverts to the linear approximation for bases > 10.\r\n     * If you want to use the linear approximation even for bases <= 10, set the linear parameter to true.\r\n     * Analytic approximation is not currently supported for bases > 10.\r\n     *\r\n     * For non-whole pentation heights, the linear approximation of pentation is always used, as there is no defined analytic approximation of pentation.\r\n     */\n\n  }, {\n    key: \"pentate\",\n    value: function pentate(value) {\n      var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FC_NN(1, 0, 1);\n      var linear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return D(value).pentate(height, payload, linear);\n    }\n    /**\r\n     * The sine function, one of the main two trigonometric functions. Behaves periodically with period 2*pi.\r\n     */\n\n  }, {\n    key: \"sin\",\n    value: function sin(value) {\n      return D(value).sin();\n    }\n    /**\r\n     * The cosine function, one of the main two trigonometric functions. Behaves periodically with period 2*pi.\r\n     */\n\n  }, {\n    key: \"cos\",\n    value: function cos(value) {\n      return D(value).cos();\n    }\n    /**\r\n     * The tangent function, equal to sine divided by cosine. Behaves periodically with period pi.\r\n     */\n\n  }, {\n    key: \"tan\",\n    value: function tan(value) {\n      return D(value).tan();\n    }\n    /**\r\n     * The arcsine function, the inverse of the sine function.\r\n     */\n\n  }, {\n    key: \"asin\",\n    value: function asin(value) {\n      return D(value).asin();\n    }\n    /**\r\n     * The arccosine function, the inverse of the cosine function.\r\n     */\n\n  }, {\n    key: \"acos\",\n    value: function acos(value) {\n      return D(value).acos();\n    }\n    /**\r\n     * The arctangent function, the inverse of the tangent function.\r\n     */\n\n  }, {\n    key: \"atan\",\n    value: function atan(value) {\n      return D(value).atan();\n    }\n    /**\r\n     * Hyperbolic sine: sinh(X) = (e^x - e^-x)/2.\r\n     */\n\n  }, {\n    key: \"sinh\",\n    value: function sinh(value) {\n      return D(value).sinh();\n    }\n    /**\r\n     * Hyperbolic cosine: cosh(x) = (e^x + e^-x)/2.\r\n     */\n\n  }, {\n    key: \"cosh\",\n    value: function cosh(value) {\n      return D(value).cosh();\n    }\n    /**\r\n     * Hyperbolic tangent: tanh(x) = sinh(x)/cosh(x).\r\n     */\n\n  }, {\n    key: \"tanh\",\n    value: function tanh(value) {\n      return D(value).tanh();\n    }\n    /**\r\n     * Hyperbolic arcsine, the inverse of hyperbolic sine.\r\n     */\n\n  }, {\n    key: \"asinh\",\n    value: function asinh(value) {\n      return D(value).asinh();\n    }\n    /**\r\n     * Hyperbolic arccosine, the inverse of hyperbolic cosine.\r\n     */\n\n  }, {\n    key: \"acosh\",\n    value: function acosh(value) {\n      return D(value).acosh();\n    }\n    /**\r\n     * Hyperbolic arcctangent, the inverse of hyperbolic tangent.\r\n     */\n\n  }, {\n    key: \"atanh\",\n    value: function atanh(value) {\n      return D(value).atanh();\n    }\n    /**\r\n     * If you're willing to spend 'resourcesAvailable' and want to buy something\r\n     * with exponentially increasing cost each purchase (start at priceStart,\r\n     * multiply by priceRatio, already own currentOwned), how much of it can you buy?\r\n     * Adapted from Trimps source code.\r\n     */\n\n  }, {\n    key: \"affordGeometricSeries\",\n    value: function affordGeometricSeries(resourcesAvailable, priceStart, priceRatio, currentOwned) {\n      return this.affordGeometricSeries_core(D(resourcesAvailable), D(priceStart), D(priceRatio), currentOwned);\n    }\n    /**\r\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\r\n     * the initial price is priceStart and it multiplies by priceRatio each purchase?\r\n     */\n\n  }, {\n    key: \"sumGeometricSeries\",\n    value: function sumGeometricSeries(numItems, priceStart, priceRatio, currentOwned) {\n      return this.sumGeometricSeries_core(numItems, D(priceStart), D(priceRatio), currentOwned);\n    }\n    /**\r\n     * If you're willing to spend 'resourcesAvailable' and want to buy something with additively\r\n     * increasing cost each purchase (start at priceStart, add by priceAdd, already own currentOwned),\r\n     * how much of it can you buy?\r\n     */\n\n  }, {\n    key: \"affordArithmeticSeries\",\n    value: function affordArithmeticSeries(resourcesAvailable, priceStart, priceAdd, currentOwned) {\n      return this.affordArithmeticSeries_core(D(resourcesAvailable), D(priceStart), D(priceAdd), D(currentOwned));\n    }\n    /**\r\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\r\n     * the initial price is priceStart and it adds priceAdd each purchase?\r\n     * Adapted from http://www.mathwords.com/a/arithmetic_series.htm\r\n     */\n\n  }, {\n    key: \"sumArithmeticSeries\",\n    value: function sumArithmeticSeries(numItems, priceStart, priceAdd, currentOwned) {\n      return this.sumArithmeticSeries_core(D(numItems), D(priceStart), D(priceAdd), D(currentOwned));\n    }\n    /**\r\n     * When comparing two purchases that cost (resource) and increase your resource/sec by (deltaRpS),\r\n     * the lowest efficiency score is the better one to purchase.\r\n     * From Frozen Cookies:\r\n     * http://cookieclicker.wikia.com/wiki/Frozen_Cookies_(JavaScript_Add-on)#Efficiency.3F_What.27s_that.3F\r\n     */\n\n  }, {\n    key: \"efficiencyOfPurchase\",\n    value: function efficiencyOfPurchase(cost, currentRpS, deltaRpS) {\n      return this.efficiencyOfPurchase_core(D(cost), D(currentRpS), D(deltaRpS));\n    }\n  }, {\n    key: \"randomDecimalForTesting\",\n    value: function randomDecimalForTesting(maxLayers) {\n      // NOTE: This doesn't follow any kind of sane random distribution, so use this for testing purposes only.\n      //5% of the time, return 0\n      if (Math.random() * 20 < 1) {\n        return FC_NN(0, 0, 0);\n      }\n\n      var randomsign = Math.random() > 0.5 ? 1 : -1; //5% of the time, return 1 or -1\n\n      if (Math.random() * 20 < 1) {\n        return FC_NN(randomsign, 0, 1);\n      } //pick a random layer\n\n\n      var layer = Math.floor(Math.random() * (maxLayers + 1));\n      var randomexp = layer === 0 ? Math.random() * 616 - 308 : Math.random() * 16; //10% of the time, make it a simple power of 10\n\n      if (Math.random() > 0.9) {\n        randomexp = Math.trunc(randomexp);\n      }\n\n      var randommag = Math.pow(10, randomexp); //10% of the time, trunc mag\n\n      if (Math.random() > 0.9) {\n        randommag = Math.trunc(randommag);\n      }\n\n      return FC(randomsign, layer, randommag);\n    }\n  }, {\n    key: \"affordGeometricSeries_core\",\n    value: function affordGeometricSeries_core(resourcesAvailable, priceStart, priceRatio, currentOwned) {\n      var actualStart = priceStart.mul(priceRatio.pow(currentOwned));\n      return Decimal.floor(resourcesAvailable.div(actualStart).mul(priceRatio.sub(1)).add(1).log10().div(priceRatio.log10()));\n    }\n  }, {\n    key: \"sumGeometricSeries_core\",\n    value: function sumGeometricSeries_core(numItems, priceStart, priceRatio, currentOwned) {\n      return priceStart.mul(priceRatio.pow(currentOwned)).mul(Decimal.sub(1, priceRatio.pow(numItems))).div(Decimal.sub(1, priceRatio));\n    }\n  }, {\n    key: \"affordArithmeticSeries_core\",\n    value: function affordArithmeticSeries_core(resourcesAvailable, priceStart, priceAdd, currentOwned) {\n      // n = (-(a-d/2) + sqrt((a-d/2)^2+2dS))/d\n      // where a is actualStart, d is priceAdd and S is resourcesAvailable\n      // then floor it and you're done!\n      var actualStart = priceStart.add(currentOwned.mul(priceAdd));\n      var b = actualStart.sub(priceAdd.div(2));\n      var b2 = b.pow(2);\n      return b.neg().add(b2.add(priceAdd.mul(resourcesAvailable).mul(2)).sqrt()).div(priceAdd).floor();\n    }\n  }, {\n    key: \"sumArithmeticSeries_core\",\n    value: function sumArithmeticSeries_core(numItems, priceStart, priceAdd, currentOwned) {\n      var actualStart = priceStart.add(currentOwned.mul(priceAdd)); // (n/2)*(2*a+(n-1)*d)\n\n      return numItems.div(2).mul(actualStart.mul(2).plus(numItems.sub(1).mul(priceAdd)));\n    }\n  }, {\n    key: \"efficiencyOfPurchase_core\",\n    value: function efficiencyOfPurchase_core(cost, currentRpS, deltaRpS) {\n      return cost.div(currentRpS).add(cost.div(deltaRpS));\n    }\n  }, {\n    key: \"slog_critical\",\n    value: function slog_critical(base, height) {\n      //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n      if (base > 10) {\n        return height - 1;\n      }\n\n      return Decimal.critical_section(base, height, critical_slog_values);\n    }\n  }, {\n    key: \"tetrate_critical\",\n    value: function tetrate_critical(base, height) {\n      return Decimal.critical_section(base, height, critical_tetr_values);\n    }\n  }, {\n    key: \"critical_section\",\n    value: function critical_section(base, height, grid) {\n      //this part is simple at least, since it's just 0.1 to 0.9\n      height *= 10;\n\n      if (height < 0) {\n        height = 0;\n      }\n\n      if (height > 10) {\n        height = 10;\n      } //have to do this complicated song and dance since one of the critical_headers is Math.E, and in the future I'd like 1.5 as well\n\n\n      if (base < 2) {\n        base = 2;\n      }\n\n      if (base > 10) {\n        base = 10;\n      }\n\n      var lower = 0;\n      var upper = 0; //basically, if we're between bases, we interpolate each bases' relevant values together\n      //then we interpolate based on what the fractional height is.\n      //accuracy could be improved by doing a non-linear interpolation (maybe), by adding more bases and heights (definitely) but this is AFAIK the best you can get without running some pari.gp or mathematica program to calculate exact values\n      //however, do note http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html can do it for arbitrary heights but not for arbitrary bases (2, e, 10 present)\n\n      for (var i = 0; i < critical_headers.length; ++i) {\n        if (critical_headers[i] == base) {\n          // exact match\n          lower = grid[i][Math.floor(height)];\n          upper = grid[i][Math.ceil(height)];\n          break;\n        } else if (critical_headers[i] < base && critical_headers[i + 1] > base) {\n          // interpolate between this and the next\n          var basefrac = (base - critical_headers[i]) / (critical_headers[i + 1] - critical_headers[i]);\n          lower = grid[i][Math.floor(height)] * (1 - basefrac) + grid[i + 1][Math.floor(height)] * basefrac;\n          upper = grid[i][Math.ceil(height)] * (1 - basefrac) + grid[i + 1][Math.ceil(height)] * basefrac;\n          break;\n        }\n      }\n\n      var frac = height - Math.floor(height); //improvement - you get more accuracy (especially around 0.9-1.0) by doing log, then frac, then powing the result\n      //(we could pre-log the lookup table, but then fractional bases would get Weird)\n      //also, use old linear for slog (values 0 or less in critical section). maybe something else is better but haven't thought about what yet\n\n      if (lower <= 0 || upper <= 0) {\n        return lower * (1 - frac) + upper * frac;\n      } else {\n        return Math.pow(base, Math.log(lower) / Math.log(base) * (1 - frac) + Math.log(upper) / Math.log(base) * frac);\n      }\n    }\n  }]);\n\n  return Decimal;\n}();\nDecimal.dZero = FC_NN(0, 0, 0);\nDecimal.dOne = FC_NN(1, 0, 1);\nDecimal.dNegOne = FC_NN(-1, 0, 1);\nDecimal.dTwo = FC_NN(1, 0, 2);\nDecimal.dTen = FC_NN(1, 0, 10);\nDecimal.dNaN = FC_NN(Number.NaN, Number.NaN, Number.NaN);\nDecimal.dInf = FC_NN(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\nDecimal.dNegInf = FC_NN(-1, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY);\nDecimal.dNumberMax = FC(1, 0, Number.MAX_VALUE);\nDecimal.dNumberMin = FC(1, 0, Number.MIN_VALUE);\nDecimal.fromStringCache = new LRUCache(DEFAULT_FROM_STRING_CACHE_SIZE); // return Decimal;\n// Optimise Decimal aliases.\n// We can't do this optimisation before Decimal is assigned.\n\nD = Decimal.fromValue_noAlloc;\nFC = Decimal.fromComponents;\nFC_NN = Decimal.fromComponents_noNormalize; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nDecimal.fromMantissaExponent; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nDecimal.fromMantissaExponent_noNormalize;\n\nexport { Decimal as default };\n","import {\n    getUpgradeTimesBought,\n    isUpgradeName,\n    player,\n    playerSettings\n} from \"./player\";\nimport Decimal from \"break_eternity.js\";\n\ndeclare global {\n    interface Window {\n        changeCheatMode?: VoidFunction;\n        cheat?: VoidFunction;\n        clearls: VoidFunction;\n    }\n}\n\nfunction decimalPlaces(\n    value: number,\n    places: number,\n    trunc = (x: number) => x\n): number {\n    const length = places + 1;\n    const digitsCount = Math.ceil(Math.log10(Math.abs(value)));\n    const rounded =\n        Math.round(value * 10 ** (length - digitsCount)) *\n        10 ** (digitsCount - length);\n    return trunc(Number(rounded.toFixed(Math.max(length - digitsCount, 0))));\n}\n\nexport function formatDecimal(d: Decimal, places = 3, ePlaces = 99): string {\n    if (d.layer === 0) {\n        if ((d.mag < 1e4 && d.mag > 1e-7) || d.mag === 0) {\n            return (d.sign * d.mag).toFixed(places);\n        }\n        return `${decimalPlaces(d.m, places)}e${decimalPlaces(\n            d.e,\n            ePlaces,\n            Math.round\n        )}`;\n    } else if (d.layer === 1) {\n        return `${decimalPlaces(d.m, places)}e${decimalPlaces(\n            d.e,\n            ePlaces,\n            Math.round\n        )}`;\n    } else {\n        if (d.layer <= 5) {\n            return `${d.sign === -1 ? \"-\" : \"\"}${\"e\".repeat(d.layer)}\n        ${decimalPlaces(d.mag, ePlaces, Math.round)}`;\n        } else {\n            return `${d.sign === -1 ? \"-\" : \"\"}(e^${d.layer})${decimalPlaces(\n                d.mag,\n                ePlaces,\n                Math.round\n            )}`;\n        }\n    }\n}\n\nexport function format(n: number): string {\n    return Math.log10(n) >= 6\n        ? n.toExponential(2).replace(\"e+\", \"e\").replace(\".00\", \"\")\n        : n.toFixed(0);\n}\n\nexport function formatBig(n: Decimal): string {\n    return n.absLog10().toNumber() >= 6\n        ? formatDecimal(n, 2).replace(\"e+\", \"e\").replace(\".00\", \"\")\n        : n.toFixed(0);\n}\n\nexport function formatSpecific(n: number): string {\n    return Math.log10(n) >= 6\n        ? n.toExponential(2).replace(\"e+\", \"e\").replace(\".00\", \"\")\n        : n.toFixed(3).replace(\".000\", \"\");\n}\n\nexport function formatBigSpecific(n: Decimal): string {\n    return n.absLog10().toNumber() >= 6\n        ? formatDecimal(n, 2).replace(\"e+\", \"e\").replace(\".00\", \"\")\n        : n.toFixed(3).replace(\".000\", \"\");\n}\n\nfunction assertElementType<T extends keyof HTMLElementTagNameMap>(\n    element: HTMLElement,\n    type: T\n): asserts element is HTMLElementTagNameMap[T] {\n    if (element.tagName !== type.toUpperCase()) {\n        throw new TypeError(`element isn't a <${type}> HTML element`);\n    }\n}\n\n/**\n * @param id Id of the element to get.\n * @returns The HTML element with the given id.\n */\nexport function getElement(id: string): HTMLElement;\n/**\n * @param id Id of the element to get.\n * @param type The expected tag name of the element.\n * @returns The HTML element with the given id.\n */\nexport function getElement<T extends keyof HTMLElementTagNameMap>(\n    id: string,\n    type: T\n): HTMLElementTagNameMap[T];\nexport function getElement<T extends keyof HTMLElementTagNameMap>(\n    id: string,\n    type?: T\n): HTMLElement | HTMLElementTagNameMap[T] {\n    const element = document.getElementById(id);\n    if (element === null) {\n        throw new Error(`Element with id ${id} dosen't exist`);\n    }\n\n    if (type !== undefined) {\n        assertElementType(element, type);\n    }\n    return element;\n}\n\ntype D2Arg<T> = T | Decimal | Operator | D2Arg<T>[];\n\nconst operatorMap = {\n    \"+\": \"plus\",\n    \"*\": \"times\",\n    \"/\": \"div\",\n    \"^\": \"pow\"\n} as const;\n\ntype Operator = keyof typeof operatorMap;\n\nfunction isOperator(x: unknown): x is Operator {\n    return typeof x === \"string\" && x in operatorMap;\n}\n\nexport function onDecimal<T = string>(\n    is: (x: unknown) => x is T,\n    lookup: (key: T) => Decimal\n) {\n    function fn(\n        start: T | Decimal | D2Arg<T>[],\n        ...terms: D2Arg<T>[]\n    ): Decimal {\n        let result: Decimal | ((x: D2Arg<T>) => Decimal);\n        if (Array.isArray(start)) {\n            const [first, rest] = splitArgs(start);\n            result = fn(first, ...rest);\n        } else {\n            result = start instanceof Decimal ? start : lookup(start);\n        }\n\n        terms.forEach(token => {\n            if (typeof result === \"function\") {\n                if (isOperator(token)) {\n                    throw new Error(\"two operations in a row\");\n                }\n                if (Array.isArray(token)) {\n                    const [first, rest] = splitArgs(token);\n                    result = result(fn(first, ...rest));\n                } else {\n                    const operand = is(token) ? lookup(token) : token;\n                    result = result(operand);\n                }\n            } else {\n                if (token instanceof Decimal) {\n                    result = result.times(token);\n                } else if (is(token)) {\n                    result = result.times(lookup(token));\n                } else if (Array.isArray(token)) {\n                    const [first, args] = splitArgs(token);\n                    result = result.times(fn(first, ...args));\n                } else {\n                    const left = result;\n                    const method = (d: Decimal) =>\n                        Decimal[operatorMap[token]](left, d);\n                    result = x => {\n                        if (x instanceof Decimal) {\n                            return method(x);\n                        }\n                        if (Decimal[x as never]) {\n                            throw new Error(\n                                \"cannot have two operations in a row\"\n                            );\n                        }\n\n                        return method(lookup(x as T));\n                    };\n                }\n            }\n        });\n        return result;\n    }\n\n    function splitArgs(args: D2Arg<T>[]): [T | Decimal, D2Arg<T>[]] {\n        const arr = [...args];\n        const head = arr.shift();\n        if (head === undefined) {\n            throw new Error(\"arr is empty\");\n        }\n        if (isOperator(head)) {\n            throw new Error(\"first token cannot be an operator\");\n        }\n        if (Array.isArray(head)) {\n            const [first, rest] = splitArgs(head);\n            return [fn(first, ...rest), arr];\n        }\n        return [head, arr];\n    }\n    return fn;\n}\n\nexport const onBought = onDecimal(isUpgradeName, key =>\n    getUpgradeTimesBought(key)\n);\n\nexport const onBoughtInc = onDecimal(isUpgradeName, key =>\n    getUpgradeTimesBought(key).plus(Decimal.dOne)\n);\n\n// dev only\nif (import.meta.env.DEV) {\n    window.cheat = function (): void {\n        switch (playerSettings.cheatMode) {\n            case 0:\n                player.num = player.num.times(Decimal.dTwo);\n                break;\n            case 1:\n                player.alphaNum = player.alphaNum.times(Decimal.dTwo);\n                break;\n            case 2:\n                player.num = player.num.times(Decimal.dTwo);\n                player.alphaNum = player.alphaNum.times(Decimal.dTwo);\n                break;\n            case 3:\n                player.alphaNum = player.alphaNum\n                    .plus(Decimal.dOne)\n                    .times(Decimal.dTwo);\n                break;\n            case 4:\n                player.num = player.num.times(Decimal.dTwo);\n                player.alphaNum = player.alphaNum\n                    .plus(Decimal.dOne)\n                    .times(Decimal.dTwo);\n                break;\n            case 5:\n                player.betaNum = player.betaNum\n                    .plus(Decimal.dOne)\n                    .times(Decimal.dTwo);\n                break;\n        }\n    };\n\n    window.changeCheatMode = function (): void {\n        playerSettings.cheatMode = (playerSettings.cheatMode + 1) % 6;\n        getElement(\"cheatmodediv\").textContent =\n            playerSettings.cheatMode.toString();\n    };\n}  \nelse {\n    getElement(\"cheat\").style.display = \"none\";\n    getElement(\"devtoggle\").style.display = \"none\";\n}\n\n/**\n * Clears localStorage.\n */\nwindow.clearls = function (): void {\n    localStorage.clear();\n    location.reload();\n};\n","import { getElement } from \"./util\";\nimport Decimal from \"break_eternity.js\";\n\ndeclare global {\n    interface Window {\n        loadbackup: VoidFunction;\n        player?: typeof player;\n        playerSettings?: typeof playerSettings;\n        Decimal?: typeof Decimal;\n    }\n}\n\n/**\n * The player save data object.\n */\nexport const player = {\n    /**\n     * All the upgrades.\n     */\n    upgrades: {\n        gen: {\n            cost: Decimal.dZero,\n            timesBought: Decimal.dZero\n        },\n        biggerbatches: {\n            cost: new Decimal(2000),\n            timesBought: Decimal.dZero\n        },\n        speed: {\n            cost: new Decimal(50),\n            timesBought: Decimal.dZero\n        },\n        mbup: {\n            cost: new Decimal(100),\n            timesBought: Decimal.dZero\n        },\n        mbmult: {\n            cost: new Decimal(1000),\n            timesBought: Decimal.dZero\n        },\n        unlockgenboost: {\n            cost: new Decimal(5000),\n            timesBought: Decimal.dZero\n        },\n        genboostuptime: {\n            cost: new Decimal(100),\n            timesBought: Decimal.dZero\n        },\n        genboostupmult: {\n            cost: new Decimal(10000),\n            timesBought: Decimal.dZero\n        },\n        nuclearbuy: {\n            cost: new Decimal(1e8),\n            timesBought: Decimal.dZero\n        },\n        speedparticle: {\n            cost: new Decimal(5e4),\n            timesBought: Decimal.dZero\n        },\n        machine: {\n            cost: new Decimal(2e4),\n            timesBought: Decimal.dZero\n        },\n        nuclearalphabuy: {\n            cost: new Decimal(1e6),\n            timesBought: Decimal.dZero\n        },\n        alphaacc: {\n            cost: new Decimal(1e10),\n            timesBought: Decimal.dZero\n        },\n        threeboost: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        perbang: {\n            cost: new Decimal(4),\n            timesBought: Decimal.dZero\n        },\n        bangspeed: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        unlockpca: {\n            cost: new Decimal(20),\n            timesBought: Decimal.dZero\n        },\n        upgradepca: {\n            cost: Decimal.dTwo,\n            timesBought: Decimal.dZero\n        },\n        boosterup: {\n            cost: new Decimal(100),\n            timesBought: Decimal.dZero\n        },\n        boosteruppercent: {\n            cost: new Decimal(100),\n            timesBought: Decimal.dZero\n        },\n        genboostdouble: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        alphamachinedouble: {\n            cost: new Decimal(1000),\n            timesBought: Decimal.dZero\n        },\n        bangautobuyerunlock: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        upgradebangautobuyer: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        boostsacrifice: {\n            cost: new Decimal(1e5),\n            timesBought: Decimal.dZero\n        },\n        betaacc: {\n            cost: new Decimal(1e10),\n            timesBought: Decimal.dZero\n        },\n        unlockabgb: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        abgbefficiency: {\n            cost: new Decimal(3),\n            timesBought: Decimal.dZero\n        },\n        permerge: {\n            cost: new Decimal(4),\n            timesBought: Decimal.dZero\n        },\n        mergespeed: {\n            cost: Decimal.dOne,\n            timesBought: Decimal.dZero\n        },\n        GnBBAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        GBUAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        MBUAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        NPAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        AAccAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        SAunlock: {\n            cost: new Decimal(0.5),\n            timesBought: Decimal.dZero\n        },\n        unlocknpboost: {\n            cost: Decimal.dTwo,\n            timesBought: Decimal.dZero\n        },\n        upgradenpboost: {\n            cost: Decimal.dTwo,\n            timesBought: Decimal.dZero\n        },\n        reactorupmult: {\n            cost: new Decimal(1500),\n            timesBought: Decimal.dZero\n        },\n        reactoruptime: {\n            cost: new Decimal(1250),\n            timesBought: Decimal.dZero\n        },\n        unlocknapboost: {\n            cost: new Decimal(15),\n            timesBought: Decimal.dZero\n        },\n        upgradenapboost: {\n            cost: new Decimal(15),\n            timesBought: Decimal.dZero\n        },\n        reactorUnlockNAP: {\n            cost: new Decimal(3e4),\n            timesBought: Decimal.dZero\n        },\n        reactorUnlockBP: {\n            cost: new Decimal(8e6),\n            timesBought: Decimal.dZero\n        },\n        reactorUnlockMB: {\n            cost: new Decimal(8000),\n            timesBought: Decimal.dZero\n        },\n        reactorUnlockGB: {\n            cost: new Decimal(2.5e5),\n            timesBought: Decimal.dZero\n        },\n        reactorupMB: {\n            cost: new Decimal(3000),\n            timesBought: Decimal.dZero\n        },\n        doublebeta: {\n            cost: new Decimal(0.2),\n            timesBought: Decimal.dZero\n        },\n        unlockaga: {\n            cost: new Decimal(0.25),\n            timesBought: Decimal.dZero\n        },\n        upgradeaga: {\n            cost: new Decimal(0.25),\n            timesBought: Decimal.dZero\n        },\n        mergeautobuyerunlock: {\n            cost: new Decimal(0.25),\n            timesBought: Decimal.dZero\n        },\n        upgrademergeautobuyer: {\n            cost: new Decimal(0.25),\n            timesBought: Decimal.dZero\n        },\n        buyreturngenerator: {\n            cost: new Decimal(1e5),\n            timesBought: Decimal.dZero\n        },\n        rpup: {\n            cost: new Decimal(2.5e5),\n            timesBought: Decimal.dZero\n        },\n        rpmult: {\n            cost: new Decimal(4e5),\n            timesBought: Decimal.dZero\n        },\n        omegabooster: {\n            cost: new Decimal(12),\n            timesBought: Decimal.dZero\n        }\n    },\n    num: Decimal.dZero,\n    alphaNum: Decimal.dZero,\n    betaNum: Decimal.dZero,\n    gammaNum: Decimal.dZero,\n    deltaNum: Decimal.dZero,\n    omegaNum: Decimal.dZero,\n    genBoostTimeLeft: Decimal.dZero,\n    genBoostTimeLeftCon: Decimal.dTen,\n    genBoostMult: Decimal.dOne,\n    pChunks: Decimal.dZero,\n    bangTime: 300,\n    bangTimeLeft: 1e300,\n    pcaToggle: true,\n    pcaTime: 160,\n    chunkAutobuyerTimeLeft: 0,\n    boosterParticles: Decimal.dZero,\n    untilBoost: 1,\n    omegaBase: Decimal.dZero,\n    omegaBaseCost: new Decimal(1e10),\n    omegaAlpha: Decimal.dZero,\n    omegaAlphaCost: new Decimal(1e12),\n    bangAutobuyerToggle: true,\n    bangAutobuyerTime: 160,\n    bangAutobuyerTimeLeft: 0,\n    clickerParticles: Decimal.dZero,\n    machineWear: 10,\n    aGroups: Decimal.dZero,\n    mergeTime: 300,\n    mergeTimeLeft: 1e300,\n    fuel: Decimal.dZero,\n    superfuel: Decimal.dZero,\n    hyperfuel: Decimal.dZero,\n    instantAutobuyers: {\n        genAutobuyerToggle: false,\n        bbAutobuyerToggle: false,\n        genBoostTimeAutobuyerToggle: false,\n        genBoostMultAutobuyerToggle: false,\n        manBoost1perClickAutobuyerToggle: false,\n        manBoost1xperClickAutobuyerToggle: false,\n        nuclearParticlesAutobuyerToggle: false,\n        nuclearAlphaParticlesAutobuyerToggle: false,\n        AlphaAccAutobuyerToggle: false,\n        SpeedAutobuyerToggle: false\n    },\n    mergeAutobuyerToggle: true,\n    mergeAutobuyerTime: 160,\n    mergeAutobuyerTimeLeft: 0,\n    agaToggle: true,\n    agaTime: 160,\n    groupAutobuyerTimeLeft: 0,\n    returnParticles: Decimal.dZero\n};\n\n/**\n * The player settings object.\n */\nexport const playerSettings = {\n    /**\n     * Current version of the game.\n     */\n    version: \"b2.3.0.0\",\n    /**\n     * The number of deciseconds/game ticks until the next autosave.\n     */\n    autoSaveDelay: 50,\n    /**\n     * Which autosave mode is currently set. Controls if autosaving is enabled/disabled and frequency of autosaves.\n     */\n    autoSaveMode: 4,\n    /**\n     * The number of deciseconds/game ticks every which the game gets automatically saved.\n     */\n    autoSaveSet: 50,\n    /**\n     * Number of the currently active theme.\n     */\n    themeNumber: 0,\n    useExperimental: false,\n    /**\n     * Whether or not you're in development mode.\n     */\n    devToggled: false,\n    /**\n     * The current cheat mode, changes which resource you will gain from\n     * cheating.\n     */\n    cheatMode: 0,\n    /**\n     * Whether or not the music is enabled.\n     */\n    playMusic: false\n};\n\nif (import.meta.env.DEV) {\n    window.player = player;\n    window.playerSettings = playerSettings;\n    window.Decimal = Decimal;\n}\n\n/**\n * This function is run when the game loads. Use this to perform any\n * save migrations.\n */\nfunction updateGame(): void {\n    // TODO: NEVER forget to change this when updating the game\n    playerSettings.version = \"b2.3.0.0\";\n    if (\"eSetting\" in playerSettings) delete playerSettings.eSetting;\n}\n\n/**\n * Loads the player settings from localStorage.\n */\nexport function loadSettings(): void {\n    const settings = localStorage.getItem(location.pathname + \"settings\");\n    if (settings !== null) {\n        const decodedSettings = settings.startsWith(\"{\")\n            ? settings\n            : atob(settings);\n        deepMerge(playerSettings, JSON.parse(decodedSettings));\n    }\n    updateGame();\n\n    if (playerSettings.useExperimental) {\n        getElement(\"tabopengamma\").style.display = \"inline\";\n        getElement(\"tabopendelta\").style.display = \"inline\";\n        getElement(\"tabopenomegaomega\").style.display = \"inline\";\n        getElement(\"tabopenstats\").style.display = \"inline\";\n        getElement(\"tabopenachievements\").style.display = \"inline\";\n    } else {\n        getElement(\"tabopengamma\").style.display = \"none\";\n        getElement(\"tabopendelta\").style.display = \"none\";\n        getElement(\"tabopenomegaomega\").style.display = \"none\";\n        getElement(\"tabopenstats\").style.display = \"inline\";\n        getElement(\"tabopenachievements\").style.display = \"none\";\n    }\n    getElement(\"experimentoggle\").textContent =\n        playerSettings.useExperimental.toString();\n}\n\nDecimal.prototype.toJSON = function (): string {\n    return \"D#\" + this.toString();\n};\n\n/**\n * A utility function used when deserializing the player object, used to\n * handle Decimal values.\n */\nfunction saveRevive(_key: string, value: unknown): unknown {\n    return typeof value === \"string\" && value.startsWith(\"D#\")\n        ? new Decimal(value.slice(2))\n        : value;\n}\n\n/**\n * Recursively merge two objects.\n * @param source The object to which copy the property values from the\n * other object.\n * @param data The object from which to copy property values.\n */\nfunction deepMerge<T extends object>(source: T, data: T): void {\n    for (const key in data) {\n        const value = data[key];\n        if (\n            typeof value === \"object\" &&\n            value !== null &&\n            !(value instanceof Decimal)\n        ) {\n            const newSource = source[key];\n            if (!(key in source)) {\n                // @ts-expect-error uhh how do I convince TS this is fine?\n                source[key] = Array.isArray(value) ? [] : {};\n            }\n            if (typeof newSource === \"object\" && newSource !== null) {\n                deepMerge(newSource, value);\n            }\n        } else source[key] = value;\n    }\n}\n\n/**\n * Loads the player save from localStorage, if one exists.\n */\nexport function load(): void {\n    const save = localStorage.getItem(location.pathname);\n    if (save === null) return;\n    deepMerge(\n        player,\n        JSON.parse(save.startsWith(\"{\") ? save : atob(save), saveRevive)\n    );\n}\n\n/**\n * Loads the backup save from localStorage, if one exists.\n */\nwindow.loadbackup = function (): void {\n    const backup = localStorage.getItem(`${location.pathname}backupsave`);\n    if (backup === null) return;\n    localStorage.setItem(location.pathname, backup);\n    location.reload();\n};\n\nexport type InstantAutobuyerName = keyof typeof player.instantAutobuyers;\n\n/**\n * @returns Whether or not the given value is the name of one of the\n * autobuyers.\n */\nexport function isAutobuyerName(x: string): x is InstantAutobuyerName {\n    return x in player.instantAutobuyers;\n}\n\nexport type UpgradeName = keyof typeof player.upgrades;\nexport const UpgradeNames = Object.keys(player.upgrades) as UpgradeName[];\n\n/**\n * @returns Whether or not the given value is the name of one of the\n * upgrades.\n */\nexport function isUpgradeName(x: unknown): x is UpgradeName {\n    return typeof x === \"string\" && x in player.upgrades;\n}\n\n/**\n * A utility function to get the current cost of an upgrade.\n * @param upgradeName The name of the upgrade.\n * @returns The cost of the given upgrade.\n */\nexport function getUpgradeCost(upgradeName: UpgradeName): Decimal {\n    return player.upgrades[upgradeName].cost;\n}\n\n/**\n * A utility function to change the cost of an upgade.\n * @param upgradeName The name of the upgrade.\n * @param newCost The new cost of the given upgrade.\n */\nexport function setUpgradeCost(\n    upgradeName: UpgradeName,\n    newCost: Decimal\n): void {\n    player.upgrades[upgradeName].cost = newCost;\n}\n\n/**\n * A utility function to get the current level of an upgrade.\n * @param upgradeName The name of the upgrade.\n * @returns The current level of the given upgrade.\n */\nexport function getUpgradeTimesBought(upgradeName: UpgradeName): Decimal {\n    return player.upgrades[upgradeName].timesBought;\n}\n","import { playerSettings } from \"./player\";\nimport { getElement } from \"./util\";\n\ndeclare global {\n    interface Window {\n        musicSwitch: () => Promise<void>;\n    }\n}\n\nconst music = getElement(\"audio\", \"audio\");\nconst musicState = getElement(\"musicState\");\n\nasync function startMusic(): Promise<void> {\n    musicState.textContent = playerSettings.playMusic ? \"On\" : \"Off\";\n    if (!playerSettings.playMusic) return;\n    try {\n        await music.play();\n    } catch {\n        setTimeout(startMusic, 100);\n    }\n}\n\nawait startMusic();\n\nwindow.musicSwitch = async function (): Promise<void> {\n    playerSettings.playMusic = !playerSettings.playMusic;\n    playerSettings.playMusic ? await music.play() : music.pause();\n    musicState.textContent = playerSettings.playMusic ? \"On\" : \"Off\";\n};\n","import {\n    player,\n    getUpgradeTimesBought,\n    getUpgradeCost,\n    setUpgradeCost,\n    type UpgradeName\n} from \"./player\";\nimport { formatBig, getElement, onBought, formatDecimal } from \"./util\";\nimport Decimal from \"break_eternity.js\";\n\ndeclare global {\n    interface Window {\n        buyUpgrade: (upgrade: UpgradeName) => void;\n        buyFiftySpeed: VoidFunction;\n    }\n}\n\nexport const currencyName = {\n    num: \"\",\n    alphaNum: \" Alpha\",\n    boosterParticles: \" Booster Particles\",\n    omegaBase: \" \",\n    betaNum: \" Beta\",\n    omegaAlpha: \" \"\n};\n\nexport type CurrencyName = keyof typeof currencyName;\n\nexport function UpdateCostDisplay(\n    elementID: string,\n    variable: Decimal,\n    currency: CurrencyName = \"num\",\n    precision = 0\n) {\n    if (precision === 0) {\n        getElement(elementID).textContent =\n            \"Cost: \" + formatBig(variable) + currencyName[currency];\n    } else {\n        getElement(elementID).textContent =\n            \"Cost: \" +\n            formatDecimal(variable, precision) +\n            currencyName[currency];\n    }\n}\n\ninterface Upgrade {\n    cost: Decimal;\n    currency: CurrencyName;\n    costDiv: string;\n    buttonDiv: string;\n    costFunction?: ((upgradeAmount: Decimal) => Decimal) | null;\n    scaleFunction: (upgradeName: UpgradeName) => void;\n    extra?: VoidFunction;\n    costRounding?: number;\n}\n\nexport const upgrades = {\n    gen: {\n        cost: Decimal.dInf,\n        costFunction(upgradeAmount) {\n            // 1000 * 4 ^ amount\n            return upgradeAmount.pow_base(4).times(1000);\n        },\n        scaleFunction: scaleGen,\n        costDiv: \"divgencost\",\n        buttonDiv: \"gen\",\n        currency: \"num\"\n    },\n    biggerbatches: {\n        cost: Decimal.dInf,\n        costFunction(upgradeAmount) {\n            // 2000 * 2 ^ amount\n            return upgradeAmount.pow_base(Decimal.dTwo).times(2000);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTwo),\n        costDiv: \"divbbcost\",\n        buttonDiv: \"biggerbatches\",\n        currency: \"num\"\n    },\n    speed: {\n        cost: new Decimal(50),\n        costFunction(upgradeAmount) {\n            /* (amount === 0 ? 50 : 100) + 10 * min(amount, 10) +\n\t\t\tmin(max(amount - 10, 0), 1000) * 40 +\n\t\t\t1.1 ^ (max(amount - 1000, 0))*/\n            return new Decimal(upgradeAmount.eq(Decimal.dZero) ? 50 : 100)\n                .plus(Decimal.dTen.times(upgradeAmount.min(Decimal.dTen)))\n                .plus(\n                    upgradeAmount\n                        .minus(Decimal.dTen)\n                        .max(Decimal.dZero)\n                        .min(1000)\n                        .times(40)\n                )\n                .plus(\n                    upgradeAmount.minus(1000).max(Decimal.dZero).pow_base(1.1)\n                );\n        },\n        scaleFunction: scaleSpeed,\n        costDiv: \"divspeedcost\",\n        buttonDiv: \"speed\",\n        currency: \"num\"\n    },\n    mbup: {\n        cost: new Decimal(100),\n        costFunction(upgradeAmount) {\n            //TODO: finish this; jakub is implementing actual upgrade formulas into the upgrade object instead of what i was donig before\n            // 100 * 1.5 ^ amount\n            return upgradeAmount.pow_base(1.5).times(100);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(1.5)),\n        costDiv: \"divmbupcost\",\n        buttonDiv: \"mbup\",\n        currency: \"num\"\n    },\n    mbmult: {\n        cost: new Decimal(1000),\n        costFunction(upgradeAmount) {\n            // 1000 * 2 ^ amount\n            return Decimal.dTwo.pow(upgradeAmount).times(1000);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTwo),\n        costDiv: \"divmbmultcost\",\n        buttonDiv: \"mbmult\",\n        currency: \"num\"\n    },\n    unlockgenboost: {\n        cost: new Decimal(5000),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divgenunlockcost\",\n        buttonDiv: \"unlockgenboost\",\n        currency: \"num\"\n    },\n    genboostuptime: {\n        cost: new Decimal(100),\n        costFunction(upgradeAmount) {\n            // 100 * 5 ^ amount\n            return upgradeAmount.pow_base(5).times(100);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(5)),\n        costDiv: \"divgbuptcost\",\n        buttonDiv: \"genboostuptime\",\n        currency: \"num\",\n        extra: GBTExtra\n    },\n    genboostupmult: {\n        cost: new Decimal(10000),\n        costFunction(upgradeAmount) {\n            // 1e4 * 5 ^ amount\n            return upgradeAmount.pow_base(5).times(1e4);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(5)),\n        costDiv: \"divgbupmcost\",\n        buttonDiv: \"genboostupmult\",\n        currency: \"num\",\n        extra: GBMExtra\n    },\n    nuclearbuy: {\n        cost: new Decimal(1e8),\n        costFunction(upgradeAmount) {\n            // 1e8 * 7 ^ amount\n            return upgradeAmount.pow_base(7).times(1e8);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(7)),\n        costDiv: \"divnuclearcost\",\n        buttonDiv: \"nuclearbuy\",\n        currency: \"num\",\n        extra: NBExtra\n    },\n    speedparticle: {\n        cost: new Decimal(5e4),\n        costFunction(upgradeAmount) {\n            // 5e4 * 5 ^ amount\n            return upgradeAmount.pow_base(5).times(5e4);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(5)),\n        costDiv: \"divspeedparticlecost\",\n        buttonDiv: \"speedparticle\",\n        currency: \"num\"\n    },\n    machine: {\n        cost: new Decimal(2e4),\n        costFunction(upgradeAmount) {\n            // 2e4 * 1.5 ^ amount\n            return upgradeAmount.pow_base(4).times(2e4);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(4)),\n        costDiv: \"divmachinecost\",\n        buttonDiv: \"machine\",\n        currency: \"num\",\n        extra: MachineExtra\n    },\n    alphaacc: {\n        cost: new Decimal(1e10),\n        costFunction(upgradeAmount) {\n            // 1e10 * 1000 ^ amount\n            return upgradeAmount.pow_base(1000).times(1e10);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(1000)),\n        costDiv: \"divalphaacceleratorcost\",\n        buttonDiv: \"alphaacc\",\n        currency: \"num\"\n    },\n    threeboost: {\n        cost: Decimal.dOne,\n        costFunction(upgradeAmount) {\n            // 4 ^ amount\n            return upgradeAmount.pow_base(4);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(4)),\n        costDiv: \"divthreeboostcost\",\n        buttonDiv: \"threeboost\",\n        currency: \"alphaNum\"\n    },\n    perbang: {\n        cost: new Decimal(4),\n        costFunction(upgradeAmount) {\n            // 4 ^ (amount + 1)\n            return upgradeAmount.add(Decimal.dOne).pow_base(4);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(4)),\n        costDiv: \"divperbangcost\",\n        buttonDiv: \"perbang\",\n        currency: \"alphaNum\"\n    },\n    bangspeed: {\n        cost: Decimal.dOne,\n        costFunction(upgradeAmount) {\n            /* 2 ^ min(amount, 2) +\n\t\t\t5 ^ (max(amount - 2, 0)) +\n\t\t\t2*/\n            return upgradeAmount\n                .min(Decimal.dTwo)\n                .pow_base(Decimal.dTwo)\n                .plus(\n                    upgradeAmount\n                        .sub(Decimal.dTwo)\n                        .max(Decimal.dZero)\n                        .pow_base(5)\n                )\n                .plus(Decimal.dTwo);\n        },\n        scaleFunction: scaleBangSpeed,\n        costDiv: \"divbangspeedcost\",\n        buttonDiv: \"bangspeed\",\n        currency: \"alphaNum\"\n    },\n    unlockpca: {\n        cost: new Decimal(20),\n        costFunction: null,\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divunlockpca\",\n        buttonDiv: \"unlockpca\",\n        currency: \"alphaNum\"\n    },\n    upgradepca: {\n        cost: Decimal.dTwo,\n        costFunction(upgradeAmount) {\n            // 2 * 3 ^ amount\n            return upgradeAmount.pow_base(3).times(Decimal.dTwo);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(3)),\n        costDiv: \"divupgradepcacost\",\n        buttonDiv: \"upgradepca\",\n        currency: \"alphaNum\",\n        extra: PCAExtra\n    },\n    boosterup: {\n        cost: new Decimal(100),\n        costFunction(upgradeAmount) {\n            // 10 ^ (amount + 2)\n            return upgradeAmount.add(Decimal.dTwo).pow_base(Decimal.dTen);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTen),\n        costDiv: \"divboosterupcost\",\n        buttonDiv: \"boosterup\",\n        currency: \"alphaNum\"\n    },\n    boosteruppercent: {\n        cost: new Decimal(100),\n        costFunction(upgradeAmount) {\n            // 10 ^ (amount + 2)\n            return upgradeAmount.add(Decimal.dTwo).pow_base(Decimal.dTen);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTen),\n        costDiv: \"divboosteruppercentcost\",\n        buttonDiv: \"boosteruppercent\",\n        currency: \"alphaNum\"\n    },\n    nuclearalphabuy: {\n        cost: new Decimal(1e6),\n        costFunction(upgradeAmount) {\n            // 1e6 * 7 ^ amount\n            return upgradeAmount.pow_base(7).times(1e6);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(7)),\n        costDiv: \"divnuclearalphacost\",\n        buttonDiv: \"nuclearalphabuy\",\n        currency: \"alphaNum\",\n        extra: NABExtra\n    },\n    genboostdouble: {\n        cost: Decimal.dOne,\n        costFunction(upgradeAmount) {\n            // 2 ^ amount\n            return upgradeAmount.pow_base(Decimal.dTwo);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTwo),\n        costDiv: \"gboostdouble\",\n        buttonDiv: \"genboostdouble\",\n        currency: \"alphaNum\",\n        extra: GBDExtra\n    },\n    alphamachinedouble: {\n        cost: new Decimal(1000),\n        costFunction(upgradeAmount) {\n            // 1000 * 3 ^ amount\n            return upgradeAmount.pow_base(3).times(1000);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(3)),\n        costDiv: \"divalphamachinedoublecost\",\n        buttonDiv: \"alphamachinedouble\",\n        currency: \"alphaNum\"\n    },\n    bangautobuyerunlock: {\n        cost: Decimal.dOne,\n        costFunction: null,\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divbau\",\n        buttonDiv: \"bangautobuyerunlock\",\n        currency: \"omegaBase\"\n    },\n    upgradebangautobuyer: {\n        cost: Decimal.dOne,\n        costFunction(upgradeAmount) {\n            // 1 + amount / 2\n            return upgradeAmount.div(Decimal.dTwo).plus(Decimal.dOne);\n        },\n        scaleFunction: scaleBA,\n        costDiv: \"divupgradeba\",\n        buttonDiv: \"upgradebangautobuyer\",\n        currency: \"omegaBase\",\n        extra: BAExtra,\n        costRounding: 1\n    },\n    boostsacrifice: {\n        cost: new Decimal(1e5),\n        costFunction(upgradeAmount) {\n            // 1e5 * 10 ^ amount\n            return upgradeAmount.pow_base(Decimal.dTen).times(1e5);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTen),\n        costDiv: \"divboostsacrificecost\",\n        buttonDiv: \"boostsacrifice\",\n        currency: \"boosterParticles\",\n        extra: BSExtra\n    },\n    betaacc: {\n        cost: new Decimal(1e10),\n        costFunction(upgradeAmount) {\n            // 1e10 * 1000 ^ amount\n            return upgradeAmount.pow_base(1000).times(1e10);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(1000)),\n        costDiv: \"divbetaacceleratorcost\",\n        buttonDiv: \"betaacc\",\n        currency: \"alphaNum\"\n    },\n    unlockabgb: {\n        cost: Decimal.dOne,\n        costFunction: null,\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divabgbcost\",\n        buttonDiv: \"unlockabgb\",\n        currency: \"betaNum\"\n    },\n    abgbefficiency: {\n        cost: new Decimal(3),\n        costFunction(upgradeAmount) {\n            // 4 * (amount + 1)\n            return upgradeAmount.plus(Decimal.dOne).pow_base(Decimal.dTwo);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTwo),\n        costDiv: \"divabgbefficiencycost\",\n        buttonDiv: \"abgbefficiency\",\n        currency: \"betaNum\"\n    },\n    permerge: {\n        cost: new Decimal(4),\n        costFunction(upgradeAmount) {\n            // 4 ^ (amount + 1)\n            return upgradeAmount.plus(Decimal.dOne).pow_base(Decimal.dTen);\n        },\n        scaleFunction: scaleMultiplier(new Decimal(4)),\n        costDiv: \"divpermergecost\",\n        buttonDiv: \"permerge\",\n        currency: \"betaNum\"\n    },\n    mergespeed: {\n        cost: Decimal.dOne,\n        costFunction(upgradeAmount) {\n            /* 2 ^ min(amount, 2) +\n\t\t\t5 ^ (max(amount - 2, 0)) +\n\t\t\t2*/\n            return upgradeAmount\n                .min(Decimal.dTwo)\n                .pow_base(Decimal.dTwo)\n                .plus(\n                    upgradeAmount\n                        .sub(Decimal.dTwo)\n                        .max(Decimal.dZero)\n                        .pow_base(5)\n                )\n                .plus(Decimal.dTwo);\n        },\n        scaleFunction: scaleBangSpeed,\n        costDiv: \"divmergespeedcost\",\n        buttonDiv: \"mergespeed\",\n        currency: \"betaNum\"\n    },\n    GnBBAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\", //TODO: woudlnt it be cool to remove these somehow?\n        buttonDiv: \"GnBBAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    GBUAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\", //TODO: woudlnt it be cool to remove these somehow?\n        buttonDiv: \"GBUAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    MBUAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\", //TODO: woudlnt it be cool to remove these somehow?\n        buttonDiv: \"MBUAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    NPAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\", //TODO: costDiv: \"usewhencostdisplaynotneeded\"\n        buttonDiv: \"NPAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    AAccAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\",\n        buttonDiv: \"AAccAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    SAunlock: {\n        cost: new Decimal(0.5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"usewhencostdisplaynotneeded\",\n        buttonDiv: \"SAunlock\",\n        currency: \"omegaAlpha\"\n    },\n    unlocknpboost: {\n        cost: Decimal.dTwo,\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divnpboostcost\",\n        buttonDiv: \"unlocknpboost\",\n        currency: \"betaNum\",\n        extra: NBExtra\n    },\n    upgradenpboost: {\n        cost: Decimal.dTwo,\n        costFunction(upgradeAmount) {\n            // 2 6 amount\n            return Decimal.dTwo.pow(upgradeAmount);\n        },\n        scaleFunction: scaleMultiplier(Decimal.dTwo),\n        costDiv: \"divnpboostupcost\",\n        buttonDiv: \"upgradenpboost\",\n        currency: \"betaNum\",\n        extra: NBExtra\n    },\n    reactorupmult: {\n        cost: new Decimal(1500),\n        scaleFunction: scaleReactorUpMult,\n        costDiv: \"divreactorupmultcost\",\n        buttonDiv: \"reactorupmult\",\n        currency: \"betaNum\"\n    },\n    reactoruptime: {\n        cost: new Decimal(1250),\n        scaleFunction: scaleReactorUpTime,\n        costDiv: \"divreactoruptimecost\",\n        buttonDiv: \"reactoruptime\",\n        currency: \"betaNum\"\n    },\n    unlocknapboost: {\n        cost: new Decimal(15),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divnapboostcost\",\n        buttonDiv: \"unlocknapboost\",\n        currency: \"betaNum\",\n        extra: NABExtra\n    },\n    upgradenapboost: {\n        cost: new Decimal(15),\n        scaleFunction: scaleMultiplier(new Decimal(4)),\n        costDiv: \"divnapboostupcost\",\n        buttonDiv: \"upgradenapboost\",\n        currency: \"betaNum\",\n        extra: NABExtra\n    },\n    reactorUnlockNAP: {\n        cost: new Decimal(3e4),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divreactorunlockNAPcost\",\n        buttonDiv: \"reactorUnlockNAP\",\n        currency: \"betaNum\"\n    },\n    reactorUnlockBP: {\n        cost: new Decimal(8e6),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divreactorunlockBPcost\",\n        buttonDiv: \"reactorUnlockBP\",\n        currency: \"betaNum\"\n    },\n    reactorUnlockMB: {\n        cost: new Decimal(8000),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divreactorunlockMBcost\",\n        buttonDiv: \"reactorUnlockMB\",\n        currency: \"betaNum\"\n    },\n    reactorUnlockGB: {\n        cost: new Decimal(2.5e5),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divreactorunlockGBcost\",\n        buttonDiv: \"reactorUnlockGB\",\n        currency: \"betaNum\"\n    },\n    reactorupMB: {\n        cost: new Decimal(3000),\n        scaleFunction: scaleMultiplier(new Decimal(1.75)),\n        costDiv: \"divreactorupMBcost\",\n        buttonDiv: \"reactorupMB\",\n        currency: \"betaNum\"\n    },\n    doublebeta: {\n        cost: new Decimal(0.2),\n        scaleFunction: scaleOmegaAlphaWeak,\n        costDiv: \"divdoublebetacost\",\n        buttonDiv: \"doublebeta\",\n        currency: \"omegaAlpha\",\n        costRounding: 1\n    },\n    unlockaga: {\n        cost: new Decimal(0.25),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divunlockaga\",\n        buttonDiv: \"unlockaga\",\n        currency: \"omegaAlpha\",\n        costRounding: 2\n    },\n    upgradeaga: {\n        cost: new Decimal(0.25),\n        scaleFunction: scaleOmegaAlpha,\n        costDiv: \"divupgradeagacost\",\n        buttonDiv: \"upgradeaga\",\n        currency: \"omegaAlpha\",\n        extra: AGAExtra,\n        costRounding: 2\n    },\n    mergeautobuyerunlock: {\n        cost: new Decimal(0.25),\n        scaleFunction: scaleMultiplier(Decimal.dInf),\n        costDiv: \"divmau\",\n        buttonDiv: \"mergeautobuyerunlock\",\n        currency: \"omegaAlpha\",\n        costRounding: 2\n    },\n    upgrademergeautobuyer: {\n        cost: new Decimal(0.25),\n        scaleFunction: scaleOmegaAlpha,\n        costDiv: \"divupgradema\",\n        buttonDiv: \"upgrademergeautobuyer\",\n        currency: \"omegaAlpha\",\n        extra: MAExtra,\n        costRounding: 2\n    },\n    buyreturngenerator: {\n        cost: new Decimal(1e5),\n        scaleFunction: scaleMultiplier(new Decimal(2)),\n        costDiv: \"divreturngeneratorcost\",\n        buttonDiv: \"buyreturngenerator\",\n        currency: \"betaNum\"\n    },\n    rpup: {\n        cost: new Decimal(2.5e5),\n        scaleFunction: scaleMultiplier(new Decimal(3)),\n        costDiv: \"divrpupcost\",\n        buttonDiv: \"rpup\",\n        currency: \"betaNum\"\n    },\n    rpmult: {\n        cost: new Decimal(4e5),\n        scaleFunction: scaleMultiplier(new Decimal(20)),\n        costDiv: \"divrpmultcost\",\n        buttonDiv: \"rpmult\",\n        currency: \"betaNum\"\n    },\n    omegabooster: {\n        cost: new Decimal(12),\n        scaleFunction: scaleMultiplier(Decimal.dOne),  //TODO: ah yes, scaling by 1. I failed to make scaleFunction and costDiv optional\n        costDiv: \"usewhencostdisplaynotneeded\",\n        buttonDiv: \"omegabooster\",\n        currency: \"omegaBase\",\n        extra: OBExtra\n    }\n} as const satisfies Record<string, Upgrade>; // will fix later\n\nexport function scaleMultiplier(\n    multiplier: Decimal\n): (upgradeName: UpgradeName) => void {\n    return function (upgradeName: UpgradeName): void {\n        setUpgradeCost(\n            upgradeName,\n            getUpgradeCost(upgradeName).times(multiplier)\n        );\n    };\n}\n\nexport function scaleBangSpeed(upgradeName: UpgradeName): void {\n    if (getUpgradeTimesBought(upgradeName).lte(Decimal.dTwo)) {\n        scaleMultiplier(Decimal.dTwo)(upgradeName);\n    } else {\n        scaleMultiplier(new Decimal(5))(upgradeName);\n    }\n}\n\nfunction scaleSpeed(upgradeName: UpgradeName): void {\n    const x = getUpgradeTimesBought(upgradeName);\n\n    if (x.lt(Decimal.dTen)) {\n        setUpgradeCost(upgradeName, Decimal.dTen.times(x).plus(100));\n    } else if (x.gte(Decimal.dTen) && x.lte(1000)) {\n        setUpgradeCost(upgradeName, x.times(40).minus(200));\n    } else {\n        scaleMultiplier(new Decimal(1.1))(upgradeName);\n    }\n}\n\nfunction scaleGen(upgradeName: UpgradeName): void {\n    if (getUpgradeCost(upgradeName).eq(Decimal.dZero)) {\n        setUpgradeCost(upgradeName, new Decimal(1000));\n    } else {\n        scaleMultiplier(new Decimal(4))(upgradeName);\n    }\n}\n\nfunction scaleBA(upgradeName: UpgradeName): void {\n    setUpgradeCost(upgradeName, getUpgradeCost(upgradeName).plus(0.5));\n}\n\nfunction scaleOmegaAlpha(upgradeName: UpgradeName): void {\n    setUpgradeCost(upgradeName, getUpgradeCost(upgradeName).plus(0.25));\n}\n\nfunction scaleOmegaAlphaWeak(upgradeName: UpgradeName): void {\n    setUpgradeCost(upgradeName, getUpgradeCost(upgradeName).plus(0.2));\n}\n\nfunction scaleReactorUpMult(upgradeName: UpgradeName): void {\n    if (getUpgradeTimesBought(upgradeName).lte(4)) {\n        scaleMultiplier(new Decimal(4))(upgradeName);\n    } else if (getUpgradeTimesBought(upgradeName).lte(8)) {\n        scaleMultiplier(new Decimal(8))(upgradeName);\n    } else {\n        scaleMultiplier(new Decimal(64))(upgradeName);\n    }\n}\n\nfunction scaleReactorUpTime(upgradeName: UpgradeName): void {\n    if (getUpgradeTimesBought(upgradeName).lte(4)) {\n        scaleMultiplier(new Decimal(2.6))(upgradeName);\n    } else if (getUpgradeTimesBought(upgradeName).lte(8)) {\n        scaleMultiplier(new Decimal(4.3))(upgradeName);\n    } else {\n        scaleMultiplier(new Decimal(32))(upgradeName);\n    }\n}\n\nfunction GBTExtra(): void {\n    player.genBoostTimeLeftCon = player.genBoostTimeLeftCon.plus(\n        Decimal.dTwo.pow(getUpgradeTimesBought(\"genboostdouble\")).times(20)\n    );\n    player.genBoostTimeLeft = Decimal.dZero;\n    player.genBoostTimeLeft = player.genBoostTimeLeftCon;\n}\n\nfunction GBMExtra(): void {\n    player.genBoostTimeLeft = Decimal.dZero;\n    player.genBoostTimeLeft = player.genBoostTimeLeftCon;\n}\n\nfunction GBDExtra(): void {\n    player.genBoostTimeLeftCon = player.genBoostTimeLeftCon.times(Decimal.dTwo);\n    player.genBoostTimeLeft = Decimal.dZero;\n    player.genBoostTimeLeft = player.genBoostTimeLeftCon;\n}\n\nfunction MachineExtra(): void {\n    player.machineWear = 10;\n}\n\nfunction NBExtra(): void {\n    let nuclearParticles = getUpgradeTimesBought(\"nuclearbuy\");\n\n    if (getUpgradeTimesBought(\"unlocknpboost\").eq(Decimal.dOne)) {\n        nuclearParticles = onBought([\n            \"nuclearbuy\",\n            \"*\",\n            [\n                Decimal.dOne,\n                \"+\",\n                [\"upgradenpboost\", \"+\", Decimal.dOne, \"/\", Decimal.dTen]\n            ]\n        ]);\n        getElement(\"divnp\").textContent =\n            \"Nuclear Particles: \" + formatDecimal(nuclearParticles, 1);\n    } else {\n        getElement(\"divnp\").textContent =\n            \"Nuclear Particles: \" +\n            formatBig(getUpgradeTimesBought(\"nuclearbuy\"));\n    }\n}\n\nfunction NABExtra(): void {\n    let nuclearAlphaParticles = getUpgradeTimesBought(\"nuclearalphabuy\");\n\n    if (getUpgradeTimesBought(\"unlocknapboost\").eq(Decimal.dOne)) {\n        nuclearAlphaParticles = onBought([\n            \"nuclearalphabuy\",\n            \"*\",\n            [\n                Decimal.dOne,\n                \"+\",\n                [\"upgradenapboost\", \"+\", Decimal.dOne, \"/\", Decimal.dTen]\n            ]\n        ]);\n        getElement(\"divnap\").textContent =\n            \"Nuclear Alpha Particles: \" +\n            formatDecimal(nuclearAlphaParticles, 1);\n    } else {\n        getElement(\"divnap\").textContent =\n            \"Nuclear Alpha Particles: \" +\n            formatBig(getUpgradeTimesBought(\"nuclearalphabuy\"));\n    }\n}\n\nfunction PCAExtra(): void {\n    if (getUpgradeTimesBought(\"upgradepca\").lte(4)) {\n        player.pcaTime = Math.ceil(player.pcaTime / 2);\n    } else {\n        player.pcaTime = Decimal.dTen\n            .div(getUpgradeTimesBought(\"upgradepca\").minus(3))\n            .ceil()\n            .toNumber();\n    }\n}\n\nfunction AGAExtra(): void {\n    if (getUpgradeTimesBought(\"upgradeaga\").lte(4)) {\n        player.agaTime = Math.ceil(player.agaTime / 2);\n    } else {\n        player.agaTime = Decimal.dTen\n            .div(getUpgradeTimesBought(\"upgradeaga\").minus(3))\n            .ceil()\n            .toNumber();\n    }\n}\n\nfunction BAExtra(): void {\n    if (getUpgradeTimesBought(\"upgradebangautobuyer\").lte(4)) {\n        player.bangAutobuyerTime = Math.ceil(player.bangAutobuyerTime / 2);\n    } else {\n        player.bangAutobuyerTime = Decimal.dTen\n            .div(getUpgradeTimesBought(\"upgradebangautobuyer\").minus(3))\n            .ceil()\n            .toNumber();\n    }\n}\n\nfunction MAExtra(): void {\n    if (getUpgradeTimesBought(\"upgrademergeautobuyer\").lte(4)) {\n        player.mergeAutobuyerTime = Math.ceil(player.mergeAutobuyerTime / 2);\n    } else {\n        player.mergeAutobuyerTime = Decimal.dTen\n            .div(getUpgradeTimesBought(\"upgrademergeautobuyer\").minus(3))\n            .ceil()\n            .toNumber();\n    }\n}\n\nfunction BSExtra(): void {\n    player.boosterParticles = Decimal.dZero;\n}\n\nfunction OBExtra(): void {\n    if (getUpgradeTimesBought(\"omegabooster\").lte(3)) {\n        player.omegaAlpha = player.omegaAlpha.plus(2);\n        getElement(\"divomegaboostersbought\").textContent =\n            `Bought: ${getUpgradeTimesBought(\"omegabooster\").toString()}/3`;\n        if (getUpgradeTimesBought(\"omegabooster\").gte(3)) {\n            getElement(\"omegaboosterbutton\").style.display = \"none\"\n        }\n    }\n}\n\nexport function buyUpgrade(upgradeName: UpgradeName): void {\n    const upgrade = upgrades[upgradeName];\n    const oldCost = getUpgradeCost(upgradeName);\n\n    if (player[upgrade.currency].gte(oldCost)) {\n        player.upgrades[upgradeName].timesBought = player.upgrades[\n            upgradeName\n        ].timesBought.plus(Decimal.dOne);\n        player[upgrade.currency] = player[upgrade.currency].minus(oldCost);\n        upgrade.scaleFunction(upgradeName);\n        if (\"extra\" in upgrade) {\n            upgrade.extra();\n        }\n\n        if (!(\"costRounding\" in upgrade)) {\n            UpdateCostDisplay(\n                upgrade.costDiv,\n                getUpgradeCost(upgradeName),\n                upgrade.currency\n            );\n        } else {\n            UpdateCostDisplay(\n                upgrade.costDiv,\n                getUpgradeCost(upgradeName),\n                upgrade.currency,\n                upgrade.costRounding\n            );\n        }\n    }\n}\nwindow.buyUpgrade = buyUpgrade;\n\nwindow.buyFiftySpeed = function (): void {\n    for (let i = 0; i < 50; i++) {\n        if (player.num.lt(getUpgradeCost(\"speed\"))) return;\n        buyUpgrade(\"speed\");\n    }\n};\n","import { getElement } from \"./util\";\n\nconst achievementContainer = getElement(\"achievementContainer\");\n\n// not implemented yet, we will make achievements later\nexport function createAchievementHTML(): void {\n    const newDiv = document.createElement(\"div\");\n    newDiv.textContent = \"stuff\";\n    achievementContainer.appendChild(newDiv);\n}\n","import { getElement, formatBig, formatBigSpecific } from \"./util\";\nimport { player } from \"./player\";\nimport { type CurrencyName, currencyName } from \"./upgrades\";\nimport Decimal from \"break_eternity.js\";\n\n\n/**\n * The list of features the play can unlock, and their properties.\n */\nconst features: Record<FeatureKey, Feature> = {\n    GB: {\n        displayName: \"Generator boost\",\n        unlocksAt: new Decimal(5000),\n        currency: \"num\",\n        next: \"Factory\"\n    },\n    Factory: {\n        displayName: \"Factory\",\n        unlocksAt: new Decimal(1e5),\n        currency: \"num\",\n        next: \"NP\"\n    },\n    NP: {\n        displayName: \"Nuclear Particles\",\n        unlocksAt: new Decimal(1e8),\n        currency: \"num\",\n        next: \"Bang\"\n    },\n    Bang: {\n        displayName: \"Bang\",\n        unlocksAt: new Decimal(1e9),\n        currency: \"num\",\n        next: \"BA\"\n    },\n    BA: {\n        displayName: \"Bang Autobuyer (in Omega tab)\",\n        unlocksAt: new Decimal(1e10),\n        currency: \"num\",\n        next: \"PCA\"\n    },\n    PCA: {\n        displayName: \"Particle Chunk Autobuyer\",\n        unlocksAt: new Decimal(20),\n        currency: \"alphaNum\",\n        next: \"BS\"\n    },\n    BS: {\n        displayName: \"Boost Sacrifice\",\n        unlocksAt: new Decimal(1e5),\n        currency: \"boosterParticles\",\n        next: \"NAP\"\n    },\n    NAP: {\n        displayName: \"Nuclear Alpha Particles\",\n        unlocksAt: new Decimal(1e6),\n        currency: \"alphaNum\",\n        next: \"Merge\"\n    },\n    Merge: {\n        displayName: \"Merge\",\n        unlocksAt: new Decimal(1e9),\n        currency: \"alphaNum\",\n        next: \"Reactor\"\n    },\n    Reactor: {\n        displayName: \"Reactor\",\n        unlocksAt: new Decimal(300),\n        currency: \"betaNum\",\n        next: \"Return\"\n    },\n    Return: {\n        displayName: \"Return\",\n        unlocksAt: new Decimal(1e5),\n        currency: \"betaNum\"\n    }\n};\n\ntype FeatureKey =\n    | \"GB\"\n    | \"Factory\"\n    | \"NP\"\n    | \"Bang\"\n    | \"BA\"\n    | \"PCA\"\n    | \"BS\"\n    | \"NAP\"\n    | \"Merge\"\n    | \"Reactor\"\n    | \"Return\";\n\ninterface Feature {\n    displayName: string;\n    unlocksAt: Decimal;\n    currency: CurrencyName;\n    next?: FeatureKey;\n}\n\nlet goal: FeatureKey | undefined = \"GB\";\n\n/**\n * The code for the text at the top of the screen, displaying what the next feature the player will unlock is, along with the progress to unlocking it.\n */\nexport function nextFeatureHandler(): void {\n    if (goal === undefined) {\n        getElement(\"nextfeature\").textContent =\n            \"You have unlocked all the features.\";\n        return;\n    }\n\n    let feature = features[goal];\n    const featureCurrency = feature.currency;\n    const nextGoal = \"next\" in feature ? feature.next : undefined;\n\n    if (player[featureCurrency].gte(feature.unlocksAt)) {\n        goal = nextGoal;\n        if (goal === undefined) return;\n        feature = features[goal];\n    } else {\n        const percentage = player[featureCurrency]\n            .max(Decimal.dOne)\n            .log10()\n            .div(feature.unlocksAt.max(Decimal.dOne).log10())\n            .times(100)\n            .max(Decimal.dZero);\n\n        getElement(\"nextfeature\").textContent = `Reach\n            ${formatBig(feature.unlocksAt)}\n            ${currencyName[feature.currency]}\n            particles to unlock ${feature.displayName}\n            (${formatBigSpecific(percentage)}%)`;\n    }\n}\n","import \"./style.css\";\nimport \"./music\";\nimport {\n    load,\n    loadSettings,\n    getUpgradeTimesBought,\n    getUpgradeCost,\n    player,\n    playerSettings,\n    UpgradeNames,\n    type InstantAutobuyerName,\n    isAutobuyerName,\n    type UpgradeName\n} from \"./player\";\nimport {\n    format,\n    formatBig,\n    getElement,\n    onBought,\n    onBoughtInc,\n    formatBigSpecific,\n    formatDecimal\n} from \"./util\";\nimport { UpdateCostDisplay, upgrades, buyUpgrade } from \"./upgrades\";\nimport { createAchievementHTML } from \"./achievements\";\nimport { nextFeatureHandler } from \"./features\";\nimport Decimal from \"break_eternity.js\";\n\ndeclare global {\n    interface Window {\n        theme: VoidFunction;\n        autosavesettings: VoidFunction;\n        openTab: (tab: string) => void;\n        saveExport: () => Promise<void>;\n        saveImport: VoidFunction;\n        saveImportConfirm: VoidFunction;\n        experimentalToggle: VoidFunction;\n        devToggle: VoidFunction;\n        mbman: VoidFunction;\n        gbboost: VoidFunction;\n        makechunk: VoidFunction;\n        bang: VoidFunction;\n        togglepca: VoidFunction;\n        toggleaga: VoidFunction;\n        buyomegabase: VoidFunction;\n        buyomegaalpha: VoidFunction;\n        buyomegabeta: VoidFunction;\n        buyomegagamma: VoidFunction;\n        buyomegadelta: VoidFunction;\n        toggleba: VoidFunction;\n        makegroup: VoidFunction;\n        merge: VoidFunction;\n        togglema: VoidFunction;\n        instantAutobuyerToggle: (\n            autobuyerVar: InstantAutobuyerName,\n            autobuyerDiv: string\n        ) => void;\n        buyFuel: (fuelType: Fuels) => void;\n        saveSettings: VoidFunction;\n        save: VoidFunction;\n        reset: VoidFunction;\n        Decimal?: typeof Decimal;\n    }\n}\n\nif (import.meta.env.DEV) window.Decimal = Decimal;\n\nloadSettings();\nload();\n\nconst divEntireBody = getElement(\"diventirebody\");\nconst whatTheme = getElement(\"whattheme\");\nconst tabOpenFactory = getElement(\"tabopenfactory\");\nconst tabOpenAlpha = getElement(\"tabopenalpha\");\nconst tabOpenBeta = getElement(\"tabopenbeta\");\nconst tabOpenGamma = getElement(\"tabopengamma\");\nconst tabOpenDelta = getElement(\"tabopendelta\");\nconst tabOpenOmega = getElement(\"tabopenomega\");\nconst tabOpenOmegaOmega = getElement(\"tabopenomegaomega\");\nconst tabOpenReactor = getElement(\"tabopenreactor\");\nconst tabOpenStats = getElement(\"tabopenstats\");\nconst tabOpenAchievements = getElement(\"tabopenachievements\");\nconst tabOpenDev = getElement(\"tabopendev\");\nconst devToggle = getElement(\"devtoggle\");\nconst autosaveElement = getElement(\"autosaving\");\nconst divTogglePcaElement = getElement(\"divtogglepca\");\nconst untilPcaElement = getElement(\"untilpca\");\nconst divToggleAgaElement = getElement(\"divtoggleaga\");\nconst untilAgaElement = getElement(\"untilaga\");\n\n/**\n * Array, listing the amount of time in deciseconds/game ticks before the next autosave, for each autosave mode.\n */\nconst delayArray = [600, 300, 150, 100, 50, 20, 10];\n\n/**\n * Array, listing the properties of each game theme.\n */\nconst themes = [\n    {\n        textColor: \"#EBEBEB\",\n        bgColor: \"#0e0e0e\",\n        buttonColor: \"\",\n        borderColor: \"\",\n        gradientColor: \"\",\n        themeName: \"Dark Rework v2\",\n        disableGradient: true\n    },\n    {\n        textColor: \"#EBEBEB\",\n        bgColor: \"#222422\",\n        buttonColor: \"\",\n        borderColor: \"#BABABA\",\n        gradientColor: \"black\",\n        themeName: \"Dark Rework\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#D4D4D4\",\n        bgColor: \"rgb(14, 16, 14)\",\n        buttonColor: \"\",\n        borderColor: \"#000000\",\n        gradientColor: \"black\",\n        themeName: \"Darker Rework\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#000000\",\n        bgColor: \"#CCCCCC\",\n        buttonColor: \"\",\n        borderColor: \"#333333\",\n        gradientColor: \"white\",\n        buttonGradientOverride: true,\n        themeName: \"Light Rework\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#000000\",\n        bgColor: \"#CCCCCC\",\n        buttonColor: \"\",\n        borderColor: \"#DD1111\",\n        gradientColor: \"white\",\n        buttonGradientOverride: true,\n        themeName: \"Red Borders\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#CCCCCC\",\n        bgColor: \"#000000\",\n        buttonColor: \"#444444\",\n        borderColor: \"#CCCCCC\",\n        gradientColor: \"#444444\",\n        themeName: \"Black\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#000000\",\n        bgColor: \"#FF91AF\",\n        buttonColor: \"#FFA1BF\",\n        borderColor: \"#FFD1FF\",\n        gradientColor: \"#FFA1BF\",\n        themeName: \"Pink\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#3DD7DE\",\n        bgColor: \"#191970\",\n        buttonColor: \"#3DD7DE\",\n        borderColor: \"#23A6D0\",\n        gradientColor: \"#7090FF\",\n        buttonGradientOverride: true,\n        themeName: \"Blue\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#000000\",\n        bgColor: \"#DEB2EF\",\n        buttonColor: \"#8A7AED\",\n        borderColor: \"#6A5ACD\",\n        gradientColor: \"#5A1C61\",\n        buttonGradientOverride: true,\n        themeName: \"Purple\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#EBEBEB\",\n        bgColor: \"#696969\",\n        buttonColor: \"#999999\",\n        borderColor: \"#000000\",\n        gradientColor: \"transparent\",\n        themeName: \"Classic\",\n        disableGradient: false\n    },\n    {\n        textColor: \"#EBEBEB\",\n        bgColor: \"#696969\",\n        buttonColor: \"#999999\",\n        borderColor: \"#000000\",\n        gradientColor: \"transparent\",\n        themeName: \"Classic Colors\",\n        disableGradient: false,\n    }\n];\n\n/**\n * Executes the changing of game theme.\n */\nfunction themeExec(): void {\n    const theme = themes[playerSettings.themeNumber];\n    if (theme === undefined) {\n        throw new Error(\"theme dosen't exist!\");\n    }\n    const {\n        textColor,\n        bgColor,\n        buttonColor,\n        borderColor,\n        gradientColor,\n        buttonGradientOverride,\n        themeName,\n        disableGradient,\n    } = theme;\n\n    divEntireBody.style.opacity = \"1\";\n    divEntireBody.style.color = textColor;\n    getElement(\"Settings\").style.color = textColor;\n    getElement(\"Tutorial\").style.color = textColor;\n    getElement(\"Omega\").style.color = textColor;\n    document.body.style.backgroundColor = bgColor;\n    document.body.style.backgroundColor = bgColor;\n\n    const className = document.getElementsByClassName(\"button\");\n    for (const element of className) {\n        if (!(element instanceof HTMLElement)) {\n            throw new Error(`element is not an HTMLElement`);\n        }\n        element.style.backgroundColor = buttonColor;\n\n        if (themeName === \"Classic\") {\n            element.style.border = \"1px solid black\";\n            element.style.borderRadius = \"2px\";\n            element.style.background = buttonColor;\n            element.style.color = \"black\";\n            element.style.fontWeight = \"400\";\n        } else if (themeName === \"Classic Colors\") {\n            element.style.border = \"\";\n            element.style.borderRadius = \"8px\";\n            element.style.color = \"black\";\n            element.style.fontWeight = \"500\";\n        } else {\n            element.style.border = \"\";\n            element.style.borderRadius = \"8px\";\n            element.style.color = \"snow\";\n            element.style.fontWeight = \"500\";\n\n            if (buttonGradientOverride === undefined && disableGradient) {\n                element.style.background = `linear-gradient(45deg, ${gradientColor}, transparent)`;\n            } else if (disableGradient) {\n                element.style.background = `linear-gradient(45deg, black, transparent)`;\n            } else {\n                element.style.background = buttonColor;\n            }\n        }\n    }\n\n    const className2 = document.getElementsByClassName(\"withtheoutline\");\n    for (const element of className2) {\n        if (!(element instanceof HTMLElement)) {\n            throw new Error(`element is not an HTMLElement`);\n        }\n        element.style.border = `0.2em solid ${borderColor}`;\n    }\n\n    const className3 = document.getElementsByClassName(\"redb\");\n    for (const element of className3) {\n        if (!(element instanceof HTMLElement)) {\n            throw new Error(`element is not an HTMLElement`);\n        }\n        element.style.backgroundColor = buttonColor;\n    }\n\n    whatTheme.textContent = `Theme: ${themeName}`;\n}\n\nthemeExec();\n\n/**\n * Switches over to the next game theme\n */\nwindow.theme = function (): void {\n    playerSettings.themeNumber =\n        (playerSettings.themeNumber + 1) % themes.length;\n    themeExec();\n    arbitraryHighlight(\"manualboost\");\n    arbitraryHighlight(\"generatorboost\");\n    saveSettings();\n};\n\n/**\n * Hides the buttons for accessing all tabs that are not unlocked by default.\n */\nfunction prePUD(): void {\n    tabOpenFactory.style.display = \"none\";\n    tabOpenAlpha.style.display = \"none\";\n    tabOpenBeta.style.display = \"none\";\n    tabOpenReactor.style.display = \"none\";\n    tabOpenGamma.style.display = \"none\";\n    tabOpenDelta.style.display = \"none\";\n    tabOpenOmega.style.display = \"none\";\n    tabOpenStats.style.display = \"none\";\n    tabOpenOmegaOmega.style.display = \"none\";\n}\n\n/**\n * Shows a new feature when the player has progressed enough to unlock a feature that unlocks passively.\n */\nfunction passiveUnlockDisplay(): void {\n    if (player.num.gte(1e5)) {\n        tabOpenFactory.style.display = \"inline\";\n    }\n    if (player.num.gte(1e9) || player.alphaNum.gt(Decimal.dZero)) {\n        tabOpenAlpha.style.display = \"inline\";\n        tabOpenOmega.style.display = \"inline\";\n    }\n    if (player.alphaNum.gte(1e9) || player.betaNum.gt(Decimal.dZero)) {\n        tabOpenBeta.style.display = \"inline\";\n    }\n    if (player.betaNum.gte(300)) {\n        tabOpenReactor.style.display = \"inline\";\n    }\n    if (playerSettings.useExperimental) {\n        // TODO: remove exprimental when you want\n        tabOpenGamma.style.display = \"inline\";\n        tabOpenDelta.style.display = \"inline\";\n        tabOpenOmegaOmega.style.display = \"inline\";\n        tabOpenStats.style.display = \"inline\";\n        tabOpenAchievements.style.display = \"inline\";\n    }\n}\n\n/**\n * Displays Dev tab when the setting to display it is turned on. Does opposite when said setting is turned off.\n */\nfunction devToolsVisibilityUpdate(): void {\n    tabOpenDev.style.display = playerSettings.devToggled ? \"inline\" : \"none\";\n    devToggle.textContent = playerSettings.devToggled.toString();\n}\n\n/**\n * Changes the delay between autosaves.\n */\nfunction autoSaveSet(): void {\n    const delay = delayArray[playerSettings.autoSaveMode];\n    playerSettings.autoSaveSet = playerSettings.autoSaveDelay = delay ?? 1e308;\n    autosaveElement.textContent =\n        delay !== undefined ? `On, delay: ${format(delay / 10)}s` : \"Off\";\n}\n\n/**\n * Changes autosave delay setting.\n */\nwindow.autosavesettings = function (): void {\n    playerSettings.autoSaveMode =\n        (playerSettings.autoSaveMode + 1) % delayArray.length;\n    autoSaveSet();\n    saveSettings();\n};\n\nfunction pcaTestSingle(): void {\n    if (getUpgradeTimesBought(\"unlockpca\").eq(Decimal.dOne)) {\n        untilPcaElement.textContent =\n            format(player.chunkAutobuyerTimeLeft) + \" left until next autobuy\";\n        getElement(\"divtogglepca\").style.display = \"inline-block\";\n\n        divTogglePcaElement.textContent = player.pcaToggle ? \"on\" : \"off\";\n    }\n}\n\nfunction agaTestSingle(): void {\n    if (getUpgradeTimesBought(\"unlockaga\").eq(Decimal.dOne)) {\n        untilAgaElement.textContent =\n            format(player.chunkAutobuyerTimeLeft) + \" left until next autobuy\";\n        getElement(\"divtoggleaga\").style.display = \"inline-block\";\n\n        divToggleAgaElement.textContent = player.agaToggle ? \"On\" : \"Off\";\n    }\n}\n\nfunction baTestSingle() {\n    if (getUpgradeTimesBought(\"bangautobuyerunlock\").eq(Decimal.dOne)) {\n        getElement(\"untilba\").textContent =\n            format(player.bangAutobuyerTimeLeft) + \" left until next autobuy\";\n        getElement(\"divtoggleba\").style.display = \"inline-block\";\n\n        getElement(\"divtoggleba\").textContent = player.bangAutobuyerToggle\n            ? \"On\"\n            : \"Off\";\n    }\n}\n\nfunction maTestSingle() {\n    if (getUpgradeTimesBought(\"mergeautobuyerunlock\").eq(Decimal.dOne)) {\n        getElement(\"untilma\").textContent =\n            format(player.mergeAutobuyerTimeLeft) + \" left until next autobuy\";\n        getElement(\"divtogglema\").style.display = \"inline-block\";\n\n        getElement(\"divtogglema\").textContent = player.mergeAutobuyerToggle\n            ? \"On\"\n            : \"Off\";\n    }\n}\n\nfunction fgbTestSingle() {\n    if (getUpgradeTimesBought(\"gen\").eq(Decimal.dZero)) {\n        getElement(\"divgencost\").textContent = \"Cost: Free\";\n    } else {\n        UpdateCostDisplay(\"divgencost\", getUpgradeCost(\"gen\"));\n    }\n}\n\nlet nuclearParticles = getUpgradeTimesBought(\"nuclearbuy\");\nif (getUpgradeTimesBought(\"unlocknpboost\").eq(Decimal.dOne)) {\n    nuclearParticles = onBought([\n        \"nuclearbuy\",\n        \"*\",\n        [\n            Decimal.dOne,\n            \"+\",\n            [\"upgradenpboost\", \"+\", Decimal.dOne, \"/\", Decimal.dTen]\n        ]\n    ]);\n}\nlet nuclearAlphaParticles = getUpgradeTimesBought(\"nuclearalphabuy\");\nif (getUpgradeTimesBought(\"unlocknapboost\").eq(Decimal.dOne)) {\n    nuclearAlphaParticles = onBought([\n        \"nuclearalphabuy\",\n        \"*\",\n        [\n            Decimal.dOne,\n            \"+\",\n            [\"upgradenapboost\", \"+\", Decimal.dOne, \"/\", Decimal.dTen]\n        ]\n    ]);\n}\n\nfunction instantAutobuyerState(\n    autobuyerVar: InstantAutobuyerName,\n    autobuyerDiv: string\n): void {\n    getElement(autobuyerDiv).textContent = player.instantAutobuyers[\n        autobuyerVar\n    ]\n        ? \"On\"\n        : \"Off\";\n}\n\nfunction amountUpdate() {\n    if (getUpgradeTimesBought(\"unlocknpboost\").eq(Decimal.dOne)) {\n        getElement(\"divnp\").textContent =\n            \"Nuclear Particles: \" + formatDecimal(nuclearParticles, 1);\n    } else {\n        getElement(\"divnp\").textContent =\n            \"Nuclear Particles: \" +\n            formatBig(getUpgradeTimesBought(\"nuclearbuy\"));\n    }\n    if (getUpgradeTimesBought(\"unlocknapboost\").eq(Decimal.dOne)) {\n        getElement(\"divnap\").textContent =\n            \"Nuclear Alpha Particles: \" +\n            formatDecimal(nuclearAlphaParticles, 1);\n    } else {\n        getElement(\"divnap\").textContent =\n            \"Nuclear Alpha Particles: \" +\n            formatBig(getUpgradeTimesBought(\"nuclearalphabuy\"));\n    }\n\n    getElement(\"chunkamount\").textContent =\n        \"Particle Chunks: \" + formatBig(player.pChunks);\n    getElement(\"groupamount\").textContent =\n        \"Particle Chunks: \" + formatBig(player.aGroups);\n\n    getElement(\"omegabasecost\").textContent =\n        \"Cost: \" + formatBig(player.omegaBaseCost);\n    getElement(\"divobase\").textContent =\n        \"You have \" + formatBig(player.omegaBase);\n    getElement(\"omegaalphacost\").textContent =\n        \"Cost: \" + formatBig(player.omegaAlphaCost);\n    getElement(\"divoalpha\").textContent =\n        \"You have \" + formatBig(player.omegaAlpha);\n\n    if (getUpgradeTimesBought(\"omegabooster\").lte(3)) {\n        getElement(\"divomegaboostersbought\").textContent =\n            `Bought: ${getUpgradeTimesBought(\"omegabooster\").toString()}/3`;\n        if (getUpgradeTimesBought(\"omegabooster\").gte(3)) {\n            getElement(\"omegaboosterbutton\").style.display = \"none\"\n        }\n    }\n\n    for (const autobuyerName in player.instantAutobuyers) {\n        const autobuyerDiv = `div${autobuyerName}`;\n\n        if (!isAutobuyerName(autobuyerName)) {\n            throw new Error(\n                \"autoBuyerName dosen't match InstantAutobuyerName type\"\n            );\n        }\n        instantAutobuyerState(autobuyerName, autobuyerDiv);\n    }\n}\n\nfunction loadMisc(): void {\n    for (const upgradeName of UpgradeNames) {\n        const upgrade = upgrades[upgradeName];\n        if (!(\"costRounding\" in upgrade)) {\n            UpdateCostDisplay(\n                upgrade.costDiv,\n                getUpgradeCost(upgradeName),\n                upgrade.currency\n            );\n        } else {\n            UpdateCostDisplay(\n                upgrade.costDiv,\n                getUpgradeCost(upgradeName),\n                upgrade.currency,\n                upgrade.costRounding\n            );\n        }\n    }\n\n    themeExec();\n\n    prePUD();\n    passiveUnlockDisplay();\n\n    autoSaveSet();\n\n    devToolsVisibilityUpdate();\n\n    pcaTestSingle();\n    agaTestSingle();\n    baTestSingle();\n    maTestSingle();\n    fgbTestSingle();\n\n    getElement(\"counter\").innerHTML =\n        \"<span style='color: #64ed93;'>\" +\n        formatBig(player.num) +\n        \"</span> particles\";\n    getElement(\"particlespersecond\").innerHTML =\n        \"You are getting <span style='color: #ed6464;'> 0 </span> particles/s\";\n\n    amountUpdate();\n}\n\nfunction makeElementMap(...names: string[]): Record<string, HTMLElement> {\n    return Object.fromEntries(names.map(x => [x, getElement(x)] as const));\n}\n\nconst tabElements = makeElementMap(\n    \"Base\",\n    \"Factory\",\n    \"Alpha\",\n    \"Beta\",\n    \"Reactor\",\n    \"Gamma\",\n    \"Delta\",\n    \"Omega\",\n    \"OmegaOmega\",\n    \"Achievements\",\n    \"Stats\",\n    \"Settings\",\n    \"Tutorial\",\n    \"Dev\"\n);\nconst tabOmegaElements = makeElementMap(\n    \"oBase\",\n    \"oAlpha\",\n    \"oBeta\",\n    \"oGamma\",\n    \"oDelta\"\n);\n\nfunction hideElements(elements: Record<string, HTMLElement>) {\n    for (const name in elements) {\n        const element = elements[name];\n        if (element === undefined) {\n            throw new Error(\"element dosen't exist\");\n        }\n        element.style.display = \"none\";\n    }\n}\n\nwindow.openTab = function (tab: string): void {\n    if (tab in tabOmegaElements) {\n        hideElements(tabOmegaElements);\n    } else {\n        hideElements(tabElements);\n    }\n    getElement(tab).style.display = \"block\";\n};\n\nloadMisc();\n\nwindow.saveExport = async function (): Promise<void> {\n    await navigator.clipboard.writeText(save());\n    alert(\"Copied to clipboard!\");\n};\n\nwindow.saveImport = function (): void {\n    getElement(\"importareaid\").style.display = \"block\";\n    getElement(\"saveimportconfirm\").style.display = \"block\";\n};\n\nwindow.saveImportConfirm = function (): void {\n    const saveEl = getElement(\"importareaid\", \"textarea\");\n    const savefile = saveEl.value; // really should check for an empty value here\n    localStorage.setItem(location.pathname, savefile);\n    location.reload();\n};\n\nwindow.experimentalToggle = function () {\n    playerSettings.useExperimental = !playerSettings.useExperimental;\n\n    if (playerSettings.useExperimental) {\n        getElement(\"tabopengamma\").style.display = \"inline\";\n        getElement(\"tabopendelta\").style.display = \"inline\";\n        getElement(\"tabopenomegaomega\").style.display = \"inline\";\n        getElement(\"tabopenachievements\").style.display = \"inline\";\n    } else {\n        getElement(\"tabopengamma\").style.display = \"none\";\n        getElement(\"tabopendelta\").style.display = \"none\";\n        getElement(\"tabopenomegaomega\").style.display = \"none\";\n        getElement(\"tabopenachievements\").style.display = \"none\";\n    }\n    getElement(\"experimentoggle\").textContent =\n        playerSettings.useExperimental.toString();\n    saveSettings();\n};\n\nwindow.devToggle = function () {\n    playerSettings.devToggled = !playerSettings.devToggled;\n\n    if (playerSettings.devToggled) {\n        getElement(\"tabopendev\").style.display = \"inline\";\n    } else {\n        getElement(\"tabopendev\").style.display = \"none\";\n    }\n    getElement(\"devtoggle\").textContent = playerSettings.devToggled.toString();\n    saveSettings();\n};\n\ncreateAchievementHTML();\n\nlet machineProd = 10;\nlet clickerParticleMult = player.clickerParticles\n    .div(100)\n    .plus(Decimal.dOne)\n    .times(machineProd);\n\nconst reactor = {\n    isActive: false,\n    fuelTime: new Decimal(300),\n    boost: Decimal.dOne,\n    fuelMult: Decimal.dOne\n};\n//did a bunch of work here\nlet NAPfactor = Decimal.dOne;\nlet BPfactor = Decimal.dOne;\nlet MBfactor = Decimal.dOne;\nlet GBfactor = Decimal.dOne;\n\nlet totalBoostFromNP = nuclearParticles.times(reactor.boost);\nlet totalBoostFromNAP = nuclearAlphaParticles.times(NAPfactor);\nlet totalMBBoost = MBfactor.times(\n    Decimal.dTwo.pow(getUpgradeTimesBought(\"reactorupMB\"))\n);\n\n/**\n * The function responsible for updating everything about the Reactor feature\n */\nfunction reactorHandler() {\n    reactor.fuelTime = onBought([\n        new Decimal(300),\n        \"*\",\n        [new Decimal(1.25), \"^\", \"reactoruptime\"],\n        \"/\",\n        [Decimal.dTwo, \"^\", \"reactorupmult\"]\n    ]);\n\n    if (player.hyperfuel.lte(Decimal.dZero)) {\n        player.hyperfuel = Decimal.dZero;\n\n        if (player.superfuel.lte(Decimal.dZero)) {\n            player.superfuel = Decimal.dZero;\n\n            if (player.fuel.lte(Decimal.dZero)) {\n                player.fuel = Decimal.dZero;\n\n                reactor.isActive = false;\n            } else {\n                reactor.fuelMult = Decimal.dOne;\n                reactor.isActive = true;\n                player.fuel = player.fuel.minus(\n                    Decimal.dOne.div(reactor.fuelTime)\n                );\n            }\n        } else {\n            reactor.fuelMult = new Decimal(3);\n            reactor.isActive = true;\n            player.superfuel = player.superfuel.minus(\n                Decimal.dOne.div(reactor.fuelTime)\n            );\n        }\n    } else {\n        reactor.fuelMult = new Decimal(6561);\n        reactor.isActive = true;\n        player.hyperfuel = player.hyperfuel.minus(\n            Decimal.dOne.div(reactor.fuelTime)\n        );\n    }\n\n    if (reactor.isActive) {\n        reactor.boost = onBoughtInc([\n            [new Decimal(1.25), \"^\", \"reactorupmult\"],\n            \"*\",\n            reactor.fuelMult\n        ]);\n        getElement(\n            \"divreactorstatus\"\n        ).textContent = `Reactor status: Running (${formatDecimal(\n            player.fuel,\n            2\n        )} Fuel)`;\n    } else {\n        reactor.boost = Decimal.dOne;\n        getElement(\"divreactorstatus\").textContent =\n            \"Reactor status: Out of fuel\";\n    }\n    getElement(\n        \"divreactorfuelusage\"\n    ).textContent = `When active, your reactor is using up 1 fuel every ${formatBig(\n        reactor.fuelTime.div(Decimal.dTen)\n    )} seconds`;\n\n    let NAPtoggle = false;\n    let BPtoggle = false;\n    let MBtoggle = false;\n    let GBtoggle = false;\n\n    if (getUpgradeTimesBought(\"reactorUnlockNAP\").eq(Decimal.dOne)) {\n        NAPtoggle = true;\n        getElement(\"divreactorunlockNAPcost\").textContent = \"Unlocked\";\n        getElement(\"divreactornap\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"reactorUnlockBP\").eq(Decimal.dOne)) {\n        BPtoggle = true;\n        getElement(\"divreactorunlockBPcost\").textContent = \"Unlocked\";\n        getElement(\"divreactorbp\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"reactorUnlockMB\").eq(Decimal.dOne)) {\n        MBtoggle = true;\n        getElement(\"divreactorunlockMBcost\").textContent = \"Unlocked\";\n        getElement(\"divreactormb\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"reactorUnlockGB\").eq(Decimal.dOne)) {\n        GBtoggle = true;\n        getElement(\"divreactorunlockGBcost\").textContent = \"Unlocked\";\n        getElement(\"divreactorgb\").style.display = \"block\";\n    }\n\n    NAPfactor = NAPtoggle\n        ? reactor.boost.plus(Decimal.dOne).div(Decimal.dTwo)\n        : Decimal.dOne;\n    BPfactor = BPtoggle ? reactor.boost.plus(3).div(4) : Decimal.dOne;\n    MBfactor = MBtoggle ? reactor.boost.pow(Decimal.dTwo) : Decimal.dOne;\n    GBfactor = GBtoggle\n        ? reactor.boost.plus(Decimal.dTwo).div(3)\n        : Decimal.dOne;\n\n    if (!reactor.isActive) {\n        //just to make sure boosts are definitely inactive when reactor is out of fuel\n        NAPfactor = Decimal.dOne;\n        BPfactor = Decimal.dOne;\n        GBfactor = Decimal.dOne;\n        MBfactor = Decimal.dOne;\n        totalMBBoost = Decimal.dOne;\n    } else {\n        totalMBBoost = MBfactor.times(\n            Decimal.dTwo.pow(getUpgradeTimesBought(\"reactorupMB\"))\n        );\n    }\n\n    totalBoostFromNP = nuclearParticles.times(reactor.boost);\n    totalBoostFromNAP = nuclearAlphaParticles.times(NAPfactor);\n\n    getElement(\"divreactormain\").textContent = `Current Reactor effects:`;\n    getElement(\n        \"divreactornp\"\n    ).textContent = `Nuclear Particles ${formatBigSpecific(\n        reactor.boost\n    )}x as strong`;\n    getElement(\"divreactormb\").textContent = `Manual Boost ${formatBigSpecific(\n        totalMBBoost\n    )}x as strong`;\n    getElement(\n        \"divreactornap\"\n    ).textContent = `Nuclear Alpha Particles ${formatBigSpecific(\n        NAPfactor\n    )}x as strong`;\n    getElement(\n        \"divreactorgb\"\n    ).textContent = `Generator Boost ${formatBigSpecific(GBfactor)}x as strong`;\n    getElement(\n        \"divreactorbp\"\n    ).textContent = `Booster Particle gain increase by ${formatBigSpecific(\n        BPfactor\n    )}x`;\n}\n\n/**\n * Executes when manual boost button is clicked. Calcuates and adds a gain to the num variable / particle amount\n */\nwindow.mbman = function (): void {\n    const gain = onBoughtInc(\n        \"mbup\",\n        \"*\",\n        \"mbmult\",\n        \"*\",\n        clickerParticleMult,\n        \"*\",\n        totalBoostFromNP.plus(Decimal.dOne),\n        \"*\",\n        totalMBBoost\n    );\n\n    player.num = player.num.plus(gain);\n    getElement(\"counter\").textContent = formatBig(player.num) + \" particles\";\n};\n\n/**\n * Executes when generator boost button is pressed. Sets the genBoostTimeLeft to the correct value.\n */\nwindow.gbboost = function (): void {\n    player.genBoostTimeLeft = player.genBoostTimeLeftCon;\n};\n\n/**\n * Function responsible for buying a particle chunk when clicking on said button.\n */\nfunction makechunk(): void {\n    if (player.num.gte(1e9)) {\n        player.num = player.num.minus(1e9);\n        player.pChunks = player.pChunks.plus(Decimal.dOne);\n        getElement(\"chunkamount\").textContent =\n            \"Particle Chunks: \" + formatBig(player.pChunks);\n    }\n}\nwindow.makechunk = makechunk;\n\n/**\n * Function responsible for executing Bang when clicking on said button.\n */\nfunction bang(): void {\n    if (player.pChunks.gte(Decimal.dTwo)) {\n        if (\n            getUpgradeTimesBought(\"alphaacc\").gt(Decimal.dZero) &&\n            !(\n                player.bangTimeLeft >= 0 &&\n                player.bangTimeLeft <= player.bangTime\n            )\n        ) {\n            player.pChunks = player.pChunks.minus(Decimal.dTwo);\n            player.bangTimeLeft = player.bangTime;\n            getElement(\"chunkamount\").textContent =\n                \"Particle Chunks: \" + formatBig(player.pChunks);\n            getElement(\"boostersmaintext\").style.display = \"block\";\n        }\n    }\n}\nwindow.bang = bang;\n\n/**\n * Toggles particle chunk autobuyer when toggle button is clicked.\n */\nwindow.togglepca = function (): void {\n    if (getUpgradeTimesBought(\"unlockpca\").eq(Decimal.dOne)) {\n        player.pcaToggle = !player.pcaToggle;\n        getElement(\"divtogglepca\").style.display = \"inline-block\";\n\n        getElement(\"divtogglepca\").textContent = player.pcaToggle\n            ? \"On\"\n            : \"Off\";\n    }\n};\n\n/**\n * Toggles alpha group autobuyer when toggle button is clicked.\n */\nwindow.toggleaga = function (): void {\n    if (getUpgradeTimesBought(\"unlockaga\").eq(Decimal.dOne)) {\n        player.agaToggle = !player.agaToggle;\n        getElement(\"divtoggleaga\").style.display = \"inline-block\";\n\n        getElement(\"divtoggleaga\").textContent = player.agaToggle\n            ? \"On\"\n            : \"Off\";\n    }\n};\n\n/**\n * Function responsible for buying Omega_Base perticles when said button is clicked.\n */\nwindow.buyomegabase = function (): void {\n    if (player.num.gte(player.omegaBaseCost)) {\n        player.num = player.num.minus(player.omegaBaseCost);\n        player.omegaBase = player.omegaBase.plus(Decimal.dOne);\n        player.omegaBaseCost = player.omegaBaseCost.times(Decimal.dTen);\n        getElement(\"omegabasecost\").textContent =\n            \"Cost: \" + formatBig(player.omegaBaseCost);\n        getElement(\"divobase\").textContent =\n            \"You have \" + formatBig(player.omegaBase);\n    }\n};\n\n/**\n * Function responsible for buying Omega_Alpha perticles when said button is clicked.\n */\nwindow.buyomegaalpha = function (): void {\n    if (player.alphaNum.gte(player.omegaAlphaCost)) {\n        player.alphaNum = player.alphaNum.minus(player.omegaAlphaCost);\n        player.omegaAlpha = player.omegaAlpha.plus(Decimal.dOne);\n        player.omegaAlphaCost = player.omegaAlphaCost.times(100);\n        getElement(\"omegaalphacost\").textContent =\n            \"Cost: \" + formatBig(player.omegaAlphaCost);\n        getElement(\"divoalpha\").textContent =\n            \"You have \" + formatBigSpecific(player.omegaAlpha);\n    }\n};\n\nwindow.buyomegabeta = function (): void {\n    /* TODO: implement this */\n};\nwindow.buyomegagamma = function (): void {\n    /* TODO: implement this */\n};\nwindow.buyomegadelta = function (): void {\n    /* TODO: implement this */\n};\n\n/**\n * Toggles bang autobuyer when toggle button is clicked.\n */\nwindow.toggleba = function (): void {\n    if (getUpgradeTimesBought(\"bangautobuyerunlock\").eq(Decimal.dOne)) {\n        player.bangAutobuyerToggle = !player.bangAutobuyerToggle;\n        getElement(\"divtoggleba\").style.display = \"inline-block\";\n\n        if (player.bangAutobuyerToggle) {\n            getElement(\"divtoggleba\").textContent = \"On\";\n        } else {\n            getElement(\"divtoggleba\").textContent = \"Off\";\n        }\n    }\n};\n\n/**\n * Toggles merge autobuyer when toggle button is clicked.\n */\nwindow.togglema = function (): void {\n    if (getUpgradeTimesBought(\"mergeautobuyerunlock\").eq(Decimal.dOne)) {\n        player.mergeAutobuyerToggle = !player.mergeAutobuyerToggle;\n        getElement(\"divtogglema\").style.display = \"inline-block\";\n\n        if (player.mergeAutobuyerToggle) {\n            getElement(\"divtogglema\").textContent = \"On\";\n        } else {\n            getElement(\"divtogglema\").textContent = \"Off\";\n        }\n    }\n};\n\nfunction makegroup(): void {\n    if (player.alphaNum.gte(1e9)) {\n        player.alphaNum = player.alphaNum.minus(1e9);\n        player.aGroups = player.aGroups.plus(Decimal.dOne);\n        getElement(\"groupamount\").textContent =\n            \"Alpha Groups: \" + formatBig(player.aGroups);\n    }\n}\nwindow.makegroup = makegroup;\n\nfunction merge(): void {\n    if (player.aGroups.gte(Decimal.dTwo)) {\n        if (\n            getUpgradeTimesBought(\"betaacc\").gt(Decimal.dZero) &&\n            !(\n                player.mergeTimeLeft >= 0 &&\n                player.mergeTimeLeft <= player.mergeTime\n            )\n        ) {\n            player.aGroups = player.aGroups.minus(Decimal.dTwo);\n            player.mergeTimeLeft = player.mergeTime;\n            getElement(\"groupamount\").textContent =\n                \"Alpha Groups: \" + formatBig(player.aGroups);\n        }\n    }\n}\nwindow.merge = merge;\n\nwindow.instantAutobuyerToggle = function (\n    autobuyerVar: InstantAutobuyerName,\n    autobuyerDiv: string\n): void {\n    player.instantAutobuyers[autobuyerVar] =\n        !player.instantAutobuyers[autobuyerVar];\n    getElement(autobuyerDiv).textContent = player.instantAutobuyers[\n        autobuyerVar\n    ]\n        ? \"On\"\n        : \"Off\";\n};\n\ntype Fuels = \"player.fuel\" | \"player.superfuel\" | \"player.hyperfuel\";\n\nwindow.buyFuel = function (fuelType: Fuels, bulk = Decimal.dOne) {\n    if (fuelType === \"player.fuel\") {\n        if (\n            player.num.gte(bulk.times(1e42)) &&\n            player.alphaNum.gte(bulk.times(1e14)) &&\n            player.betaNum.gte(bulk.times(50))\n        ) {\n            player.num = player.num.minus(bulk.times(1e42));\n            player.alphaNum = player.alphaNum.minus(bulk.times(1e14));\n            player.betaNum = player.betaNum.minus(bulk.times(50));\n            player.fuel = player.fuel.plus(bulk);\n        }\n    } else {\n        //do this later TODO: add superfuel and hyperfuel buying\n    }\n};\n\nlet alphaFromReturn = Decimal.dZero;\n\nfunction returnParticleHandler(): void {\n    if (getUpgradeTimesBought(\"buyreturngenerator\").gt(Decimal.dZero)) {\n        const gain = onBought([\n            new Decimal(0.1),\n            \"*\",\n            \"buyreturngenerator\",\n            \"*\",\n            player.betaNum,\n            \"*\",\n            [\"rpup\", \"+\", Decimal.dOne]\n        ]);\n        player.returnParticles = player.returnParticles.plus(gain);\n\n        alphaFromReturn = onBought([\n            new Decimal(0.1),\n            \"*\",\n            player.returnParticles,\n            \"*\",\n            [Decimal.dTwo, \"^\", \"rpmult\"],\n            [totalBoostFromNAP, \"+\", Decimal.dOne],\n            [Decimal.dTwo, \"^\", \"alphamachinedouble\"]\n        ]);\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        getElement(\"returnboosttext\").textContent = `Your ${formatBig(\n            player.returnParticles\n        )} Return particles (+${formatBig(\n            gain.times(10)\n        )}/s) are returning ${formatBig(\n            alphaFromReturn.times(10)\n        )} Alpha particles per second`;\n    }\n}\n\nfunction fgbTestConst(): void {\n    if (getUpgradeTimesBought(\"gen\").gt(Decimal.dZero)) {\n        getElement(\"boostsection\").style.display = \"flex\";\n        getElement(\"bigboosttext\").style.display = \"block\";\n        getElement(\"veryouterboost\").style.display = \"block\";\n\n        if (getUpgradeTimesBought(\"unlocknpboost\").eq(Decimal.dOne)) {\n            nuclearParticles = onBought([\n                \"nuclearbuy\",\n                \"*\",\n                [\n                    Decimal.dOne,\n                    \"+\",\n                    [\"upgradenpboost\", \"+\", Decimal.dOne, \"/\", new Decimal(10)]\n                ]\n            ]);\n            getElement(\"npboostshow\").style.display = \"block\";\n            getElement(\"unlocknpboost\").style.display = \"none\";\n            getElement(\"divnpboostcost\").style.display = \"none\";\n        } else {\n            nuclearParticles = getUpgradeTimesBought(\"nuclearbuy\");\n            getElement(\"npboostshow\").style.display = \"none\";\n        }\n        if (getUpgradeTimesBought(\"unlocknapboost\").eq(Decimal.dOne)) {\n            nuclearAlphaParticles = onBought([\n                \"nuclearalphabuy\",\n                \"*\",\n                [\n                    Decimal.dOne,\n                    \"+\",\n                    [\"upgradenapboost\", \"+\", Decimal.dOne, \"/\", new Decimal(10)]\n                ]\n            ]);\n            getElement(\"napboostshow\").style.display = \"block\";\n            getElement(\"unlocknapboost\").style.display = \"none\";\n            getElement(\"divnapboostcost\").style.display = \"none\";\n        } else {\n            nuclearAlphaParticles = getUpgradeTimesBought(\"nuclearalphabuy\");\n            getElement(\"napboostshow\").style.display = \"none\";\n        }\n\n        if (getUpgradeTimesBought(\"gen\").eq(Decimal.dZero)) {\n            getElement(\"divgencost\").textContent = \"Cost: Free\";\n        } else {\n            UpdateCostDisplay(\"divgencost\", getUpgradeCost(\"gen\"));\n        }\n\n        reactorHandler();\n        returnParticleHandler();\n        player.alphaNum = player.alphaNum.plus(alphaFromReturn);\n\n        getElement(\n            \"nptext\"\n        ).textContent = `Nuclear particles add a +${formatDecimal(\n            reactor.boost,\n            2\n        )}x multiplier to generators, generator boost, and manual boost`;\n        getElement(\n            \"naptext\"\n        ).textContent = `Nuclear particles add a +${formatDecimal(\n            reactor.boost,\n            2\n        )}x multiplier to alpha gain`;\n\n        const boostsacmult = new Decimal(1.5).pow(\n            getUpgradeTimesBought(\"boostsacrifice\")\n        );\n\n        getElement(\n            \"boostsactext\"\n        ).textContent = `Reset your Booster Particles, but increase Booster Particle and Alpha Particle gain. Currently ${formatDecimal(\n            boostsacmult,\n            1\n        )}x.`;\n\n        if (player.genBoostTimeLeft.greaterThan(Decimal.dZero)) {\n            player.genBoostMult = getUpgradeTimesBought(\"genboostupmult\")\n                .times(1.5)\n                .plus(Decimal.dTwo)\n                .times(GBfactor);\n        } else {\n            player.genBoostMult = Decimal.dOne;\n        }\n\n        if (getUpgradeTimesBought(\"unlockgenboost\").eq(Decimal.dOne)) {\n            getElement(\"gbshow\").style.display = \"block\";\n            getElement(\"divgenunlockcost\").style.display = \"none\";\n            getElement(\"unlockgenboost\").style.display = \"none\";\n        }\n\n        if (getUpgradeTimesBought(\"unlockabgb\").eq(Decimal.dOne)) {\n            getElement(\"abgbshow\").style.display = \"block\";\n            getElement(\"divabgbcost\").style.display = \"none\";\n            getElement(\"unlockabgb\").style.display = \"none\";\n        }\n\n        player.bangTime = Math.ceil(\n            300 / 2 ** getUpgradeTimesBought(\"bangspeed\").toNumber()\n        );\n\n        const alphaGain = onBought(\n            \"alphaacc\",\n            [\"perbang\", \"+\", Decimal.dOne],\n            [totalBoostFromNAP, \"+\", Decimal.dOne],\n            [Decimal.dTwo, \"^\", \"alphamachinedouble\"]\n        ).times(boostsacmult);\n\n        player.mergeTime = Math.ceil(\n            300 / 2 ** getUpgradeTimesBought(\"mergespeed\").toNumber()\n        );\n\n        const betaGain = onBought(\n            \"betaacc\",\n            [\"permerge\", \"+\", Decimal.dOne],\n            [Decimal.dTwo, \"^\", \"doublebeta\"]\n        );\n\n        if (player.bangTimeLeft === 0) {\n            player.alphaNum = player.alphaNum\n                .plus(alphaGain)\n            getElement(\"bangtimeleft\").textContent = \"\";\n        }\n\n        if (player.mergeTimeLeft === 0) {\n            player.betaNum = player.betaNum.plus(betaGain);\n            getElement(\"mergetimeleft\").textContent = \"\";\n        }\n\n        if (getUpgradeTimesBought(\"machine\").gte(Decimal.dOne)) {\n            machineProd = 9 / Math.log10(player.machineWear) + 1;\n            player.machineWear += 1;\n        }\n\n        clickerParticleMult = player.clickerParticles\n            .div(50)\n            .plus(Decimal.dOne);\n\n        let abgbBoost = Decimal.dOne;\n\n        if (getUpgradeTimesBought(\"unlockabgb\").gt(Decimal.dZero)) {\n            abgbBoost = onBoughtInc(\n                player.alphaNum.cbrt(),\n                \"/\",\n                new Decimal(100),\n                \"*\",\n                \"abgbefficiency\",\n                \"+\",\n                Decimal.dOne\n            );\n        }\n\n        getElement(\n            \"abgbtext\"\n        ).textContent = `Your alpha-based generator boost is multiplying your generators by ${formatBig(\n            abgbBoost\n        )}x (cbrt(alpha)/100*${formatBig(\n            getUpgradeTimesBought(\"abgbefficiency\").plus(Decimal.dOne)\n        )})`;\n\n        const gain: Decimal = onBought(\n            [\"biggerbatches\", \"+\", Decimal.dOne],\n            \"*\",\n            \"gen\",\n            \"*\",\n            [\"speed\", \"/\", Decimal.dTen, \"+\", new Decimal(0.1)],\n            \"*\",\n            player.genBoostMult,\n            \"*\",\n            [[totalBoostFromNP, \"+\", Decimal.dOne], \"^\", Decimal.dTwo],\n            \"*\",\n            [new Decimal(3), \"^\", \"threeboost\"],\n            \"*\",\n            [\n                Decimal.dOne,\n                \"+\",\n                [\n                    [player.boosterParticles, \"+\", Decimal.dOne],\n                    \"/\",\n                    new Decimal(100),\n                    \"*\",\n                    [\n                        [\"boosteruppercent\", \"+\", Decimal.dOne],\n                        \"/\",\n                        new Decimal(100)\n                    ]\n                ]\n            ],\n            \"*\",\n            abgbBoost,\n            \"*\",\n            GBfactor\n        );\n\n        getElement(\"particlesperclick\").textContent =\n            \"You are getting \" +\n            formatBig(\n                onBought(\n                    [\"mbup\", \"+\", Decimal.dOne],\n                    \"*\",\n                    [\"mbmult\", \"+\", Decimal.dOne],\n                    \"*\",\n                    [totalBoostFromNP, \"+\", Decimal.dOne]\n                )\n                    .times(clickerParticleMult)\n                    .times(totalMBBoost)\n            ) +\n            \" particles per click\";\n\n        getElement(\"alphapb\").textContent =\n            \"You are getting \" + formatBig(alphaGain) + \" Alpha/bang\";\n        getElement(\"bangtimeconst\").textContent =\n            \"Currently, bangs take \" +\n            format(player.bangTime / 10) +\n            \" seconds.\";\n        player.bangTimeLeft -= 1;\n\n        if (\n            player.bangTimeLeft >= 0 &&\n            player.bangTimeLeft <= player.bangTime\n        ) {\n            getElement(\"bangtimeleft\").textContent =\n                \"Bang time left: \" + format(player.bangTimeLeft / 10);\n            getElement(\"bangbutton\").style.display = \"none\";\n        } else {\n            getElement(\"bangbutton\").style.display = \"block\";\n        }\n\n        getElement(\"betapb\").textContent =\n            \"You are getting \" + formatBig(betaGain) + \" Beta/merge\";\n        getElement(\"mergetimeconst\").textContent =\n            \"Currently, merges take \" +\n            format(player.mergeTime / 10) +\n            \" seconds.\";\n        player.mergeTimeLeft -= 1;\n\n        if (\n            player.mergeTimeLeft >= 0 &&\n            player.mergeTimeLeft <= player.mergeTime\n        ) {\n            getElement(\"mergetimeleft\").textContent =\n                \"Merge time left: \" + format(player.mergeTimeLeft / 10);\n            getElement(\"mergebutton\").style.display = \"none\";\n        } else {\n            getElement(\"mergebutton\").style.display = \"block\";\n        }\n\n        if (player.genBoostTimeLeft.gt(Decimal.dZero)) {\n            player.genBoostTimeLeft = player.genBoostTimeLeft.minus(\n                Decimal.dOne\n            );\n        }\n        getElement(\"divgbtl\").textContent =\n            \"Boost Time Left: \" +\n            formatBig(player.genBoostTimeLeft.div(Decimal.dTen));\n\n        const bpGain = player.alphaNum\n            .times(getUpgradeTimesBought(\"boosterup\").plus(Decimal.dOne))\n            .times(Decimal.dTwo)\n            .div(Decimal.dTen)\n            .times(BPfactor);\n\n        player.boosterParticles = player.boosterParticles.plus(bpGain);\n\n        const percentBoostDisplay = player.boosterParticles.times(\n            getUpgradeTimesBought(\"boosteruppercent\")\n                .plus(Decimal.dOne)\n                .div(100)\n        );\n\n        if (player.boosterParticles.eq(Decimal.dZero)) {\n            getElement(\n                \"boostersmaintext\"\n            ).textContent = `You are currently getting 0 booster particles per alpha particle per second,\n               resulting in a +0% boost to base particle production`; //just added this special case\n            // trying to fix - usavictor\n        } else if (percentBoostDisplay.lt(100)) {\n            getElement(\n                \"boostersmaintext\"\n            ).textContent = `You are currently getting ${formatBig(\n                bpGain\n                    .times(Decimal.dTen)\n                    .div(player.alphaNum.max(Decimal.dOne))\n            )} booster particles per alpha particle per second,\n               resulting in a +${formatBigSpecific(\n                   percentBoostDisplay\n               )}% boost to base particle production`;\n        } else {\n            getElement(\n                \"boostersmaintext\"\n            ).textContent = `You are currently getting ${formatBig(\n                bpGain.times(Decimal.dTen).div(player.alphaNum)\n            )} booster particles per alpha particle per second,\n               resulting in a ${formatBigSpecific(\n                   percentBoostDisplay.div(100).plus(Decimal.dOne)\n               )}x boost to base particle production`;\n        }\n\n        getElement(\"bpamount\").textContent =\n            \"You have \" +\n            formatBig(player.boosterParticles) +\n            \" booster particles\";\n\n        const clickerParticleGain = onBought([\n            [\"machine\", \"*\", [new Decimal(1.5), \"^\", \"speedparticle\"]],\n            \"/\",\n            Decimal.dTen\n        ]).times(machineProd);\n        player.clickerParticles =\n            player.clickerParticles.plus(clickerParticleGain);\n\n        nextFeatureHandler();\n\n        getElement(\"omegabasecost\").textContent =\n            \"Cost: \" + formatBig(player.omegaBaseCost);\n        getElement(\"divobase\").textContent =\n            \"You have \" + formatDecimal(player.omegaBase, 1);\n        getElement(\"omegaalphacost\").textContent =\n            \"Cost: \" + formatBig(player.omegaAlphaCost);\n        getElement(\"divoalpha\").textContent =\n            \"You have \" + formatDecimal(player.omegaAlpha, 2);\n\n        player.num = player.num.plus(gain);\n\n        getElement(\"particlespersecond\").innerHTML =\n            \"You are getting <span style='color: #ed6464;'>\" +\n            formatBig(gain.times(10)) +\n            \"</span> particles/s\";\n\n        if (player.num.gte(1e8) || nuclearParticles.gt(Decimal.dZero)) {\n            getElement(\"nuclearreach\").style.display = \"none\";\n            getElement(\"nuclearshow\").style.display = \"block\";\n        }\n\n        if (\n            player.alphaNum.gte(1e6) ||\n            nuclearAlphaParticles.gt(Decimal.dZero)\n        ) {\n            getElement(\"nuclearalphareach\").style.display = \"none\";\n            getElement(\"nuclearalphashow\").style.display = \"block\";\n        }\n\n        if (player.num.gte(1e9) || player.pChunks.gt(Decimal.dZero)) {\n            getElement(\"bangshow\").style.display = \"block\";\n        }\n\n        if (player.alphaNum.gte(1e9) || player.aGroups.gt(Decimal.dZero)) {\n            getElement(\"mergeshow\").style.display = \"block\";\n\n            getElement(\"oAlphauupre\").style.display = \"none\";\n            getElement(\"oAlphauupost\").style.display = \"block\";\n        }\n\n        if (\n            player.boosterParticles.gte(1e5) ||\n            getUpgradeTimesBought(\"boostsacrifice\").gt(Decimal.dZero)\n        ) {\n            getElement(\"bpsacshow\").style.display = \"block\";\n        }\n\n        if (\n            player.betaNum.gte(1e5) ||\n            getUpgradeTimesBought(\"buyreturngenerator\").gt(Decimal.dZero)\n        ) {\n            getElement(\"returnbox\").style.display = \"block\";\n        }\n\n        const freeNuclearParticles = nuclearParticles.minus(\n            getUpgradeTimesBought(\"nuclearbuy\")\n        );\n        getElement(\n            \"npboosttext\"\n        ).textContent = `Your Nuclear Particles Boost is giving you \n          ${formatDecimal(freeNuclearParticles, 1)} \n          free Nuclear Particles`;\n        const freeNuclearAlphaParticles = nuclearAlphaParticles.minus(\n            getUpgradeTimesBought(\"nuclearalphabuy\")\n        );\n        getElement(\n            \"napboosttext\"\n        ).textContent = `Your Nuclear Alpha Particles Boost is giving you \n          ${formatDecimal(freeNuclearAlphaParticles, 1)} \n          free Nuclear Alpha Particles`;\n\n        getElement(\"counter\").innerHTML = `<span style=\"color: #64ed93\">\n          ${formatBig(player.num)}\n          </span> particles`;\n        getElement(\"clickercounter\").textContent = `You have \n          ${formatBig(player.clickerParticles)} \n          Clicker Particles \n          (${formatBig(clickerParticleGain.times(Decimal.dTen))}\n          /s), which are making Manual Boost \n          ${formatBigSpecific(clickerParticleMult)}\n          x stronger.`;\n        getElement(\"alphacounter\").textContent =\n            formatBig(player.alphaNum) + \" Alpha particles\";\n        getElement(\"betacounter\").textContent =\n            formatBig(player.betaNum) + \" Beta particles\";\n\n        if (getUpgradeTimesBought(\"alphaacc\").eq(Decimal.dZero)) {\n            getElement(\"bangwarn\").style.display = \"block\";\n        } else {\n            getElement(\"bangwarn\").style.display = \"none\";\n        }\n    }\n}\n\nfunction pcaTestConst(): void {\n    if (getUpgradeTimesBought(\"unlockpca\").eq(Decimal.dOne)) {\n        getElement(\"pcashow\").style.display = \"block\";\n        getElement(\"divunlockpca\").style.display = \"none\";\n        getElement(\"unlockpca\").style.display = \"none\";\n\n        if (player.pcaToggle === true) {\n            if (player.chunkAutobuyerTimeLeft === 0) {\n                player.chunkAutobuyerTimeLeft = player.pcaTime;\n                makechunk();\n            }\n\n            player.chunkAutobuyerTimeLeft--;\n            getElement(\"untilpca\").textContent =\n                format(player.chunkAutobuyerTimeLeft / 10) +\n                \" left until next autobuy\";\n        }\n    }\n}\n\nfunction agaTestConst(): void {\n    if (getUpgradeTimesBought(\"unlockaga\").eq(Decimal.dOne)) {\n        getElement(\"agashow\").style.display = \"block\";\n        getElement(\"divunlockaga\").style.display = \"none\";\n        getElement(\"unlockaga\").style.display = \"none\";\n\n        if (player.agaToggle === true) {\n            if (player.groupAutobuyerTimeLeft === 0) {\n                player.groupAutobuyerTimeLeft = player.agaTime;\n                makegroup();\n            }\n\n            player.groupAutobuyerTimeLeft--;\n            getElement(\"untilaga\").textContent =\n                format(player.groupAutobuyerTimeLeft / 10) +\n                \" left until next autobuy\";\n        }\n    }\n}\n\nfunction baTestConst(): void {\n    if (getUpgradeTimesBought(\"bangautobuyerunlock\").eq(Decimal.dOne)) {\n        getElement(\"bashow\").style.display = \"block\";\n        getElement(\"divbau\").style.display = \"none\";\n        getElement(\"divbauextra\").style.display = \"none\";\n        getElement(\"bangautobuyerunlock\").style.display = \"none\";\n\n        if (player.bangAutobuyerToggle === true) {\n            if (player.bangAutobuyerTimeLeft === 0) {\n                player.bangAutobuyerTimeLeft = player.bangAutobuyerTime;\n                bang();\n            }\n\n            player.bangAutobuyerTimeLeft--;\n            getElement(\"untilba\").textContent =\n                format(player.bangAutobuyerTimeLeft) +\n                \" left until next autobuy\";\n        }\n    }\n}\n\nfunction maTestConst(): void {\n    if (getUpgradeTimesBought(\"mergeautobuyerunlock\").eq(Decimal.dOne)) {\n        getElement(\"mashow\").style.display = \"block\";\n        getElement(\"divmau\").style.display = \"none\";\n        getElement(\"divmauextra\").style.display = \"none\";\n        getElement(\"mergeautobuyerunlock\").style.display = \"none\";\n\n        if (player.mergeAutobuyerToggle === true) {\n            if (player.mergeAutobuyerTimeLeft === 0) {\n                player.mergeAutobuyerTimeLeft = player.mergeAutobuyerTime;\n                merge();\n            }\n\n            player.mergeAutobuyerTimeLeft--;\n            getElement(\"untilma\").textContent =\n                format(player.mergeAutobuyerTimeLeft) +\n                \" left until next autobuy\";\n        }\n    }\n}\n\n\nfunction instantAutobuyers() {\n    //TODO: make this function not look like absolute garbage\n    if (getUpgradeTimesBought(\"GnBBAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.genAutobuyerToggle) {\n            buyUpgrade(\"gen\");\n        }\n        if (player.instantAutobuyers.bbAutobuyerToggle) {\n            buyUpgrade(\"biggerbatches\");\n        }\n        getElement(\"divGnBBA\").style.display = \"none\";\n        getElement(\"divGnBBAhide\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"GBUAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.genBoostTimeAutobuyerToggle) {\n            buyUpgrade(\"genboostuptime\");\n        }\n        if (player.instantAutobuyers.genBoostMultAutobuyerToggle) {\n            buyUpgrade(\"genboostupmult\");\n        }\n        getElement(\"divGBUA\").style.display = \"none\";\n        getElement(\"divGBUAhide\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"MBUAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.manBoost1perClickAutobuyerToggle) {\n            buyUpgrade(\"mbup\");\n        }\n        if (player.instantAutobuyers.manBoost1xperClickAutobuyerToggle) {\n            buyUpgrade(\"mbmult\");\n        }\n        getElement(\"divMBUA\").style.display = \"none\";\n        getElement(\"divMBUAhide\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"NPAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.nuclearParticlesAutobuyerToggle) {\n            buyUpgrade(\"nuclearbuy\");\n        }\n        if (player.instantAutobuyers.nuclearAlphaParticlesAutobuyerToggle) {\n            buyUpgrade(\"nuclearalphabuy\");\n        }\n        getElement(\"divNPA\").style.display = \"none\";\n        getElement(\"divNPAhide\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"AAccAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.AlphaAccAutobuyerToggle) {\n            buyUpgrade(\"alphaacc\");\n        }\n        getElement(\"divAAccA\").style.display = \"none\";\n        getElement(\"divAAccAhide\").style.display = \"block\";\n    }\n    if (getUpgradeTimesBought(\"SAunlock\").eq(Decimal.dOne)) {\n        if (player.instantAutobuyers.SpeedAutobuyerToggle) {\n            buyUpgrade(\"speed\");\n        }\n        getElement(\"divSA\").style.display = \"none\";\n        getElement(\"divSAhide\").style.display = \"block\";\n    }\n}\n\n/**\n * Function responsible for keeping track of time left before next autosave and autosaving when needed.\n */\nfunction savinginloop(): void {\n    playerSettings.autoSaveDelay--;\n\n    if (playerSettings.autoSaveDelay === 0) {\n        playerSettings.autoSaveDelay = playerSettings.autoSaveSet;\n        save();\n    }\n}\n\n\nfunction arbitraryHighlight(h: string) {\n    if(playerSettings.themeNumber > 2 && playerSettings.themeNumber < 5) {\n        getElement(h).style.setProperty('border', '1px solid #00FF00')\n        getElement(h).style.setProperty('box-shadow', 'inset 0 0 5px #00FF00')\n    }\n    else if(playerSettings.themeNumber === 7) {\n        getElement(h).style.setProperty('border', '1px solid #FFFFFF')\n        getElement(h).style.setProperty('box-shadow', 'inset 0 0 5px #FFFFFF')\n    }\n    else if(playerSettings.themeNumber > 5) {\n        getElement(h).style.setProperty('border', '1px solid #000000')\n        getElement(h).style.setProperty('box-shadow', 'inset 0 0 5px #000000')\n    }\n    else {\n        getElement(h).style.setProperty('border', '1px solid #888888')\n        getElement(h).style.setProperty('box-shadow', 'inset 0 0 5px #888888')\n    }\n    getElement(h).style.setProperty('cursor', 'pointer')\n}\n\nfunction costHighlightHandle(upgradeName: UpgradeName): void {\n    const upgrade = upgrades[upgradeName];\n    const cost = getUpgradeCost(upgradeName);\n\n    if (player[upgrade.currency].gte(cost)) {\n        arbitraryHighlight(upgrade.buttonDiv)\n    }\n    else {\n        getElement(upgrade.buttonDiv).style.setProperty('border', '1px solid #333333')\n        getElement(upgrade.buttonDiv).style.setProperty('box-shadow', 'none')\n        getElement(upgrade.buttonDiv).style.setProperty('cursor', 'not-allowed')\n    }\n}\n\nfunction costHighlighting(): void {\n    let key: UpgradeName\n\n    for(key in upgrades) {\n       costHighlightHandle(key)\n    }\n}\n\narbitraryHighlight(\"manualboost\");\narbitraryHighlight(\"generatorboost\");\n\n//Game loop, repeatedly run every 100ms.\nsetInterval(() => {\n    passiveUnlockDisplay();\n    pcaTestConst();\n    agaTestConst();\n    baTestConst();\n    maTestConst();\n    fgbTestConst();\n    instantAutobuyers();\n\n    costHighlighting();\n    if(player.num.gte(getUpgradeCost(\"speed\"))) {\n        arbitraryHighlight(\"fiftyspeed\")\n    }\n    else {\n        getElement(\"fiftyspeed\").style.setProperty('border', '1px solid #333333')\n        getElement(\"fiftyspeed\").style.setProperty('box-shadow', 'none')\n        getElement(\"fiftyspeed\").style.setProperty('cursor', 'not-allowed')\n    }\n\n    getElement(\"stat\").textContent = JSON.stringify(player)\n        .replace(/\",\"/g, '\",\\n\"')\n        .replace(/},\"/g, '\",\\n\"');\n\n    savinginloop();\n}, 100);\n\n/**\n * Adds a D# to Decimal type numbers in the savefile so they can be differentiated from regular numbers when loading.\n */\nfunction saveReplace(_key: string, value: unknown): unknown {\n    if (value instanceof Decimal) return \"D#\" + value.toString();\n    return value;\n}\n\n/**\n * Saves the game settings and writes them into localStorage.\n */\nfunction saveSettings(): void {\n    const settingfile = JSON.stringify(playerSettings);\n    localStorage.setItem(location.pathname + \"settings\", settingfile);\n}\n\nwindow.saveSettings = saveSettings;\n\n/**\n * Saves the game and writes savefile into localStorage.\n */\nfunction save(): string {\n    const savefile = btoa(JSON.stringify(player, saveReplace));\n    localStorage.setItem(location.pathname, savefile);\n    saveSettings();\n    return savefile;\n}\n\nwindow.save = save;\n\n/**\n * Resets player's savefile and makes a backup of it.\n */\nwindow.reset = function (): void {\n    saveSettings();\n    localStorage.removeItem(location.pathname);\n\n    //make backup save\n    const savefile = JSON.stringify(player, saveReplace);\n    localStorage.setItem(location.pathname + \"backupsave\", savefile);\n    location.reload();\n};\n"],"names":["_classCallCheck","instance","Constructor","_defineProperties","target","props","i","descriptor","_createClass","protoProps","staticProps","LRUCache","maxSize","key","node","value","ListNode","last","MAX_SIGNIFICANT_DIGITS","EXP_LIMIT","LAYER_DOWN","FIRST_NEG_LAYER","NUMBER_EXP_MAX","NUMBER_EXP_MIN","MAX_ES_IN_A_ROW","DEFAULT_FROM_STRING_CACHE_SIZE","powerOf10","powersOf10","indexOf0InPowersOf10","power","critical_headers","critical_tetr_values","critical_slog_values","D","Decimal","FC","sign","layer","mag","FC_NN","decimalPlaces","places","len","numDigits","rounded","f_maglog10","n","f_gamma","scal1","l","n2","np","_EXPN1","OMEGA","f_lambertw","z","tol","w","wn","d_lambertw","ew","wewz","exp","man","residue","absmag","signmag","mantissa","exponent","linearhyper4","originalValue","cached","pentationparts","_base","_height","heightparts","payload","result","tetrationparts","_base2","_height2","_heightparts","_payload","_result","powparts","_base3","_exponent","_result2","base","height","ptparts","_payload2","_result3","_payload3","_result4","_payload4","_result5","parts","ecount","numberAttempt","_numberAttempt","newparts","layerstring","chrcode","me","_result6","decimal","a","b","layera","layerb","magdiff","_magdiff","_mantissa","_magdiff2","_mantissa2","newmag","_newmag","num_this","num_decimal","_isFinite2","isFinite","min","max","tolerance","magA","magB","t","lm","adj","l2","lt","linear","this_num","negln","oldheight","fracheight","old_payload","next_payload","_i","times","fulltimes","fraction","layerloss","iterations","step_size","has_changed_directions_once","previously_rose","new_decimal","currently_rose","copy","diff","layeradd","_layeradd","slogthis","slogdest","degree","upperBound","lower","upper","previous","guess","loopGoing","stage","minimum","maximum","_lower","_upper","prevspan","difference","_upperBound","distance","prevPoint","nextPoint","evenDegree","range","lastValid","infLoopDetector","previousUpper","decreasingFound","cutOff","_cutOff","_previous","_guess","_loopGoing","ascensions","other","_isNaN","isNaN","_x","_isFinite","_x2","_other","resourcesAvailable","priceStart","priceRatio","currentOwned","numItems","priceAdd","cost","currentRpS","deltaRpS","maxLayers","randomsign","randomexp","randommag","actualStart","b2","grid","basefrac","frac","trunc","x","length","digitsCount","formatDecimal","d","ePlaces","format","formatBig","formatBigSpecific","assertElementType","element","type","getElement","id","operatorMap","isOperator","onDecimal","is","lookup","fn","start","terms","first","rest","splitArgs","token","operand","args","left","method","arr","head","onBought","isUpgradeName","getUpgradeTimesBought","onBoughtInc","player","playerSettings","updateGame","loadSettings","settings","decodedSettings","deepMerge","saveRevive","_key","source","data","newSource","load","save","backup","isAutobuyerName","UpgradeNames","getUpgradeCost","upgradeName","setUpgradeCost","newCost","music","musicState","startMusic","currencyName","UpdateCostDisplay","elementID","variable","currency","precision","upgrades","upgradeAmount","scaleGen","scaleMultiplier","scaleSpeed","GBTExtra","GBMExtra","NBExtra","MachineExtra","scaleBangSpeed","PCAExtra","NABExtra","GBDExtra","scaleBA","BAExtra","BSExtra","scaleReactorUpMult","scaleReactorUpTime","scaleOmegaAlphaWeak","scaleOmegaAlpha","AGAExtra","MAExtra","OBExtra","multiplier","nuclearParticles","nuclearAlphaParticles","buyUpgrade","upgrade","oldCost","achievementContainer","createAchievementHTML","newDiv","features","goal","nextFeatureHandler","feature","featureCurrency","nextGoal","percentage","divEntireBody","whatTheme","tabOpenFactory","tabOpenAlpha","tabOpenBeta","tabOpenGamma","tabOpenDelta","tabOpenOmega","tabOpenOmegaOmega","tabOpenReactor","tabOpenStats","tabOpenAchievements","tabOpenDev","devToggle","autosaveElement","divTogglePcaElement","untilPcaElement","divToggleAgaElement","untilAgaElement","delayArray","themes","themeExec","theme","textColor","bgColor","buttonColor","borderColor","gradientColor","buttonGradientOverride","themeName","disableGradient","className","className2","className3","arbitraryHighlight","saveSettings","prePUD","passiveUnlockDisplay","devToolsVisibilityUpdate","autoSaveSet","delay","pcaTestSingle","agaTestSingle","baTestSingle","maTestSingle","fgbTestSingle","instantAutobuyerState","autobuyerVar","autobuyerDiv","amountUpdate","autobuyerName","loadMisc","makeElementMap","names","tabElements","tabOmegaElements","hideElements","elements","name","tab","savefile","machineProd","clickerParticleMult","reactor","NAPfactor","BPfactor","MBfactor","GBfactor","totalBoostFromNP","totalBoostFromNAP","totalMBBoost","reactorHandler","NAPtoggle","BPtoggle","MBtoggle","GBtoggle","gain","makechunk","bang","makegroup","merge","fuelType","bulk","alphaFromReturn","returnParticleHandler","fgbTestConst","boostsacmult","alphaGain","betaGain","abgbBoost","bpGain","percentBoostDisplay","clickerParticleGain","freeNuclearParticles","freeNuclearAlphaParticles","pcaTestConst","agaTestConst","baTestConst","maTestConst","instantAutobuyers","savinginloop","h","costHighlightHandle","costHighlighting","saveReplace","settingfile"],"mappings":"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","x_google_ignoreList":[0]}